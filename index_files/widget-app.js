/**
 * CrowdTwist Widgets
 * Generated at 2022-04-13T21:34:00.395Z
 * 
 * Open Source Attribution:
 * 
 * Angular Debounce - v0.1.7
 * Project Site: https://github.com/shahata/angular-debounce
 * Copyright: Copyright (c) 2013 Steve
 * License: MIT License
 * License Text: The MIT License (MIT) 
 *  
 * Copyright (c) 2013 Steve 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy of 
 * this software and associated documentation files (the "Software"), to deal in 
 * the Software without restriction, including without limitation the rights to 
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of 
 * the Software, and to permit persons to whom the Software is furnished to do so, 
 * subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in all 
 * copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS 
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR 
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER 
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN 
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * Angular UI Bootstrap Typeahead - v0.13.0
 * Project Site: https://github.com/angular-ui/bootstrap
 * Copyright: Copyright (c) 2012-2014 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112
 * License: MIT License
 * License Text: The MIT License 
 *  
 * Copyright (c) 2012-2014 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in 
 * all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE. 
 * 
 * 
 * AngularJS - v1.6.6
 * Project Site: https://github.com/angular/angular.js
 * Copyright: Copyright (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT License
 * License Text: The MIT License 
 *  
 * Copyright (c) 2010-2017 Google, Inc. http://angularjs.org 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in 
 * all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 * 
 * AngularUI Router - v1.0.10
 * Project Site: https://github.com/angular-ui/ui-router
 * Copyright: Copyright (c) 2013-2015 The AngularUI Team, Karsten Sperling
 * License: MIT License
 * License Text: The MIT License 
 *  
 * Copyright (c) 2013-2015 The AngularUI Team, Karsten Sperling 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in 
 * all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 * 
 * Chartist.JS - v0.11.4
 * Project Site: https://gionkunz.github.io/chartist-js/
 * Copyright: Copyright (C) 2013 Gion Kunz <gion.kunz@gmail.com>
 * License: MIT License or WTFPL
 * License Text: MIT 
 *  
 * Copyright (c) 2013 Gion Kunz <gion.kunz@gmail.com> 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
 *  
 *  DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE 
 *                     Version 2, December 2004 
 *  
 *  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net> 
 *  
 *  Everyone is permitted to copy and distribute verbatim or modified 
 *  copies of this license document, and changing it is allowed as long 
 *  as the name is changed. 
 *  
 *             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE 
 *    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION 
 *  
 *   0. You just DO WHAT THE FUCK YOU WANT TO.
 * 
 * Date.js - v1.0 Alpha-1
 * Project Site: https://github.com/datejs/Datejs
 * Copyright: Copyright 2008-2015 Object.NET, Inc.
 * License: Apache 2.0
 * License Text: Copyright 2008-2015 Object.NET, Inc. 
 *  
 * Licensed under the Apache License, Version 2.0 (the "License"); 
 * you may not use this file except in compliance with the License. 
 * You may obtain a copy of the License at 
 *  
 *     http://www.apache.org/licenses/LICENSE-2.0 
 *  
 * Unless required by applicable law or agreed to in writing, software 
 * distributed under the License is distributed on an "AS IS" BASIS, 
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
 * See the License for the specific language governing permissions and 
 * limitations under the License. 
 *  
 * Contact: 
 *     https://object.net 
 *     hello@object.net 
 *     +1(888)775-5888 
 *     
 * 
 * ES5 Shim - v4.5.9
 * Project Site: https://github.com/es-shims/es5-shim
 * Copyright: Copyright (C) 2009-2016 Kristopher Michael Kowal and contributors
 * License: MIT License
 * License Text: The MIT License (MIT) 
 *  
 * Copyright (C) 2009-2014 Kristopher Michael Kowal and contributors 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in 
 * all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 * 
 * ES6 Shim - v0.35.4
 * Project Site: https://github.com/paulmillr/es6-shim
 * Copyright: Copyright (c) 2013-2016 Paul Miller (http://paulmillr.com) and contributors
 * License: MIT License
 * License Text: The project was initially based on [es6-shim by Axel Rauschmayer] 
 * (https://github.com/rauschma/es6-shim). 
 *  
 * Current maintainers are:  
 * [Paul Miller](http://paulmillr.com), 
 * [Jordan Harband](https://github.com/ljharb), 
 * and [C. Scott Ananian](http://cscott.net). 
 *  
 * The MIT License (MIT) 
 *  
 * Copyright (c) 2013-2016 Paul Miller (http://paulmillr.com) and contributors 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in 
 * all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 * 
 * Font Awesome - v4.0.3
 * Project Site: https://github.com/FortAwesome/Font-Awesome
 * Copyright: Font Awesome by Dave Gandy - http://fontawesome.io
 * License: SIL OFL 1.1
 * License Text: Font Awesome by Dave Gandy - http://fontawesome.io
 * 
 * Jade / Pug - v
 * Project Site: https://github.com/pugjs/pug
 * Copyright: Copyright (c) 2009-2014 TJ Holowaychuk <tj@vision-media.ca>
 * License: MIT License
 * License Text: (The MIT License) 
 *  
 * Copyright (c) 2009-2014 TJ Holowaychuk <tj@vision-media.ca> 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY 
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, 
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * jQuery - v1.9.0
 * Project Site: https://github.com/jquery/jquery
 * Copyright: Copyright 2012 jQuery Foundation and other contributors http://jquery.com/
 * License: MIT License
 * License Text: Copyright 2012 jQuery Foundation and other contributors 
 * http://jquery.com/ 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * jQuery Placeholder - v2.3.1
 * Project Site: https://github.com/mathiasbynens/jquery-placeholder
 * Copyright: Copyright Mathias Bynens <http://mathiasbynens.be/>
 * License: MIT License
 * License Text: Copyright Mathias Bynens <http://mathiasbynens.be/> 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * JSON 3 - v3.3.2
 * Project Site: https://github.com/bestiejs/json3
 * Copyright: Copyright (c) 2012-2015 Kit Cambridge. 
 * http://kitcambridge.be/ 
 *  
 * Copyright (c) 2013-2015 Benjamin Tan. 
 * https://d10.github.io/
 * License: MIT License
 * License Text: Copyright (c) 2012-2015 Kit Cambridge. 
 * http://kitcambridge.be/ 
 *  
 * Copyright (c) 2013-2015 Benjamin Tan. 
 * https://d10.github.io/ 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy of 
 * this software and associated documentation files (the "Software"), to deal in 
 * the Software without restriction, including without limitation the rights to 
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies 
 * of the Software, and to permit persons to whom the Software is furnished to do 
 * so, subject to the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be included in all 
 * copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
 * SOFTWARE. 
 * 
 * 
 * Lodash - v4.17.10
 * Project Site: https://github.com/lodash/lodash
 * Copyright: Copyright JS Foundation and other contributors <https://js.foundation/>
 * License: MIT License
 * License Text: Copyright JS Foundation and other contributors <https://js.foundation/> 
 *  
 * Based on Underscore.js, copyright Jeremy Ashkenas, 
 * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/> 
 *  
 * This software consists of voluntary contributions made by many 
 * individuals. For exact contribution history, see the revision history 
 * available at https://github.com/lodash/lodash 
 *  
 * The following license applies to all parts of this software except as 
 * documented below: 
 *  
 * ==== 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
 *  
 * ==== 
 *  
 * Copyright and related rights for sample code are waived via CC0. Sample 
 * code is defined as all source code displayed within the prose of the 
 * documentation. 
 *  
 * CC0: http://creativecommons.org/publicdomain/zero/1.0/ 
 *  
 * ==== 
 *  
 * Files located in the node_modules and vendor directories are externally 
 * maintained libraries used by this software which have their own 
 * licenses; we recommend you read them, as their terms may differ from the 
 * terms above.
 * 
 * Moment.js - v2.1.0
 * Project Site: https://github.com/moment/moment
 * Copyright: Copyright (c) 2011-2012 Tim Wood
 * License: MIT License
 * License Text: Copyright (c) 2011-2012 Tim Wood 
 *  
 * Permission is hereby granted, free of charge, to any person 
 * obtaining a copy of this software and associated documentation 
 * files (the "Software"), to deal in the Software without 
 * restriction, including without limitation the rights to use, 
 * copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the 
 * Software is furnished to do so, subject to the following 
 * conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING 
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR 
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * Polyfill Array Includes - v2.0.0
 * Project Site: https://github.com/kevlatus/polyfill-array-includes
 * Copyright: 
 * License: MIT License
 * License Text: Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * RequireJS - v2.3.5
 * Project Site: https://github.com/requirejs/requirejs
 * Copyright: Copyright jQuery Foundation and other contributors, https://jquery.org/
 * License: MIT License
 * License Text: Copyright jQuery Foundation and other contributors, https://jquery.org/ 
 *  
 * This software consists of voluntary contributions made by many 
 * individuals. For exact contribution history, see the revision history 
 * available at https://github.com/requirejs/requirejs 
 *  
 * The following license applies to all parts of this software except as 
 * documented below: 
 *  
 * ==== 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
 *  
 * ==== 
 *  
 * Copyright and related rights for sample code are waived via CC0. Sample 
 * code is defined as all source code displayed within the prose of the 
 * documentation. 
 *  
 * CC0: http://creativecommons.org/publicdomain/zero/1.0/ 
 *  
 * ==== 
 *  
 * Files located in the node_modules directory, and certain utilities used 
 * to build or test the software in the test and dist directories, are 
 * externally maintained libraries used by this software which have their own 
 * licenses; we recommend you read them, as their terms may differ from the 
 * terms above.
 * 
 * time.js - v1.0 Alpha-1
 * Project Site: https://github.com/datejs/Datejs/blob/f2bf786dc0f22c0f676f05fa98c83d6796182c48/src/time.js
 * Copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * License: MIT License
 * License Text: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved. 
 *  
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the 
 * "Software"), to deal in the Software without restriction, including 
 * without limitation the rights to use, copy, modify, merge, publish, 
 * distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to 
 * the following conditions: 
 *  
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software. 
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION 
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

/**
 * @license AngularJS v1.6.6
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*
---
name: Facebook Angularjs

description: Provides an easier way to make use of Facebook API with Angularjs

license: MIT-style license

authors:
  - Ciul

requires: [angular]
provides: [facebook]

...
*/

// license : MIT
// momentjs.com

/**
 * Version: 1.0 Alpha-1 
 * Build Date: 13-Nov-2007
 * Copyright (c) 2006-2007, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * License: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * Website: http://www.datejs.com/ or http://www.coolite.com/datejs/
 */

/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-04-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.
 * @website: http://www.datejs.com/
 */

/* Chartist.js 0.11.4
 * Copyright Â© 2019 Gion Kunz
 * Free to use under either the WTFPL license or the MIT license.
 * https://raw.githubusercontent.com/gionkunz/chartist-js/master/LICENSE-WTFPL
 * https://raw.githubusercontent.com/gionkunz/chartist-js/master/LICENSE-MIT
 */

/**
   * Parses an SVG path seen in the d attribute of path elements, and inserts the parsed elements into the existing path object at the current cursor position. Any closing path indicators (Z at the end of the path) will be ignored by the parser as this is provided by the close option in the options of the path object.
   *
   * @memberof Chartist.Svg.Path
   * @param {String} path Any SVG path that contains move (m), line (l) or curve (c) components.
   * @return {Chartist.Svg.Path} The current path object for easy call chaining.
   */

/**
 * State-based routing for AngularJS 1.x
 * NOTICE: This monolithic bundle also bundles the @uirouter/core code.
 *         This causes it to be incompatible with plugins that depend on @uirouter/core.
 *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.
 *         For more information, see https://ui-router.github.io/blog/uirouter-for-angularjs-umd-bundles
 * @version v1.0.10
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/**
     * Returns true if the provided parameter is the same state.
     *
     * Compares the identity of the state against the passed value, which is either an object
     * reference to the actual `State` instance, the original definition object passed to
     * `$stateProvider.state()`, or the fully-qualified name.
     *
     * @param ref Can be one of (a) a `State` instance, (b) an object that was passed
     *        into `$stateProvider.state()`, (c) the fully-qualified name of a state as a string.
     * @returns Returns `true` if `ref` matches the current `State` instance.
     */

/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

var requirejs,require,define;!function(e){function t(e,t){return y.call(e,t)}function n(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h=t&&t.split("/"),g=m.map,v=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,m.nodeIdCompat&&b.test(e[a])&&(e[a]=e[a].replace(b,"")),"."===e[0].charAt(0)&&h&&(f=h.slice(0,h.length-1),e=f.concat(e)),l=0;l<e.length;l++)if("."===(p=e[l]))e.splice(l,1),l-=1;else if(".."===p){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((h||v)&&g){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),h)for(d=h.length;d>0;d-=1)if((i=g[h.slice(0,d).join("/")])&&(i=i[r])){o=i,s=l;break}if(o)break;!c&&v&&v[r]&&(c=v[r],u=l)}!o&&c&&(o=c,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function r(t,n){return function(){var r=w.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),d.apply(e,r.concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function a(n){if(t(g,n)){var r=g[n];delete g[n],v[n]=!0,l.apply(e,r)}if(!t(h,n)&&!t(v,n))throw new Error("No "+n);return h[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return e?s(e):[]}function u(e){return function(){return m&&m.config&&m.config[e]||{}}}var l,d,p,f,h={},g={},m={},v={},y=Object.prototype.hasOwnProperty,w=[].slice,b=/\.js$/;p=function(e,t){var r,o=s(e),c=o[0],u=t[1];return e=o[1],c&&(c=n(c,u),r=a(c)),c?e=r&&r.normalize?r.normalize(e,i(u)):n(e,u):(e=n(e,u),o=s(e),c=o[0],e=o[1],c&&(r=a(c))),{f:c?c+"!"+e:e,n:e,pr:c,p:r}},f={require:function(e){return r(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:u(e)}}},l=function(n,i,s,u){var l,d,m,y,w,b,_,x=[],A=typeof s;if(u=u||n,b=c(u),"undefined"===A||"function"===A){for(i=!i.length&&s.length?["require","exports","module"]:i,w=0;w<i.length;w+=1)if(y=p(i[w],b),"require"===(d=y.f))x[w]=f.require(n);else if("exports"===d)x[w]=f.exports(n),_=!0;else if("module"===d)l=x[w]=f.module(n);else if(t(h,d)||t(g,d)||t(v,d))x[w]=a(d);else{if(!y.p)throw new Error(n+" missing "+d);y.p.load(y.n,r(u,!0),o(d),{}),x[w]=h[d]}m=s?s.apply(h[n],x):void 0,n&&(l&&l.exports!==e&&l.exports!==h[n]?h[n]=l.exports:m===e&&_||(h[n]=m))}else n&&(h[n]=s)},requirejs=require=d=function(t,n,r,i,o){if("string"==typeof t)return f[t]?f[t](n):a(p(t,c(n)).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?l(e,t,n,r):setTimeout(function(){l(e,t,n,r)},4),d},d.config=function(e){return d(e)},requirejs._defined=h,define=function(e,n,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),t(h,e)||t(g,e)||(g[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(e){function t(t){return"function"==typeof p[t]&&(p[t]=p[t](e,c,u)),p[t]}function n(t,n,r){p[t]=r?n(e,c,u):n}function r(e,t){var n=!1,r=e.charAt(0).toUpperCase()+e.slice(1),i=s.length,o=t.style;if("string"==typeof o[e])n=!0;else for(;i--;)if("string"==typeof o[s[i]+r]){n=!0;break}return n}function i(e){if(e)for(;e.lastChild;)e.removeChild(e.lastChild);return e}function o(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!a[n]}var a={boolean:1,number:1,string:1,undefined:1},s=["Webkit","Moz","O","ms","Khtml"],c=o(e,"document")&&e.document,u=c&&o(c,"createElement")&&c.createElement("DiV"),l="object"==typeof exports&&exports,d="object"==typeof module&&module,p={};t.add=n,t.clearElement=i,t.cssprop=r,t.isHostType=o,t._tests=p,t.add("dom",function(e,t,n){return t&&n&&o(e,"location")&&o(t,"documentElement")&&o(t,"getElementById")&&o(t,"getElementsByName")&&o(t,"getElementsByTagName")&&o(t,"createComment")&&o(t,"createElement")&&o(t,"createTextNode")&&o(n,"appendChild")&&o(n,"insertBefore")&&o(n,"removeChild")&&o(n,"getAttribute")&&o(n,"setAttribute")&&o(n,"removeAttribute")&&o(n,"style")&&"string"==typeof n.style.cssText});try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("has",[],function(){return t}):l?d&&d.exports==l?(d.exports=t).has=t:l.has=t:e.has=t}(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/abstract_controller",["require","has"],function(t){var n,r;return t("has"),r=function(e){var t;return t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t),t},n=function(){function t(t,n,i,o,a,s,c,u){var l,d;this.eventHelper=a,this.$log=u,this.out=e(this.out,this),this.in=e(this.in,this),this.on=e(this.on,this),this.down=e(this.down,this),this.up=e(this.up,this),this.event=e(this.event,this),window.addEventListener("keydown",function(e){return function(t){if("Escape"===t.key||"Esc"===t.key)return e.eventHelper.up("modal:close")}}(this)),t.user=o,t.logOutState=null!=s?s.logOutState:void 0,this.run&&c.invoke(this.run,this,{$scope:t}),(d=null!=s?s.cssUrl:void 0)&&(l=r(d)),c.instantiate(this.config).load().then(function(e){return function(t){return"function"==typeof e.onDataLoad?e.onDataLoad(t):void 0}}(this),function(){c.get("ctWidgetEventHelper").down("remove")}),t.$on("$destroy",function(e){return function(){var t,n,r,i;for(null!=l&&document.head.removeChild(l),r=e.listeners,t=0,n=r.length;t<n;t++)(0,r[t])();for(i=[];e.listeners.length>0;)i.push(e.listeners.pop());return i}}(this))}return t.prototype.event=function(e,t,n,r){return null==t&&(t=null),null==n&&(n="up"),null==r&&(r={}),this.eventHelper.event(e,t,n,r)},t.prototype.up=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"up",n)},t.prototype.down=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"down",n)},t.prototype.listeners=[],t.prototype.on=function(e,t){return this.listeners.push(this.eventHelper.on(e,t))},t.prototype.in=function(e,t){return this.listeners.push(this.eventHelper.in(e,t))},t.prototype.out=function(e,t){return this.listeners.push(this.eventHelper.out(e,t))},t}(),n.$inject=["$scope","$stateParams","ctTheme","ctUser","ctWidgetEventHelper","widgetConf","$injector","$log"],n})}.call(this),function(e,t){function n(e){var t=e.length,n=se.type(e);return!se.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=xe[e]={};return se.each(e.match(ue)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(se.acceptData(e)){var o,a,s=se.expando,c="string"==typeof n,u=e.nodeType,l=u?se.cache:e,d=u?e[s]:e[s]&&s;if(d&&l[d]&&(i||l[d].data)||!c||r!==t)return d||(u?e[s]=d=X.pop()||se.guid++:d=s),l[d]||(l[d]={},u||(l[d].toJSON=se.noop)),"object"!=typeof n&&"function"!=typeof n||(i?l[d]=se.extend(l[d],n):l[d].data=se.extend(l[d].data,n)),o=l[d],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[se.camelCase(n)]=r),c?null==(a=o[n])&&(a=o[se.camelCase(n)]):a=o,a}}function o(e,t,n){if(se.acceptData(e)){var r,i,o,a=e.nodeType,c=a?se.cache:e,u=a?e[se.expando]:se.expando;if(c[u]){if(t&&(o=n?c[u]:c[u].data)){se.isArray(t)?t=t.concat(se.map(t,se.camelCase)):t in o?t=[t]:(t=se.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;r<i;r++)delete o[t[r]];if(!(n?s:se.isEmptyObject)(o))return}(n||(delete c[u].data,s(c[u])))&&(a?se.cleanData([e],!0):se.support.deleteExpando||c!=c.window?delete c[u]:c[u]=null)}}}function a(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(Ce,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:Ae.test(r)?se.parseJSON(r):r)}catch(e){}se.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!se.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(){return!0}function u(){return!1}function l(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,se.isFunction(t))return se.grep(e,function(e,r){return!!t.call(e,r,e)===n});if(t.nodeType)return se.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=se.grep(e,function(e){return 1===e.nodeType});if(He.test(t))return se.filter(t,r,!n);t=se.filter(t,r)}return se.grep(e,function(e){return se.inArray(e,t)>=0===n})}function p(e){var t=ze.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function g(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)se._data(n,"globalEval",!t||se._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&se.hasData(e)){var n,r,i,o=se._data(e),a=se._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)se.event.add(t,n,s[n][r])}a.data&&(a.data=se.extend({},a.data))}}function y(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!se.support.noCloneEvent&&t[se.expando]){i=se._data(t);for(r in i.events)se.removeEvent(t,r,i.handle);t.removeAttribute(se.expando)}"script"===n&&t.text!==e.text?(h(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),se.support.html5Clone&&e.innerHTML&&!se.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function w(e,n){var r,i,o=0,a=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],r=e.childNodes||e;null!=(i=r[o]);o++)!n||se.nodeName(i,n)?a.push(i):se.merge(a,w(i,n));return n===t||n&&se.nodeName(e,n)?se.merge([e],a):a}function b(e){et.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=At.length;i--;)if((t=At[i]+n)in e)return t;return r}function x(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=se._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&x(r)&&(o[a]=se._data(r,"olddisplay",k(r.nodeName)))):o[a]||(i=x(r),(n&&"none"!==n||!i)&&se._data(r,"olddisplay",i?n:se.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function C(e,t,n){var r=mt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=se.css(e,n+xt[o],!0,i)),r?("content"===n&&(a-=se.css(e,"padding"+xt[o],!0,i)),"margin"!==n&&(a-=se.css(e,"border"+xt[o]+"Width",!0,i))):(a+=se.css(e,"padding"+xt[o],!0,i),"padding"!==n&&(a+=se.css(e,"border"+xt[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=ut(e),a=se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=lt(e,t,o),(i<0||null==i)&&(i=e.style[t]),vt.test(i))return i;r=a&&(se.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function k(e){var t=K,n=wt[e];return n||(n=$(e,t),"none"!==n&&n||(ct=(ct||se("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=$(e,t),ct.detach()),wt[e]=n),n}function $(e,t){var n=se(t.createElement(e)).appendTo(t.body),r=se.css(n[0],"display");return n.remove(),r}function S(e,t,n,r){var i;if(se.isArray(t))se.each(t,function(t,i){n||Et.test(e)?r(e,i):S(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==se.type(t))r(e,t);else for(i in t)S(e+"["+i+"]",t[i],n,r)}function q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ue)||[];if(se.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,t,n,r){function i(s){var c;return o[s]=!0,se.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(c=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),c}var o={},a=e===Ht;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,n){var r,i,o=se.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&se.extend(!0,e,r),e}function D(e,n,r){var i,o,a,s,c=e.contents,u=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);for(;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in c)if(c[s]&&c[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}if(a)return a!==u[0]&&u.unshift(a),r[a]}function R(e,t){var n,r,i,o,a={},s=0,c=e.dataTypes.slice(),u=c[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=c[++s];)if("*"!==r){if("*"!==u&&u!==r){if(!(i=a[u+" "+r]||a["* "+r]))for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[u+" "+o[0]]||a["* "+o[0]])){!0===i?i=a[n]:!0!==a[n]&&(r=o[0],c.splice(s--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+u+" to "+r}}}u=r}return{state:"success",data:t}}function F(){try{return new e.XMLHttpRequest}catch(e){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Wt=t}),Wt=se.now()}function B(e,t){se.each(t,function(t,n){for(var r=(nn[t]||[]).concat(nn["*"]),i=0,o=r.length;i<o;i++)if(r[i].call(e,t,n))return})}function L(e,t,n){var r,i,o=0,a=tn.length,s=se.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=Wt||O(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,c=u.tweens.length;a<c;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&c?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Wt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var r=se.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),l=u.props;for(U(l,u.opts.specialEasing);o<a;o++)if(r=tn[o].call(u,e,l,u.opts))return r;return B(u,l),se.isFunction(u.opts.start)&&u.opts.start.call(e,u),se.fx.timer(se.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e,t){var n,r,i,o,a;for(i in e)if(r=se.camelCase(i),o=t[r],n=e[i],se.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),(a=se.cssHooks[r])&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}function N(e,t,n){var r,i,o,a,s,c,u,l,d,p=this,f=e.style,h={},g=[],m=e.nodeType&&x(e);n.queue||(l=se._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,d=l.empty.fire,l.empty.fire=function(){l.unqueued||d()}),l.unqueued++,p.always(function(){p.always(function(){l.unqueued--,se.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===se.css(e,"display")&&"none"===se.css(e,"float")&&(se.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",se.support.shrinkWrapBlocks||p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Zt.exec(a)){if(delete t[i],c=c||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=se._data(e,"fxshow")||se._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),c&&(s.hidden=!m),m?se(e).show():p.done(function(){se(e).hide()}),p.done(function(){var t;se._removeData(e,"fxshow");for(t in h)se.style(e,t,h[t])});for(i=0;i<o;i++)r=g[i],u=p.createTween(r,m?s[r]:0),h[r]=s[r]||se.style(e,r),r in s||(s[r]=u.start,m&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function Q(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=xt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function j(e){return se.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var z,V,G=typeof t,K=e.document,Y=e.location,W=e.jQuery,J=e.$,Z={},X=[],ee=X.concat,te=X.push,ne=X.slice,re=X.indexOf,ie=Z.toString,oe=Z.hasOwnProperty,ae="1.9.1".trim,se=function(e,t){return new se.fn.init(e,t,V)},ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^[\],:{}\s]*$/,he=/(?:^|:|,)(?:\s*\[)+/g,ge=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,me=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ve=/^-ms-/,ye=/-([\da-z])/gi,we=function(e,t){return t.toUpperCase()},be=function(e){(K.addEventListener||"load"===e.type||"complete"===K.readyState)&&(_e(),se.ready())},_e=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",be,!1),e.removeEventListener("load",be,!1)):(K.detachEvent("onreadystatechange",be),e.detachEvent("onload",be))};se.fn=se.prototype={jquery:"1.9.1",constructor:se,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:de.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof se?n[0]:n,se.merge(this,se.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:K,!0)),pe.test(i[1])&&se.isPlainObject(n))for(i in n)se.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if((o=K.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ne.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return se.each(this,e,t)},ready:function(e){return se.ready.promise().done(e),this},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(se.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:te,sort:[].sort,splice:[].splice},se.fn.init.prototype=se.fn,se.extend=se.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},c=2),"object"==typeof s||se.isFunction(s)||(s={}),u===c&&(s=this,--c);c<u;c++)if(null!=(o=arguments[c]))for(i in o)e=s[i],r=o[i],s!==r&&(l&&r&&(se.isPlainObject(r)||(n=se.isArray(r)))?(n?(n=!1,a=e&&se.isArray(e)?e:[]):a=e&&se.isPlainObject(e)?e:{},s[i]=se.extend(l,a,r)):r!==t&&(s[i]=r));return s},se.extend({noConflict:function(t){return e.$===se&&(e.$=J),t&&e.jQuery===se&&(e.jQuery=W),se},isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){if(!0===e?!--se.readyWait:!se.isReady){if(!K.body)return setTimeout(se.ready);se.isReady=!0,!0!==e&&--se.readyWait>0||(z.resolveWith(K,[se]),se.fn.trigger&&se(K).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray||function(e){return"array"===se.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[ie.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==se.type(e)||e.nodeType||se.isWindow(e))return!1;try{if(e.constructor&&!oe.call(e,"constructor")&&!oe.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return n===t||oe.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=pe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=se.buildFragment([e],t,i),i&&se(i).remove(),se.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=se.trim(t))&&fe.test(t.replace(ge,"@").replace(me,"]").replace(he,""))?new Function("return "+t)():void se.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(e){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&se.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ve,"ms-").replace(ye,we)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,a=n(e);if(r){if(a)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:ae&&!ae.call("\ufeffÂ ")?function(e){return null==e?"":ae.call(e)}:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?se.merge(r,"string"==typeof e?[e]:e):te.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(re)return re.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;o<a;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),c=[];if(s)for(;o<a;o++)null!=(i=t(e[o],o,r))&&(c[c.length]=i);else for(o in e)null!=(i=t(e[o],o,r))&&(c[c.length]=i);return ee.apply([],c)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),se.isFunction(e)?(r=ne.call(arguments,2),i=function(){return e.apply(n||this,r.concat(ne.call(arguments)))},i.guid=e.guid=e.guid||se.guid++,i):t},access:function(e,n,r,i,o,a,s){var c=0,u=e.length,l=null==r;if("object"===se.type(r)){o=!0;for(c in r)se.access(e,n,c,r[c],!0,a,s)}else if(i!==t&&(o=!0,se.isFunction(i)||(s=!0),l&&(s?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(se(e),n)})),n))for(;c<u;c++)n(e[c],r,s?i:i.call(e[c],c,n(e[c],r)));return o?e:l?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()}}),se.ready.promise=function(t){if(!z)if(z=se.Deferred(),"complete"===K.readyState)setTimeout(se.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",be,!1),e.addEventListener("load",be,!1);else{K.attachEvent("onreadystatechange",be),e.attachEvent("onload",be);var n=!1;try{n=null==e.frameElement&&K.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!se.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}_e(),se.ready()}}()}return z.promise(t)},se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),V=se(K);var xe={};se.Callbacks=function(e){e="string"==typeof e?xe[e]||r(e):se.extend({},e);var n,i,o,a,s,c,u=[],l=!e.once&&[],d=function(t){for(i=e.memory&&t,o=!0,s=c||0,c=0,a=u.length,n=!0;u&&s<a;s++)if(!1===u[s].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}n=!1,u&&(l?l.length&&d(l.shift()):i?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function t(n){se.each(n,function(n,r){var i=se.type(r);"function"===i?e.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),n?a=u.length:i&&(c=t,d(i))}return this},remove:function(){return u&&se.each(arguments,function(e,t){for(var r;(r=se.inArray(t,u,r))>-1;)u.splice(r,1),n&&(r<=a&&a--,r<=s&&s--)}),this},has:function(e){return e?se.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=i=t,this},disabled:function(){return!u},lock:function(){return l=t,i||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||o&&!l||(n?l.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(n){se.each(t,function(t,o){var a=o[0],s=se.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,r):r}},i={};return r.pipe=r.then,se.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ne.call(arguments),a=o.length,s=1!==a||e&&se.isFunction(e.promise)?a:0,c=1===s?e:se.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ne.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&se.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(c.reject).progress(u(i,n,t)):--s;return s||c.resolveWith(r,o),c.promise()}}),se.support=function(){var t,n,r,i,o,a,s,c,u,l,d=K.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};o=K.createElement("select"),s=o.appendChild(K.createElement("option")),i=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:s.selected,enctype:!!K.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===K.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(e){t.deleteExpando=!1}i=K.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),a=K.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+l,"t"),t[l+"Bubbles"]=c in e||!1===d.attributes[c].expando;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,se(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=K.getElementsByTagName("body")[0];a&&(n=K.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=d.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=u&&0===i[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(K.createElement("div")),r.style.cssText=d.style.cssText=o,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==G&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=i=r=null)}),n=o=a=s=r=i=null,t}();var Ae=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ce=/([A-Z])/g;se.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?se.cache[e[se.expando]]:e[se.expando])&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&se.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),se.fn.extend({data:function(e,n){var r,i,o=this[0],s=0,c=null;if(e===t){if(this.length&&(c=se.data(o),1===o.nodeType&&!se._data(o,"parsedAttrs"))){for(r=o.attributes;s<r.length;s++)i=r[s].name,i.indexOf("data-")||(i=se.camelCase(i.slice(5)),a(o,i,c[i]));se._data(o,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){se.data(this,e)}):se.access(this,function(n){if(n===t)return o?a(o,e,se.data(o,e)):null;this.each(function(){se.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){se.removeData(this,e)})}}),se.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=se._data(e,t),n&&(!r||se.isArray(n)?r=se._data(e,t,se.makeArray(n)):r.push(n)),r||[]},
dequeue:function(e,t){t=t||"fx";var n=se.queue(e,t),r=n.length,i=n.shift(),o=se._queueHooks(e,t),a=function(){se.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se._data(e,n)||se._data(e,n,{empty:se.Callbacks("once memory").add(function(){se._removeData(e,t+"queue"),se._removeData(e,n)})})}}),se.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?se.queue(this[0],e):n===t?this:this.each(function(){var t=se.queue(this,e,n);se._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},delay:function(e,t){return e=se.fx?se.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=se.Deferred(),a=this,s=this.length,c=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(r=se._data(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(c));return c(),o.promise(n)}});var Ee,Te,ke=/[\t\r\n]/g,$e=/\r/g,Se=/^(?:input|select|textarea|button|object)$/i,qe=/^(?:a|area)$/i,Ie=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Me=/^(?:checked|selected)$/i,De=se.support.getSetAttribute,Re=se.support.input;se.fn.extend({attr:function(e,t){return se.access(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})},prop:function(e,t){return se.access(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return e=se.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,c="string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ue)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=se.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,c=0===arguments.length||"string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ue)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?se.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return se.isFunction(e)?this.each(function(n){se(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=se(this),s=t,c=e.match(ue)||[];i=c[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else n!==G&&"boolean"!==n||(this.className&&se._data(this,"__className__",this.className),this.className=this.className||!1===e?"":se._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ke," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=se.isFunction(e),this.each(function(n){var o,a=se(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":se.isArray(o)&&(o=se.map(o,function(e){return null==e?"":e+""})),(r=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return(r=se.valHooks[o.type]||se.valHooks[o.nodeName.toLowerCase()])&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace($e,""):null==n?"":n)}}}),se.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,c=i<0?s:o?i:0;c<s;c++)if(n=r[c],(n.selected||c===i)&&(se.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!se.nodeName(n.parentNode,"optgroup"))){if(t=se(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=se.makeArray(t);return se(e).find("option").each(function(){this.selected=se.inArray(se(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?se.prop(e,n,r):(o=1!==s||!se.isXMLDoc(e),o&&(n=n.toLowerCase(),i=se.attrHooks[n]||(Ie.test(n)?Te:Ee)),r===t?i&&o&&"get"in i&&null!==(a=i.get(e,n))?a:(typeof e.getAttribute!==G&&(a=e.getAttribute(n)),null==a?t:a):null!==r?i&&o&&"set"in i&&(a=i.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):void se.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ue);if(o&&1===e.nodeType)for(;n=o[i++];)r=se.propFix[n]||n,Ie.test(n)?!De&&Me.test(n)?e[se.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:se.attr(e,n,""),e.removeAttribute(De?n:r)},attrHooks:{type:{set:function(e,t){if(!se.support.radioValue&&"radio"===t&&se.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!se.isXMLDoc(e),a&&(n=se.propFix[n]||n,o=se.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Se.test(e.nodeName)||qe.test(e.nodeName)&&e.href?0:t}}}}),Te={get:function(e,n){var r=se.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?Re&&De?null!=i:Me.test(n)?e[se.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&!1!==o.value?n.toLowerCase():t},set:function(e,t,n){return!1===t?se.removeAttr(e,n):Re&&De||!Me.test(n)?e.setAttribute(!De&&se.propFix[n]||n,n):e[se.camelCase("default-"+n)]=e[n]=!0,n}},Re&&De||(se.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return se.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!se.nodeName(e,"input"))return Ee&&Ee.set(e,t,n);e.defaultValue=t}}),De||(Ee=se.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},se.attrHooks.contenteditable={get:Ee.get,set:function(e,t,n){Ee.set(e,""!==t&&t,n)}},se.each(["width","height"],function(e,t){se.attrHooks[t]=se.extend(se.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),se.support.hrefNormalized||(se.each(["href","src","width","height"],function(e,n){se.attrHooks[n]=se.extend(se.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),se.each(["href","src"],function(e,t){se.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),se.support.style||(se.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),se.support.optSelected||(se.propHooks.selected=se.extend(se.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),se.support.enctype||(se.propFix.enctype="encoding"),se.support.checkOn||se.each(["radio","checkbox"],function(){se.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]=se.extend(se.valHooks[this],{set:function(e,t){if(se.isArray(t))return e.checked=se.inArray(se(e).val(),t)>=0}})});var Fe=/^(?:input|select|textarea)$/i,Pe=/^key/,Oe=/^(?:mouse|contextmenu)|click/,Be=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(e,n,r,i,o){var a,s,c,u,l,d,p,f,h,g,m,v=se._data(e);if(v){for(r.handler&&(u=r,r=u.handler,o=u.selector),r.guid||(r.guid=se.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof se===G||e&&se.event.triggered===e.type?t:se.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ue)||[""],c=n.length;c--;)a=Le.exec(n[c])||[],h=m=a[1],g=(a[2]||"").split(".").sort(),l=se.event.special[h]||{},h=(o?l.delegateType:l.bindType)||h,l=se.event.special[h]||{},p=se.extend({type:h,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&se.expr.match.needsContext.test(o),namespace:g.join(".")},u),(f=s[h])||(f=s[h]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(e,i,g,d)||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),l.add&&(l.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),se.event.global[h]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,c,u,l,d,p,f,h,g,m=se.hasData(e)&&se._data(e);if(m&&(l=m.events)){for(t=(t||"").match(ue)||[""],u=t.length;u--;)if(s=Le.exec(t[u])||[],f=g=s[1],h=(s[2]||"").split(".").sort(),f){for(d=se.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=p.length;o--;)a=p[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));c&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||se.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)se.event.remove(e,f+t[u],n,r,!0);se.isEmptyObject(l)&&(delete m.handle,se._removeData(e,"events"))}},trigger:function(n,r,i,o){var a,s,c,u,l,d,p,f=[i||K],h=oe.call(n,"type")?n.type:n,g=oe.call(n,"namespace")?n.namespace.split("."):[];if(c=d=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!Be.test(h+se.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[se.expando]?n:new se.Event(h,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:se.makeArray(r,[n]),l=se.event.special[h]||{},o||!l.trigger||!1!==l.trigger.apply(i,r))){if(!o&&!l.noBubble&&!se.isWindow(i)){for(u=l.delegateType||h,Be.test(u+h)||(c=c.parentNode);c;c=c.parentNode)f.push(c),d=c;d===(i.ownerDocument||K)&&f.push(d.defaultView||d.parentWindow||e)}for(p=0;(c=f[p++])&&!n.isPropagationStopped();)n.type=p>1?u:l.bindType||h,a=(se._data(c,"events")||{})[n.type]&&se._data(c,"handle"),a&&a.apply(c,r),(a=s&&c[s])&&se.acceptData(c)&&a.apply&&!1===a.apply(c,r)&&n.preventDefault();if(n.type=h,!o&&!n.isDefaultPrevented()&&(!l._default||!1===l._default.apply(i.ownerDocument,r))&&("click"!==h||!se.nodeName(i,"a"))&&se.acceptData(i)&&s&&i[h]&&!se.isWindow(i)){d=i[s],d&&(i[s]=null),se.event.triggered=h;try{i[h]()}catch(e){}se.event.triggered=t,d&&(i[s]=d)}return n.result}},dispatch:function(e){e=se.event.fix(e);var n,r,i,o,a,s=[],c=ne.call(arguments),u=(se._data(this,"events")||{})[e.type]||[],l=se.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=se.event.handlers.call(this,e,u),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(r=((se.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,c))!==t&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],c=n.delegateCount,u=e.target;if(c&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],a=0;a<c;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?se(r,this).index(u)>=0:se.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return c<n.length&&s.push({elem:this,handlers:n.slice(c)}),s},fix:function(e){if(e[se.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Oe.test(i)?this.mouseHooks:Pe.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new se.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||K),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||K,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(se.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==K.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===K.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=se.extend(new se.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?se.event.trigger(i,null,t):se.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},se.removeEvent=K.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===G&&(e[r]=null),e.detachEvent(r,n))},se.Event=function(e,t){if(!(this instanceof se.Event))return new se.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?c:u):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),this[se.expando]=!0},se.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||se.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),se.support.submitBubbles||(se.event.special.submit={setup:function(){if(se.nodeName(this,"form"))return!1;se.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=se.nodeName(n,"input")||se.nodeName(n,"button")?n.form:t;r&&!se._data(r,"submitBubbles")&&(se.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),se._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&se.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(se.nodeName(this,"form"))return!1;se.event.remove(this,"._submit")}}),se.support.changeBubbles||(se.event.special.change={setup:function(){if(Fe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(se.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,e,!0)})),!1;se.event.add(this,"beforeactivate._change",function(e){var t=e.target;Fe.test(t.nodeName)&&!se._data(t,"changeBubbles")&&(se.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||se.event.simulate("change",this.parentNode,e,!0)}),se._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return se.event.remove(this,"._change"),!Fe.test(this.nodeName)}}),se.support.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){se.event.simulate(t,e.target,se.event.fix(e),!0)};se.event.special[t]={setup:function(){0==n++&&K.addEventListener(e,r,!0)},teardown:function(){0==--n&&K.removeEventListener(e,r,!0)}}}),se.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=u;else if(!i)return this;return 1===o&&(s=i,i=function(e){return se().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=se.guid++)),this.each(function(){se.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,se(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=t),!1===r&&(r=u),this.each(function(){se.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return se.event.trigger(e,t,n,!0)}}),function(e,t){function n(e){return le.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>x.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[O]=!0,e}function o(e){var t=S.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function a(e,t,n,r){var i,o,a,s,c,d,p,f,h,g;if((t?t.ownerDocument||t:B)!==S&&$(t),t=t||S,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!I&&!r){if(i=de.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,Y.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&L.getByClassName&&t.getElementsByClassName)return K.apply(n,Y.call(t.getElementsByClassName(a),0)),n}if(L.qsa&&!M.test(e)){if(p=!0,f=O,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=u(e),(p=t.getAttribute("id"))?f=p.replace(he,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",c=d.length;c--;)d[c]=f+l(d[c]);h=ue.test(e)&&t.parentNode||t,g=d.join(",")}if(g)try{return K.apply(n,Y.call(h.querySelectorAll(g),0)),n}catch(e){}finally{p||t.removeAttribute("id")}}}return y(e.replace(ne,"$1"),t,n,r)}function s(e,t){var n=t&&e,r=n&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e,t){var n,r,i,o,s,c,u,l=Q[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=x.preFilter;s;){n&&!(r=re.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(i=[])),n=!1,(r=ie.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ne," ")}),s=s.slice(n.length));for(o in x.filter)!(r=ce[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):Q(e,c).slice(0)}function l(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=N++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,u,l=U+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(u=t[O]||(t[O]={}),(c=u[r])&&c[0]===l){if(!0===(s=c[1])||s===_)return!0===s}else if(c=u[r]=[l],c[1]=e(t,n,a)||_,!0===c[1])return!0}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function f(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function h(e,t,n,r,o,a){return r&&!r[O]&&(r=h(r)),o&&!o[O]&&(o=h(o,a)),i(function(i,a,s,c){var u,l,d,p=[],h=[],g=a.length,m=i||v(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?m:f(m,p,e,s,c),w=n?o||(i?e:g||r)?[]:a:y;if(n&&n(y,w,s,c),r)for(u=f(w,h),r(u,[],s,c),l=u.length;l--;)(d=u[l])&&(w[h[l]]=!(y[h[l]]=d));if(i){if(o||e){if(o){for(u=[],l=w.length;l--;)(d=w[l])&&u.push(y[l]=d);o(null,w=[],u,c)}for(l=w.length;l--;)(d=w[l])&&(u=o?W.call(i,d):p[l])>-1&&(i[u]=!(a[u]=d))}}else w=f(w===a?w.splice(g,w.length):w),o?o(null,a,w,c):K.apply(a,w)})}function g(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,c=d(function(e){return e===t},a,!0),u=d(function(e){return W.call(t,e)>-1},a,!0),f=[function(e,n,r){return!o&&(r||n!==k)||((t=n).nodeType?c(e,n,r):u(e,n,r))}];s<i;s++)if(n=x.relative[e[s].type])f=[d(p(f),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[O]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return h(s>1&&p(f),s>1&&l(e.slice(0,s-1)).replace(ne,"$1"),n,s<r&&g(e.slice(s,r)),r<i&&g(e=e.slice(r)),r<i&&l(e))}f.push(n)}return p(f)}function m(e,t){var n=0,r=t.length>0,o=e.length>0,s=function(i,s,c,u,l){var d,p,h,g=[],m=0,v="0",y=i&&[],w=null!=l,b=k,A=i||o&&x.find.TAG("*",l&&s.parentNode||s),C=U+=null==b?1:Math.random()||.1;for(w&&(k=s!==S&&s,_=n);null!=(d=A[v]);v++){if(o&&d){for(p=0;h=e[p++];)if(h(d,s,c)){u.push(d);break}w&&(U=C,_=++n)}r&&((d=!h&&d)&&m--,i&&y.push(d))}if(m+=v,r&&v!==m){for(p=0;h=t[p++];)h(y,g,s,c);if(i){if(m>0)for(;v--;)y[v]||g[v]||(g[v]=G.call(u));g=f(g)}K.apply(u,g),w&&!i&&g.length>0&&m+t.length>1&&a.uniqueSort(u)}return w&&(U=C,k=b),y};return r?i(s):s}function v(e,t,n){for(var r=0,i=t.length;r<i;r++)a(e,t[r],n);return n}function y(e,t,n,r){var i,o,a,s,c,d=u(e);if(!r&&1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!I&&x.relative[o[1].type]){if(!(t=x.find.ID(a.matches[0].replace(me,ve),t)[0]))return n;e=e.slice(o.shift().value.length)}for(i=ce.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((c=x.find[s])&&(r=c(a.matches[0].replace(me,ve),ue.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),!(e=r.length&&l(o)))return K.apply(n,Y.call(r,0)),n;break}}return E(e,d)(r,t,I,n,ue.test(e)),n}function w(){}var b,_,x,A,C,E,T,k,$,S,q,I,M,D,R,F,P,O="sizzle"+-new Date,B=e.document,L={},U=0,N=0,H=r(),Q=r(),j=r(),z=1<<31,V=[],G=V.pop,K=V.push,Y=V.slice,W=V.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},J="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",X=Z.replace("w","w#"),ee="\\["+J+"*("+Z+")"+J+"*(?:([*^$|!~]?=)"+J+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+X+")|)|)"+J+"*\\]",te=":("+Z+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ee.replace(3,8)+")*)|.*)\\)|)",ne=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),re=new RegExp("^"+J+"*,"+J+"*"),ie=new RegExp("^"+J+"*([\\x20\\t\\r\\n\\f>+~])"+J+"*"),oe=new RegExp(te),ae=new RegExp("^"+X+"$"),ce={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),NAME:new RegExp("^\\[name=['\"]?("+Z+")['\"]?\\]"),TAG:new RegExp("^("+Z.replace("w","w*")+")"),ATTR:new RegExp("^"+ee),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},ue=/[\x20\t\r\n\f]*[+~]/,le=/^[^{]+\{\s*\[native code/,de=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/'|\\/g,ge=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,me=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ve=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Y.call(B.documentElement.childNodes,0)[0].nodeType}catch(e){Y=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}C=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},$=a.setDocument=function(e){var t=e?e.ownerDocument||e:B;return t!==S&&9===t.nodeType&&t.documentElement?(S=t,q=t.documentElement,I=C(t),L.tagNameNoComments=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),L.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),L.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),L.getByName=o(function(e){e.id=O+0,e.innerHTML="<a name='"+O+"'></a><div name='"+O+"'></div>",q.insertBefore(e,q.firstChild);var n=t.getElementsByName&&t.getElementsByName(O).length===2+t.getElementsByName(O+0).length;return L.getIdNotName=!t.getElementById(O),q.removeChild(e),n}),x.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},L.getIdNotName?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&!I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(me,ve);return function(e){return e.getAttribute("id")===t}}):(x.find.ID=function(e,t){if(void 0!==t.getElementById&&!I){var n=t.getElementById(e);return n?n.id===e||void 0!==n.getAttributeNode&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},x.filter.ID=function(e){var t=e.replace(me,ve);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=L.tagNameNoComments?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.NAME=L.getByName&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},x.find.CLASS=L.getByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&!I)return t.getElementsByClassName(e)},D=[],M=[":focus"],(L.qsa=n(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+J+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||M.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&M.push("[*^$]="+J+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(L.matchesSelector=n(R=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&o(function(e){L.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),D.push("!=",te)}),M=new RegExp(M.join("|")),D=new RegExp(D.join("|")),F=n(q.contains)||q.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=q.compareDocumentPosition?function(e,n){var r;return e===n?(T=!0,0):(r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===t||F(B,e)?-1:n===t||F(B,n)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,a=n.parentNode,c=[e],u=[n];if(e===n)return T=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:0;if(o===a)return s(e,n);for(r=e;r=r.parentNode;)c.unshift(r);for(r=n;r=r.parentNode;)u.unshift(r);for(;c[i]===u[i];)i++;return i?s(c[i],u[i]):c[i]===B?-1:u[i]===B?1:0},T=!1,[0,0].sort(P),L.detectDuplicates=T,S):S},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==S&&$(e),t=t.replace(ge,"='$1']"),L.matchesSelector&&!I&&(!D||!D.test(t))&&!M.test(t))try{var n=R.call(e,t);if(n||L.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return a(t,S,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==S&&$(e),F(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==S&&$(e),I||(t=t.toLowerCase()),(n=x.attrHandle[t])?n(e):I||L.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,i=0;if(T=!L.detectDuplicates,e.sort(P),T){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},A=a.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=A(t);return n},x=a.selectors={cacheLength:50,createPseudo:i,match:ce,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ve),e[3]=(e[4]||e[5]||"").replace(me,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ce.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&oe.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(me,ve).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+J+")"+e+"("+J+"|$)"))&&H(e,function(e){
return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=a.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var u,l,d,p,f,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(l=m[O]||(m[O]={}),u=l[e]||[],f=u[0]===U&&u[1],p=u[0]===U&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){l[e]=[U,f,p];break}}else if(y&&(u=(t[O]||(t[O]={}))[e])&&u[0]===U)p=u[1];else for(;(d=++f&&d&&d[g]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[O]||(d[O]={}))[e]=[U,p]),d!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[O]?r(t):r.length>1?(n=[e,e,"",t],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=W.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(ne,"$1"));return r[O]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return a(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return ae.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(me,ve).toLowerCase(),function(t){var n;do{if(n=I?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}};for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);E=a.compile=function(e,t){var n,r=[],i=[],o=j[e+" "];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=g(t[n]),o[O]?r.push(o):i.push(o);o=j(e,m(i,r))}return o},x.pseudos.nth=x.pseudos.eq,x.filters=w.prototype=x.pseudos,x.setFilters=new w,$(),a.attr=se.attr,se.find=a,se.expr=a.selectors,se.expr[":"]=se.expr.pseudos,se.unique=a.uniqueSort,se.text=a.getText,se.isXMLDoc=a.isXML,se.contains=a.contains}(e);var Ue=/Until$/,Ne=/^(?:parents|prev(?:Until|All))/,He=/^.[^:#\[\.,]*$/,Qe=se.expr.match.needsContext,je={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(se(e).filter(function(){for(t=0;t<i;t++)if(se.contains(r[t],this))return!0}));for(n=[],t=0;t<i;t++)se.find(e,this[t],n);return n=this.pushStack(i>1?se.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=se(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(se.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Qe.test(e)?se(e,this.context).index(this[0])>=0:se.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Qe.test(e)||"string"!=typeof e?se(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:se.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?se.unique(o):o)},index:function(e){return e?"string"==typeof e?se.inArray(this[0],se(e)):se.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?se(e,t):se.makeArray(e&&e.nodeType?[e]:e),r=se.merge(this.get(),n);return this.pushStack(se.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.fn.andSelf=se.fn.addBack,se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return se.dir(e,"parentNode")},parentsUntil:function(e,t,n){return se.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return se.dir(e,"nextSibling")},prevAll:function(e){return se.dir(e,"previousSibling")},nextUntil:function(e,t,n){return se.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return se.dir(e,"previousSibling",n)},siblings:function(e){return se.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return se.sibling(e.firstChild)},contents:function(e){return se.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(n,r){var i=se.map(this,t,n);return Ue.test(e)||(r=n),r&&"string"==typeof r&&(i=se.filter(r,i)),i=this.length>1&&!je[e]?se.unique(i):i,this.length>1&&Ne.test(e)&&(i=i.reverse()),this.pushStack(i)}}),se.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?se.find.matchesSelector(t[0],e)?[t[0]]:[]:se.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!se(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ve=/ jQuery\d+="(?:null|\d+)"/g,Ge=new RegExp("<(?:"+ze+")[\\s/>]","i"),Ke=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,Je=/<tbody/i,Ze=/<|&#?\w+;/,Xe=/<(?:script|style|link)/i,et=/^(?:checkbox|radio)$/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,rt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:se.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=p(K),st=at.appendChild(K.createElement("div"));ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,se.fn.extend({text:function(e){return se.access(this,function(e){return e===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(se.isFunction(e))return this.each(function(t){se(this).wrapAll(e.call(this,t))});if(this[0]){var t=se(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(n){se(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||se.filter(e,[n]).length>0)&&(t||1!==n.nodeType||se.cleanData(w(n)),n.parentNode&&(t&&se.contains(n.ownerDocument,n)&&m(w(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&se.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&se.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return se.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ve,""):t;if("string"==typeof e&&!Xe.test(e)&&(se.support.htmlSerialize||!Ge.test(e))&&(se.support.leadingWhitespace||!Ke.test(e))&&!ot[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ye,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},1===n.nodeType&&(se.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return se.isFunction(e)||"string"==typeof e||(e=se(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(se(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=ee.apply([],e);var i,o,a,s,c,u,l=0,d=this.length,p=this,m=d-1,v=e[0],y=se.isFunction(v);if(y||!(d<=1||"string"!=typeof v||se.support.checkClone)&&tt.test(v))return this.each(function(i){var o=p.eq(i);y&&(e[0]=v.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(d&&(u=se.buildFragment(e,this[0].ownerDocument,!1,this),i=u.firstChild,1===u.childNodes.length&&(u=i),i)){for(n=n&&se.nodeName(i,"tr"),s=se.map(w(u,"script"),h),a=s.length;l<d;l++)o=u,l!==m&&(o=se.clone(o,!0,!0),a&&se.merge(s,w(o,"script"))),r.call(n&&se.nodeName(this[l],"table")?f(this[l],"tbody"):this[l],o,l);if(a)for(c=s[s.length-1].ownerDocument,se.map(s,g),l=0;l<a;l++)o=s[l],nt.test(o.type||"")&&!se._data(o,"globalEval")&&se.contains(c,o)&&(o.src?se.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):se.globalEval((o.text||o.textContent||o.innerHTML||"").replace(it,"")));u=i=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var n,r=0,i=[],o=se(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),se(o[r])[t](n),te.apply(i,n.get());return this.pushStack(i)}}),se.extend({clone:function(e,t,n){var r,i,o,a,s,c=se.contains(e.ownerDocument,e);if(se.support.html5Clone||se.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(o=st.firstChild)),!(se.support.noCloneEvent&&se.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(r=w(o),s=w(e),a=0;null!=(i=s[a]);++a)r[a]&&y(i,r[a]);if(t)if(n)for(s=s||w(e),r=r||w(o),a=0;null!=(i=s[a]);a++)v(i,r[a]);else v(e,o);return r=w(o,"script"),r.length>0&&m(r,!c&&w(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,c,u,l,d=e.length,f=p(t),h=[],g=0;g<d;g++)if((o=e[g])||0===o)if("object"===se.type(o))se.merge(h,o.nodeType?[o]:o);else if(Ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),c=(We.exec(o)||["",""])[1].toLowerCase(),l=ot[c]||ot._default,s.innerHTML=l[1]+o.replace(Ye,"<$1></$2>")+l[2],i=l[0];i--;)s=s.lastChild;if(!se.support.leadingWhitespace&&Ke.test(o)&&h.push(t.createTextNode(Ke.exec(o)[0])),!se.support.tbody)for(o="table"!==c||Je.test(o)?"<table>"!==l[1]||Je.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)se.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(se.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),se.support.appendChecked||se.grep(w(h,"input"),b),g=0;o=h[g++];)if((!r||-1===se.inArray(o,r))&&(a=se.contains(o.ownerDocument,o),s=w(f.appendChild(o),"script"),a&&m(s),n))for(i=0;o=s[i++];)nt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=se.expando,c=se.cache,u=se.support.deleteExpando,l=se.event.special;null!=(n=e[a]);a++)if((t||se.acceptData(n))&&(i=n[s],o=i&&c[i])){if(o.events)for(r in o.events)l[r]?se.event.remove(n,r):se.removeEvent(n,r,o.handle);c[i]&&(delete c[i],u?delete n[s]:typeof n.removeAttribute!==G?n.removeAttribute(s):n[s]=null,X.push(i))}}});var ct,ut,lt,dt=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ft=/^(top|right|bottom|left)$/,ht=/^(none|table(?!-c[ea]).+)/,gt=/^margin/,mt=new RegExp("^("+ce+")(.*)$","i"),vt=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),yt=new RegExp("^([+-])=("+ce+")","i"),wt={BODY:"block"},bt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:0,fontWeight:400},xt=["Top","Right","Bottom","Left"],At=["Webkit","O","Moz","ms"];se.fn.extend({css:function(e,n){return se.access(this,function(e,n,r){var i,o,a={},s=0;if(se.isArray(n)){for(o=ut(e),i=n.length;s<i;s++)a[n[s]]=se.css(e,n[s],!1,o);return a}return r!==t?se.style(e,n,r):se.css(e,n)},e,n,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?se(this).show():se(this).hide()})}}),se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=lt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:se.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,c=se.camelCase(n),u=e.style;if(n=se.cssProps[c]||(se.cssProps[c]=_(u,c)),s=se.cssHooks[n]||se.cssHooks[c],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(!(a=typeof r,"string"===a&&(o=yt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(se.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r)||("number"!==a||se.cssNumber[c]||(r+="px"),se.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(e){}}},css:function(e,n,r,i){var o,a,s,c=se.camelCase(n);return n=se.cssProps[c]||(se.cssProps[c]=_(e.style,c)),s=se.cssHooks[n]||se.cssHooks[c],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=lt(e,n,i)),"normal"===a&&n in _t&&(a=_t[n]),""===r||r?(o=parseFloat(a),!0===r||se.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},lt=function(e,n,r){var i,o,a,s=r||ut(e),c=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==c||se.contains(e.ownerDocument,e)||(c=se.style(e,n)),vt.test(c)&&gt.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=c,c=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),c}):K.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},lt=function(e,n,r){var i,o,a,s=r||ut(e),c=s?s[n]:t,u=e.style;return null==c&&u&&u[n]&&(c=u[n]),vt.test(c)&&!ft.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":c,c=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===c?"auto":c}),se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&ht.test(se.css(e,"display"))?se.swap(e,bt,function(){return T(e,t,r)}):T(e,t,r)},set:function(e,n,r){var i=r&&ut(e);return C(e,n,r?E(e,t,r,se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,i),i):0)}}}),se.support.opacity||(se.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=se.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===se.trim(o.replace(dt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=dt.test(o)?o.replace(dt,i):o+" "+i)}}),se(function(){se.support.reliableMarginRight||(se.cssHooks.marginRight={get:function(e,t){if(t)return se.swap(e,{display:"inline-block"},lt,[e,"marginRight"])}}),!se.support.pixelPosition&&se.fn.position&&se.each(["top","left"],function(e,t){se.cssHooks[t]={get:function(e,n){if(n)return n=lt(e,t),vt.test(n)?se(e).position()[t]+"px":n}}})}),se.expr&&se.expr.filters&&(se.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!se.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||se.css(e,"display"))},se.expr.filters.visible=function(e){return!se.expr.filters.hidden(e)}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+xt[r]+t]=o[r]||o[r-2]||o[0];return i}},gt.test(e)||(se.cssHooks[e+t].set=C)});var Ct=/%20/g,Et=/\[\]$/,Tt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&$t.test(this.nodeName)&&!kt.test(e)&&(this.checked||!et.test(e))}).map(function(e,t){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),se.param=function(e,n){var r,i=[],o=function(e,t){t=se.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){o(this.name,this.value)});else for(r in e)S(r,e[r],n,o);return i.join("&").replace(Ct,"+")},se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),se.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var St,qt,It=se.now(),Mt=/\?/,Dt=/#.*$/,Rt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Bt=/^\/\//,Lt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ut=se.fn.load,Nt={},Ht={},Qt="*/".concat("*");try{qt=Y.href}catch(e){qt=K.createElement("a"),qt.href="",qt=qt.href}St=Lt.exec(qt.toLowerCase())||[],se.fn.load=function(e,n,r){if("string"!=typeof e&&Ut)return Ut.apply(this,arguments);var i,o,a,s=this,c=e.indexOf(" ");return c>=0&&(i=e.slice(c,e.length),e=e.slice(0,c)),se.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&se.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?se("<div>").append(se.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.each(["get","post"],function(e,n){se[n]=function(e,r,i,o){return se.isFunction(r)&&(o=o||i,i=r,r=t),se.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qt,type:"GET",isLocal:Pt.test(St[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,se.ajaxSettings),t):M(se.ajaxSettings,e)},ajaxPrefilter:q(Nt),ajaxTransport:q(Ht),ajax:function(e,n){function r(e,n,r,i){var o,d,y,w,_,A=n;2!==b&&(b=2,c&&clearTimeout(c),l=t,s=i||"",x.readyState=e>0?4:0,r&&(w=D(p,x,r)),e>=200&&e<300||304===e?(p.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(se.lastModified[a]=_),(_=x.getResponseHeader("etag"))&&(se.etag[a]=_)),204===e?(o=!0,A="nocontent"):304===e?(o=!0,A="notmodified"):(o=R(p,w),A=o.state,d=o.data,y=o.error,o=!y)):(y=A,!e&&A||(A="error",e<0&&(e=0))),x.status=e,x.statusText=(n||A)+"",o?g.resolveWith(f,[d,A,x]):g.rejectWith(f,[x,A,y]),x.statusCode(v),v=t,u&&h.trigger(o?"ajaxSuccess":"ajaxError",[x,p,o?d:y]),m.fireWith(f,[x,A]),u&&(h.trigger("ajaxComplete",[x,p]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,c,u,l,d,p=se.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?se(f):se.event,g=se.Deferred(),m=se.Callbacks("once memory"),v=p.statusCode||{},y={},w={},b=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Ft.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=w[n]=w[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return l&&l.abort(t),r(0,t),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||qt)+"").replace(Dt,"").replace(Bt,St[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=se.trim(p.dataType||"*").toLowerCase().match(ue)||[""],null==p.crossDomain&&(i=Lt.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===St[1]&&i[2]===St[2]&&(i[3]||("http:"===i[1]?80:443))==(St[3]||("http:"===St[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=se.param(p.data,p.traditional)),I(Nt,p,n,x),2===b)return x;u=p.global,u&&0==se.active++&&se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ot.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(Mt.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Rt.test(a)?a.replace(Rt,"$1_="+It++):a+(Mt.test(a)?"&":"?")+"_="+It++)),p.ifModified&&(se.lastModified[a]&&x.setRequestHeader("If-Modified-Since",se.lastModified[a]),se.etag[a]&&x.setRequestHeader("If-None-Match",se.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Qt+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)x.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(!1===p.beforeSend.call(f,x,p)||2===b))return x.abort();_="abort";for(o in{success:1,error:1,complete:1})x[o](p[o]);if(l=I(Ht,p,n,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(c=setTimeout(function(){x.abort("timeout")},p.timeout));try{b=1,l.send(y,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return x},getScript:function(e,n){return se.get(e,t,n,"script")},getJSON:function(e,t,n){return se.get(e,t,n,"json")}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),se.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=K.head||se("head")[0]||K.documentElement;return{send:function(t,i){n=K.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jt=[],zt=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||se.expando+"_"+It++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,c=!1!==n.jsonp&&(zt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(n.data)&&"data");if(c||"jsonp"===n.dataTypes[0])return o=n.jsonpCallback=se.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,c?n[c]=n[c].replace(zt,"$1"+o):!1!==n.jsonp&&(n.url+=(Mt.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||se.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,jt.push(o)),s&&se.isFunction(a)&&a(s[0]),s=a=t}),"script"});var Vt,Gt,Kt=0,Yt=e.ActiveXObject&&function(){var e;for(e in Vt)Vt[e](t,!0)};se.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&F()||P()}:F,Gt=se.ajaxSettings.xhr(),se.support.cors=!!Gt&&"withCredentials"in Gt,(Gt=se.support.ajax=!!Gt)&&se.ajaxTransport(function(n){if(!n.crossDomain||se.support.cors){var r;return{send:function(i,o){var a,s,c=n.xhr();if(n.username?c.open(n.type,n.url,n.async,n.username,n.password):c.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)c[s]=n.xhrFields[s];n.mimeType&&c.overrideMimeType&&c.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)c.setRequestHeader(s,i[s])}catch(e){}c.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,l,d;try{if(r&&(i||4===c.readyState))if(r=t,a&&(c.onreadystatechange=se.noop,Yt&&delete Vt[a]),i)4!==c.readyState&&c.abort();else{d={},s=c.status,u=c.getAllResponseHeaders(),"string"==typeof c.responseText&&(d.text=c.responseText);try{l=c.statusText}catch(e){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(e){i||o(-1,e)}d&&o(s,l,d,u)},n.async?4===c.readyState?setTimeout(r):(a=++Kt,Yt&&(Vt||(Vt={},se(e).unload(Yt)),Vt[a]=r),c.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Wt,Jt,Zt=/^(?:toggle|show|hide)$/,Xt=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[N],nn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Xt.exec(t),a=i.cur(),s=+a||0,c=1,u=20;if(o){if(n=+o[2],"px"!==(r=o[3]||(se.cssNumber[e]?"":"px"))&&s){s=se.css(i.elem,e,!0)||n||1;do{c=c||".5",s/=c,se.style(i.elem,e,s+r)}while(c!==(c=i.cur()/a)&&1!==c&&--u)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};se.Animation=se.extend(L,{tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),se.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(se.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[se.cssProps[e.prop]]||se.cssHooks[e.prop])?se.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.each(["toggle","show","hide"],function(e,t){var n=se.fn[t];se.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Q(t,!0),e,r,i)}}),se.fn.extend({fadeTo:function(e,t,n,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=se.isEmptyObject(e),o=se.speed(t,n,r),a=function(){var t=L(this,se.extend({},e),o);a.finish=function(){t.stop(!0)},(i||se._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=se.timers,a=se._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&en.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||se.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=se._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=se.timers,a=r?r.length:0;for(n.finish=!0,se.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),se.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),se.speed=function(e,t,n){var r=e&&"object"==typeof e?se.extend({},e):{complete:n||!n&&t||se.isFunction(e)&&e,duration:e,easing:n&&t||t&&!se.isFunction(t)&&t}
;return r.duration=se.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in se.fx.speeds?se.fx.speeds[r.duration]:se.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){se.isFunction(r.old)&&r.old.call(this),r.queue&&se.dequeue(this,r.queue)},r},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},se.timers=[],se.fx=H.prototype.init,se.fx.tick=function(){var e,n=se.timers,r=0;for(Wt=se.now();r<n.length;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||se.fx.stop(),Wt=t},se.fx.timer=function(e){e()&&se.timers.push(e)&&se.fx.start()},se.fx.interval=13,se.fx.start=function(){Jt||(Jt=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(Jt),Jt=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fx.step={},se.expr&&se.expr.filters&&(se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length}),se.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){se.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,se.contains(n,o)?(typeof o.getBoundingClientRect!==G&&(i=o.getBoundingClientRect()),r=j(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},se.offset={setOffset:function(e,t,n){var r=se.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=se(e),s=a.offset(),c=se.css(e,"top"),u=se.css(e,"left"),l=("absolute"===r||"fixed"===r)&&se.inArray("auto",[c,u])>-1,d={},p={};l?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(c)||0,o=parseFloat(u)||0),se.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},se.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===se.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(n=e.offset()),n.top+=se.css(e[0],"borderTopWidth",!0),n.left+=se.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-se.css(r,"marginTop",!0),left:t.left-n.left-se.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||K.documentElement;e&&!se.nodeName(e,"html")&&"static"===se.css(e,"position");)e=e.offsetParent;return e||K.documentElement})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);se.fn[e]=function(i){return se.access(this,function(e,i,o){var a=j(e);if(o===t)return a?n in a?a[n]:a.document.documentElement[i]:e[i];a?a.scrollTo(r?se(a).scrollLeft():o,r?o:se(a).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),se.each({Height:"height",Width:"width"},function(e,n){se.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){se.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return se.access(this,function(n,r,i){var o;return se.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?se.css(n,r,s):se.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=se,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return se})}(window),function(e){"use strict";function t(e){if(!_(e))return Yr;b(e.objectMaxDepth)&&(Yr.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function n(e){return C(e)&&e>0}function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(e?e+":":"")+i+"] ",s=G(arguments,2).map(function(e){return Ae(e,Yr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<s.length?s[t]:e}),a+="\nhttp://errors.angularjs.org/1.6.6/"+(e?e+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new t(a)}}function i(e){if(null==e||S(e))return!1;if(mi(e)||A(e)||ii&&e instanceof ii)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(k(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(mi(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(x(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Zr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function c(){return++hi}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(_(a)||k(a))for(var s=Object.keys(a),c=0,d=s.length;c<d;c++){var p=s[c],f=a[p];n&&_(f)?E(f)?e[p]=new Date(f.valueOf()):$(f)?e[p]=new RegExp(f):f.nodeName?e[p]=f.cloneNode(!0):B(f)?e[p]=f.clone():(_(e[p])||(e[p]=mi(f)?[]:{}),l(e[p],[f],!0)):e[p]=f}}return u(e,r),e}function d(e){return l(e,si.call(arguments,1),!1)}function p(e){return l(e,si.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function y(e){return k(e.toString)&&e.toString!==li}function w(e){return void 0===e}function b(e){return void 0!==e}function _(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!di(e)}function A(e){return"string"==typeof e}function C(e){return"number"==typeof e}function E(e){return"[object Date]"===li.call(e)}function T(e){switch(li.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function k(e){return"function"==typeof e}function $(e){return"[object RegExp]"===li.call(e)}function S(e){return e&&e.window===e}function q(e){return e&&e.$evalAsync&&e.$watch}function I(e){return"[object File]"===li.call(e)}function M(e){return"[object FormData]"===li.call(e)}function D(e){return"[object Blob]"===li.call(e)}function R(e){return"boolean"==typeof e}function F(e){return e&&k(e.then)}function P(e){return e&&C(e.length)&&vi.test(li.call(e))}function O(e){return"[object ArrayBuffer]"===li.call(e)}function B(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function U(e){return Xr(e.nodeName||e[0]&&e[0].nodeName)}function N(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function H(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function Q(e,t,r){function i(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(mi(e))for(var o=0,s=e.length;o<s;o++)t.push(a(e[o],n));else if(x(e))for(r in e)t[r]=a(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=a(e[r],n));else for(r in e)Zr.call(e,r)&&(t[r]=a(e[r],n));return u(t,i),t}function a(e,t){if(!_(e))return e;var n=c.indexOf(e);if(-1!==n)return l[n];if(S(e)||q(e))throw pi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(e);return void 0===o&&(o=mi(e)?[]:Object.create(di(e)),r=!0),c.push(e),l.push(o),r?i(e,o,t):o}function s(e){switch(li.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(k(e.cloneNode))return e.cloneNode(!0)}var c=[],l=[];if(r=n(r)?r:NaN,t){if(P(t)||O(t))throw pi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw pi("cpi","Can't copy! Source and destination are identical.");return mi(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),c.push(e),l.push(t),i(e,t,r)}return a(e,r)}function j(e,t){return e===t||e!==e&&t!==t}function z(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!mi(e)){if(E(e))return!!E(t)&&j(e.getTime(),t.getTime());if($(e))return!!$(t)&&e.toString()===t.toString();if(q(e)||q(t)||S(e)||S(t)||mi(t)||E(t)||$(t))return!1;i=ye();for(r in e)if("$"!==r.charAt(0)&&!k(e[r])){if(!z(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&b(t[r])&&!k(t[r]))return!1;return!0}if(!mi(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!z(e[r],t[r]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(si.call(t,n))}function G(e,t){return si.call(e,t||0)}function K(e,t){var n=arguments.length>2?G(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Y(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:S(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":q(n)&&(r="$SCOPE"),r}function W(e,t){if(!w(e))return C(t)||(t=t?2:null),JSON.stringify(e,Y,t)}function J(e){return A(e)?JSON.parse(e):e}function Z(e,t){e=e.replace(xi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return gi(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ee(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return X(e,n*(Z(t,r)-r))}function te(e){e=ii(e).clone().empty();var t=ii("<div>").append(e).html();try{return e[0].nodeType===$i?Xr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Xr(t)})}catch(e){return Xr(t)}}function ne(e){try{return decodeURIComponent(e)}catch(e){}}function re(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=ne(r),b(r)&&(i=!b(i)||ne(i),Zr.call(t,r)?mi(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ie(e){var t=[];return o(e,function(e,n){mi(e)?o(e,function(e){t.push(ae(n,!0)+(!0===e?"":"="+ae(e,!0)))}):t.push(ae(n,!0)+(!0===e?"":"="+ae(e,!0)))}),t.length?t.join("&"):""}function oe(e){return ae(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ae(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function se(e,t){var n,r,i=Ai.length;for(r=0;r<i;++r)if(n=Ai[r]+t,A(n=e.getAttribute(n)))return n;return null}function ce(t,n){var r,i,a={};if(o(Ai,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))}),o(Ai,function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!Ci)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==se(r,"strict-di"),n(r,i?[i]:[],a)}}function ue(t,n,r){_(r)||(r={}),r=d({strictDi:!1},r);var i=function(){if(t=ii(t),t.injector()){var i=t[0]===e.document?"document":te(t);throw pi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ut(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),fi.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),i()},k(fi.resumeDeferredBootstrap)&&fi.resumeDeferredBootstrap()}function le(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function de(e){var t=fi.element(e).injector();if(!t)throw pi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function pe(e,t){return t=t||"_",e.replace(Ei,function(e,n){return(n?t:"")+e.toLowerCase()})}function fe(e,t,n){if(!e)throw pi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&mi(e)&&(e=e[e.length-1]),fe(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ge(e,t){if("hasOwnProperty"===e)throw pi("badname","hasOwnProperty is not a valid {0} name",t)}function me(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&k(e)?K(o,e):e}function ve(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=ii(si.call(e,0,i))),t.push(n));return t||e}function ye(){return Object.create(null)}function we(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!y(e)||mi(e)||E(e)?W(e):e.toString()}return e}function be(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)}(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=c),function(){return r[n||"push"]([e,t,arguments]),p}}function t(e,t,n){return n||(n=c),function(i,o){return o&&k(o)&&(o.$$moduleName=r),n.push([e,t,arguments]),p}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var c=[],u=[],l=[],d=e("$injector","invoke","push",u),p={_invokeQueue:c,_configBlocks:u,_runBlocks:l,info:function(e){if(b(e)){if(!_(e))throw i("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",u),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return l.push(e),this}};return a&&d(a),p})}})}function _e(e,t){if(mi(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(_(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function xe(e,t){var r=[];return n(t)&&(e=fi.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=Y(e,t),_(t)){if(r.indexOf(t)>=0)return"...";r.push(t)}return t})}function Ae(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):w(e)?"undefined":"string"!=typeof e?xe(e,t):e}function Ce(){return++Ri}function Ee(e){return ke(e.replace(Pi,"ms-"))}function Te(e,t){return t.toUpperCase()}function ke(e){return e.replace(Fi,Te)}function $e(e){return!Ui.test(e)}function Se(e){var t=e.nodeType;return t===ki||!t||t===qi}function qe(e){for(var t in Di[e.ng339])return!0;return!1}function Ie(e,t){var n,r,i,a,s=t.createDocumentFragment(),c=[];if($e(e))c.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Ni.exec(e)||["",""])[1].toLowerCase(),i=Qi[r]||Qi._default,n.innerHTML=i[1]+e.replace(Hi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;c=V(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(c,function(e){s.appendChild(e)}),s}function Me(t,n){n=n||e.document;var r;return(r=Li.exec(t))?[n.createElement(r[1])]:(r=Ie(t,n))?r.childNodes:[]}function De(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Re(e){if(e instanceof Re)return e;var t;if(A(e)&&(e=yi(e),t=!0),!(this instanceof Re)){if(t&&"<"!==e.charAt(0))throw Bi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Re(e)}t?je(this,Me(e)):k(e)?We(e):je(this,e)}function Fe(e){return e.cloneNode(!0)}function Pe(e,t){!t&&Se(e)&&ii.cleanData([e]),e.querySelectorAll&&ii.cleanData(e.querySelectorAll("*"))}function Oe(e,t,n,r){if(b(r))throw Bi("offargs","jqLite#off() does not support the `selector` argument");var i=Le(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var c=function(t){var r=a[t];b(n)&&H(r||[],n),b(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete a[t])};o(t.split(" "),function(e){c(e),Oi[e]&&c(Oi[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t]}function Be(e,t){var n=e.ng339,r=n&&Di[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Oe(e)),delete Di[n],e.ng339=void 0}}function Le(e,t){var n=e.ng339,r=n&&Di[n];return t&&!r&&(e.ng339=n=Ce(),r=Di[n]={events:{},data:{},handle:void 0}),r}function Ue(e,t,n){if(Se(e)){var r,i=b(n),o=!i&&t&&!_(t),a=!t,s=Le(e,!o),c=s&&s.data;if(i)c[ke(t)]=n;else{if(a)return c;if(o)return c&&c[ke(t)];for(r in t)c[ke(r)]=t[r]}}}function Ne(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function He(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",yi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+yi(t)+" "," ")))})}function Qe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=yi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",yi(n))}}function je(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function ze(e,t){return Ve(e,"$"+(t||"ngController")+"Controller")}function Ve(e,t,n){e.nodeType===qi&&(e=e.documentElement);for(var r=mi(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(b(n=ii.data(e,r[i])))return n;e=e.parentNode||e.nodeType===Ii&&e.host}}function Ge(e){for(Pe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ke(e,t){t||Pe(e);var n=e.parentNode;n&&n.removeChild(e)}function Ye(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ii(n).on("load",t)}function We(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Je(e,t){var n=Vi[t.toLowerCase()];return n&&Gi[U(e)]&&n}function Ze(e){return Ki[e]}function Xe(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(w(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||et;o>1&&(i=_e(i));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(e,n,i[c])}};return n.elem=e,n}function et(e,t,n){n.call(e,t)}function tt(e,t,n){var r=t.relatedTarget;r&&(r===e||ji.call(e,r))||n.call(e,t)}function nt(){this.$get=function(){return d(Re,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Qe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)}})}}function rt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||c)():r+":"+e}function it(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ot(e){return Function.prototype.toString.call(e)}function at(e){var t=ot(e).replace(no,"");return t.match(Zi)||t.match(Xi)}function st(e){var t=at(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ct(e,t,n){var r,i,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw A(n)&&n||(n=e.name||st(e)),ro("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=at(e),o(i[1].split(eo),function(e){e.replace(to,function(e,t,n){r.push(n)})})}e.$inject=r}}else mi(e)?(a=e.length-1,he(e[a],"fn"),r=e.slice(0,a)):he(e,"fn",!0);return r}function ut(e,t){function n(e){return function(t,n){if(!_(t))return e(t,n);o(t,s(e))}}function r(e,t){if(ge(e,"service"),(k(t)||mi(t))&&(t=x.instantiate(t)),!t.$get)throw ro("pget","Provider '{0}' must define $get factory method.",e);return b[e+g]=t}function i(e,t){return function(){var n=T.invoke(t,this);if(w(n))throw ro("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function a(e,t,n){return r(e,{$get:!1!==n?i(e,t):t})}function c(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,v(t),!1)}function l(e,t){ge(e,"constant"),b[e]=t,C[e]=t}function d(e,t){var n=x.get(e+g),r=n.$get;n.$get=function(){var e=T.invoke(r,n);return T.invoke(t,null,{$delegate:e})}}function p(e){fe(w(e)||mi(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!y.get(e)){y.set(e,!0);try{A(e)?(t=ai(e),T.modules[e]=t,n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):k(e)?n.push(x.invoke(e)):mi(e)?n.push(x.invoke(e)):he(e,"module")}catch(t){throw mi(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ro("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw ro("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=h,e[t]=n(t,r),e[t]}catch(n){throw e[t]===h&&delete e[t],n}finally{m.shift()}}function i(e,n,i){for(var o=[],a=ut.$$annotate(e,t,i),s=0,c=a.length;s<c;s++){var u=a[s];if("string"!=typeof u)throw ro("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){if(ri||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return R(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(ot(e))),t}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return mi(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=mi(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:ut.$$annotate,has:function(t){return b.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var h={},g="Provider",m=[],y=new Wi,b={$provide:{provider:n(r),factory:n(a),service:n(c),value:n(u),constant:n(l),decorator:d}},x=b.$injector=f(b,function(e,t){throw fi.isString(t)&&m.push(t),ro("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},E=f(C,function(e,t){var n=x.get(e+g,t);return T.invoke(n.$get,n,void 0,e)}),T=E;b["$injector"+g]={$get:v(E)},T.modules=x.modules=ye();var $=p(e);return T=E.get("$injector"),T.strictDi=t,o($,function(e){e&&T.invoke(e)}),T}function lt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===U(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(k(e))e=e();else if(B(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=A(e)?e:C(e)?e.toString():n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=i(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ye(function(){r.$evalAsync(s)})}),s}]}function dt(e,t){return e||t?e?t?(mi(e)&&(e=e.join(" ")),mi(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function pt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===oo)return n}}function ft(e){A(e)&&(e=e.split(" "));var t=ye();return o(e,function(e){e.length&&(t[e]=!0)}),t}function ht(e){return _(e)?e:{}}function gt(e,t,n,r){function i(e){try{e.apply(null,G(arguments,1))}finally{if(0===--v)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,u()}function c(){b=E(),b=w(b)?null:b,z(b,$)&&(b=$),$=b,_=b}function u(){var e=_;c(),x===l.url()&&e===b||(x=l.url(),_=b,o(T,function(e){e(l.url(),b)}))}var l=this,d=e.location,p=e.history,f=e.setTimeout,h=e.clearTimeout,m={};l.isMock=!1;var v=0,y=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){v++},l.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var b,_,x=d.href,A=t.find("base"),C=null,E=r.history?function(){try{return p.state}catch(e){}}:g;c(),l.url=function(t,n,i){if(w(i)&&(i=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var o=_===i;if(x===t&&(!r.history||o))return l;var s=x&&Wt(x)===Wt(t);return x=t,_=i,!r.history||s&&o?(s||(C=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(C=t)):(p[n?"replaceState":"pushState"](i,"",t),c()),C&&(C=t),l}return C||d.href.replace(/%27/g,"'")},l.state=function(){return b};var T=[],k=!1,$=null;l.onUrlChange=function(t){return k||(r.history&&ii(e).on("popstate",s),ii(e).on("hashchange",s),k=!0),T.push(t),t},l.$$applicationDestroyed=function(){ii(e).off("hashchange popstate",s)},l.$$checkUrlChange=u,l.baseHref=function(){var e=A.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return v++,n=f(function(){delete m[n],i(e)},t||0),m[n]=!0,n},l.defer.cancel=function(e){return!!m[e]&&(delete m[e],h(e),i(g),!0)}}function mt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new gt(e,r,t,n)}]}function vt(){this.$get=function(){function e(e,n){function i(e){e!==p&&(f?f===e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),c=ye(),u=n&&n.capacity||Number.MAX_VALUE,l=ye(),p=null,f=null;return t[e]={put:function(e,t){if(!w(t)){if(u<Number.MAX_VALUE){i(l[e]||(l[e]={key:e}))}return e in c||a++,c[e]=t,a>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;t===p&&(p=t.p),t===f&&(f=t.n),o(t.n,t.p),delete l[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=ye(),a=0,l=ye(),p=f=null},destroy:function(){c=null,s=null,l=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function yt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function wt(){}function bt(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=ye();return o(e,function(e,o){if(e in $)return void(i[o]=$[e]);var a=e.match(r);if(!a)throw fo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&($[e]=i[o])}),i}function i(e,t){var n={isolateScope:null,bindToController:null};if(_(e.scope)&&(!0===e.bindToController?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),_(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw fo("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function a(e){var t=e.charAt(0);if(!t||t!==Xr(t))throw fo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw fo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function c(e){var t=e.require||e.controller&&e.name;return!mi(t)&&_(t)&&o(t,function(e,n){var r=e.match(C);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}function u(e,t){if(e&&(!A(e)||!/[EACM]/.test(e)))throw fo("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var l={},p="Directive",f=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,x=L("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,$=ye();this.directive=function e(n,r){return fe(n,"name"),ge(n,"directive"),A(n)?(a(n),fe(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],t.factory(n+p,["$injector","$exceptionHandler",function(e,t){var r=[];return o(l[n],function(i,o){try{var a=e.invoke(i);k(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=c(a),a.restrict=u(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),l[n].push(r)):o(n,s(e)),this},this.component=function e(t,n){function r(e){function t(t){return k(t)||mi(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var r=n.template||n.templateUrl?n.template:"",a={controller:i,controllerAs:Et(n.controller)||n.controllerAs||"$ctrl",template:t(r),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return o(n,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}if(!A(t))return o(t,s(K(this,e))),this;var i=n.controller||function(){};return o(n,function(e,t){"$"===t.charAt(0)&&(r[t]=e,k(i)&&(i[t]=e))}),r.$inject=["$injector"],this.directive(t,r)},this.aHrefSanitizationWhitelist=function(e){return b(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(e){return b(e)?(S=e,this):S};var I=!1;this.preAssignBindingsEnabled=function(e){return b(e)?(I=e,this):I};var M=!1;this.strictComponentBindingsEnabled=function(e){return b(e)?(M=e,this):M};var D=10;this.onChangesTtl=function(e){return arguments.length?(D=e,this):D};var F=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(F=e,this):F};var P=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(P=e,this):P},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,a,s,c,u,v,$,O){function B(){try{if(!--De)throw ke=void 0,fo("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);u.$apply(function(){for(var e=[],t=0,n=ke.length;t<n;++t)try{ke[t]()}catch(t){e.push(t)}if(ke=void 0,e.length)throw e})}finally{De++}}function L(e,t){if(t){var n,r,i,o=Object.keys(t)
;for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function N(e,t,n){qe.innerHTML="<span "+t+">";var r=qe.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function Q(e,t){try{e.addClass(t)}catch(e){}}function V(e,t,n,r,i){e instanceof ii||(e=ii(e));var o=W(e,t,e,n,r,i);V.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw fo("multilink","This element has already been linked.");fe(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,c=r.transcludeControllers,u=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=Y(u));var l;if(l="html"!==a?ii(we(a,ii("<div>").append(e).html())):n?zi.clone.call(e):e,c)for(var d in c)l.data("$"+d+"Controller",c[d].instance);return V.$$addScopeInfo(l,t),n&&n(l,t),o&&o(t,l,l,s),n||(e=o=null),l}}function Y(e){var t=e&&e[0];return t&&"foreignobject"!==U(t)&&li.call(t).match(/SVG/)?"svg":"html"}function W(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,c,u,l,d,p,g;if(f){var m=n.length;for(g=new Array(m),u=0;u<h.length;u+=3)d=h[u],g[d]=n[d]}else g=n;for(u=0,l=h.length;u<l;)s=g[h[u++]],o=h[u++],a=h[u++],o?(o.scope?(c=e.$new(),V.$$addScopeInfo(ii(s),c)):c=e,p=o.transcludeOnThisElement?Z(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?Z(e,t):null,o(a,c,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var s,c,u,l,d,p,f,h=[],g=mi(e)||e instanceof ii,m=0;m<e.length;m++)s=new L,11===ri&&J(e,m,g),c=X(e[m],[],s,0===m?r:void 0,i),u=c.length?oe(c,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&V.$$addScopeClass(s.$$element),d=u&&u.terminal||!(l=e[m].childNodes)||!l.length?null:W(l,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(h.push(m,u,d),p=!0,f=f||u),o=null;return p?a:null}function J(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===$i)for(;;){if(!(r=o?i.nextSibling:e[t+1])||r.nodeType!==$i)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}}function Z(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=ye();for(var o in t.$$slots)t.$$slots[o]?i[o]=Z(e,t.$$slots[o],n):i[o]=null;return r}function X(e,t,n,r,i){var o,a,s,c=e.nodeType,u=n.$attr;switch(c){case ki:a=U(e),ue(t,xt(a),"E",r,i);for(var l,d,p,f,h,g,m=e.attributes,v=0,w=m&&m.length;v<w;v++){var b=!1,x=!1;l=m[v],d=l.name,h=l.value,f=xt(d),g=Be.test(f),g&&(d=d.replace(go,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=f.match(Le);C&&le(C[1])&&(b=d,x=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=xt(d.toLowerCase()),u[p]=d,!g&&n.hasOwnProperty(p)||(n[p]=h,Je(e,p)&&(n[p]=!0)),_e(e,t,h,p,g),ue(t,p,"A",r,i,b,x)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Me)break;if(s=e.className,_(s)&&(s=s.animVal),A(s)&&""!==s)for(;o=y.exec(s);)p=xt(o[2]),ue(t,p,"C",r,i)&&(n[p]=yi(o[3])),s=s.substr(o.index+o[0].length);break;case $i:ve(t,e.nodeValue);break;case Si:if(!Ie)break;ee(e,t,n,r,i)}return t.sort(ge),t}function ee(e,t,n,r,i){try{var o=f.exec(e.nodeValue);if(o){var a=xt(o[1]);ue(t,a,"M",r,i)&&(n[a]=yi(o[2]))}}catch(e){}}function ne(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw fo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===ki&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return ii(r)}function re(e,t,n){return function(r,i,o,a,s){return i=ne(i[0],t,n),e(r,i,o,a,s)}}function ie(e,t,n,r,i,o){var a;return e?V(t,n,r,i,o):function(){return a||(a=V(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function oe(e,t,n,i,a,s,c,u,l){function p(e,t,n,r){e&&(n&&(e=re(e,n,r)),e.require=h.require,e.directiveName=g,(C===h||h.$$isolateScope)&&(e=Ae(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=re(t,n,r)),t.require=h.require,t.directiveName=g,(C===h||h.$$isolateScope)&&(t=Ae(t,{isolateScope:!0})),u.push(t))}function f(e,i,a,s,l){function p(e,t,n,r){var i;if(q(e)||(r=n,n=t,t=e,e=void 0),M&&(i=y),n||(n=M?T.parent():T),!r)return l(e,t,i,n,B);var o=l.$$slots[r];if(o)return o(e,t,i,n,B);if(w(o))throw fo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,te(T))}var f,h,g,m,v,y,b,T,$,S;t===a?($=n,T=n.$$element):(T=ii(a),$=new L(T,n)),v=i,C?m=i.$new(!0):x&&(v=i.$parent),l&&(b=p,b.$$boundTransclude=l,b.isSlotFilled=function(e){return!!l.$$slots[e]}),A&&(y=se(T,$,b,A,m,i,C)),C&&(V.$$addScopeInfo(T,m,!0,!(E&&(E===C||E===C.$$originalDirective))),V.$$addScopeClass(T,!0),m.$$isolateBindings=C.$$isolateBindings,S=Te(i,$,m,m.$$isolateBindings,C),S.removeWatches&&m.$on("$destroy",S.removeWatches));for(var D in y){var R=A[D],F=y[D],P=R.$$bindings.bindToController;if(I){F.bindingInfo=P?Te(v,$,F.instance,P,R):{};var O=F();O!==F.instance&&(F.instance=O,T.data("$"+R.name+"Controller",O),F.bindingInfo.removeWatches&&F.bindingInfo.removeWatches(),F.bindingInfo=Te(v,$,F.instance,P,R))}else F.instance=F(),T.data("$"+R.name+"Controller",F.instance),F.bindingInfo=Te(v,$,F.instance,P,R)}for(o(A,function(e,t){var n=e.require;e.bindToController&&!mi(n)&&_(n)&&d(y[t].instance,ae(t,n,T,y))}),o(y,function(e){var t=e.instance;if(k(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){r(e)}if(k(t.$onInit))try{t.$onInit()}catch(e){r(e)}k(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),k(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),f=0,h=c.length;f<h;f++)g=c[f],Ce(g,g.isolateScope?m:i,T,$,g.require&&ae(g.directiveName,g.require,T,y),b);var B=i;for(C&&(C.template||null===C.templateUrl)&&(B=m),e&&e(B,a.childNodes,void 0,l),f=u.length-1;f>=0;f--)g=u[f],Ce(g,g.isolateScope?m:i,T,$,g.require&&ae(g.directiveName,g.require,T,y),b);o(y,function(e){var t=e.instance;k(t.$postLink)&&t.$postLink()})}l=l||{};for(var h,g,m,v,y,b=-Number.MAX_VALUE,x=l.newScopeDirective,A=l.controllerDirectives,C=l.newIsolateScopeDirective,E=l.templateDirective,T=l.nonTlbTranscludeDirective,$=!1,S=!1,M=l.hasElementTranscludeDirective,D=n.$$element=ii(t),R=s,F=i,P=!1,O=!1,B=0,N=e.length;B<N;B++){h=e[B];var H=h.$$start,Q=h.$$end;if(H&&(D=ne(t,H,Q)),m=void 0,b>h.priority)break;if(y=h.scope,y&&(h.templateUrl||(_(y)?(me("new/isolated scope",C||x,h,D),C=h):me("new/isolated scope",C,h,D)),x=x||h),g=h.name,!P&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var j,z=B+1;j=e[z++];)if(j.transclude&&!j.$$tlb||j.replace&&(j.templateUrl||j.template)){O=!0;break}P=!0}if(!h.templateUrl&&h.controller&&(A=A||ye(),me("'"+g+"' controller",A[g],h,D),A[g]=h),y=h.transclude)if($=!0,h.$$tlb||(me("transclusion",T,h,D),T=h),"element"===y)M=!0,b=h.priority,m=D,D=n.$$element=ii(V.$$createComment(g,n[g])),t=D[0],xe(a,G(m),t),m[0].$$parentNode=m[0].parentNode,F=ie(O,m,i,b,R&&R.name,{nonTlbTranscludeDirective:T});else{var Y=ye();if(_(y)){m=[];var W=ye(),J=ye();o(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,W[e]=t,Y[t]=null,J[t]=n}),o(D.contents(),function(e){var t=W[xt(U(e))];t?(J[t]=!0,Y[t]=Y[t]||[],Y[t].push(e)):m.push(e)}),o(J,function(e,t){if(!e)throw fo("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var Z in Y)Y[Z]&&(Y[Z]=ie(O,Y[Z],i))}else m=ii(Fe(t)).contents();D.empty(),F=ie(O,m,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),F.$$slots=Y}if(h.template)if(S=!0,me("template",E,h,D),E=h,y=k(h.template)?h.template(D,n):h.template,y=Oe(y),h.replace){if(R=h,m=$e(y)?[]:Ct(we(h.templateNamespace,yi(y))),t=m[0],1!==m.length||t.nodeType!==ki)throw fo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");xe(a,D,t);var ee={$attr:{}},oe=X(t,[],ee),ue=e.splice(B+1,e.length-(B+1));(C||x)&&ce(oe,C,x),e=e.concat(oe).concat(ue),de(n,ee),N=e.length}else D.html(y);if(h.templateUrl)S=!0,me("template",E,h,D),E=h,h.replace&&(R=h),f=he(e.splice(B,e.length-B),D,n,a,$&&F,c,u,{controllerDirectives:A,newScopeDirective:x!==h&&x,newIsolateScopeDirective:C,templateDirective:E,nonTlbTranscludeDirective:T}),N=e.length;else if(h.compile)try{v=h.compile(D,n,F);var le=h.$$originalDirective||h;k(v)?p(null,K(le,v),H,Q):v&&p(K(le,v.pre),K(le,v.post),H,Q)}catch(e){r(e,te(D))}h.terminal&&(f.terminal=!0,b=Math.max(b,h.priority))}return f.scope=x&&!0===x.scope,f.transcludeOnThisElement=$,f.templateOnThisElement=S,f.transclude=F,l.hasElementTranscludeDirective=M,f}function ae(e,t,n,r){var i;if(A(t)){var a=t.match(C),s=t.substring(a[0].length),c=a[1]||a[3],u="?"===a[2];if("^^"===c?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i=c?n.inheritedData(l):n.data(l)}if(!i&&!u)throw fo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(mi(t)){i=[];for(var d=0,p=t.length;d<p;d++)i[d]=ae(e,t[d],n,r)}else _(t)&&(i={},o(t,function(t,o){i[o]=ae(e,t,n,r)}));return i||null}function se(e,t,n,r,i,o,a){var s=ye();for(var u in r){var l=r[u],d={$scope:l===a||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},p=l.controller;"@"===p&&(p=t[l.name]);var f=c(p,d,!0,l.controllerAs);s[l.name]=f,e.data("$"+l.name+"Controller",f.instance)}return s}function ce(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function ue(e,n,r,o,a,s,c){if(n===a)return null;var u=null;if(l.hasOwnProperty(n))for(var d,f=t.get(n+p),g=0,m=f.length;g<m;g++)if(d=f[g],(w(o)||o>d.priority)&&-1!==d.restrict.indexOf(r)){if(s&&(d=h(d,{$$start:s,$$end:c})),!d.$$bindings){var v=d.$$bindings=i(d,d.name);_(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}e.push(d),u=d}return u}function le(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+p),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function de(e,t){var n=t.$attr,r=e.$attr;o(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function he(e,t,n,i,s,c,u,l){var d,p,f=[],g=t[0],m=e.shift(),v=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=k(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,w=m.templateNamespace;return t.empty(),a(y).then(function(r){var a,h,b,x;if(r=Oe(r),m.replace){if(b=$e(r)?[]:Ct(we(w,yi(r))),a=b[0],1!==b.length||a.nodeType!==ki)throw fo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);h={$attr:{}},xe(i,t,a);var A=X(a,[],h);_(m.scope)&&ce(A,!0),e=A.concat(e),de(n,h)}else a=g,t.html(r);for(e.unshift(v),d=oe(e,a,n,s,t,m,c,u,l),o(i,function(e,n){e===a&&(i[n]=t[0])}),p=W(t[0].childNodes,s);f.length;){var C=f.shift(),E=f.shift(),T=f.shift(),k=f.shift(),$=t[0];if(!C.$$destroyed){if(E!==g){var S=E.className;l.hasElementTranscludeDirective&&m.replace||($=Fe(a)),xe(T,ii(E),$),Q(ii($),S)}x=d.transcludeOnThisElement?Z(C,d.transclude,k):k,d(p,C,$,i,x)}}f=null}).catch(function(e){T(e)&&r(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(f?f.push(t,n,r,o):(d.transcludeOnThisElement&&(o=Z(t,d.transclude,i)),d(p,t,n,r,o)))}}function ge(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw fo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,te(r))}function ve(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&V.$$addBindingClass(t),function(e,t){var i=t.parent();n||V.$$addBindingClass(i),V.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function we(t,n){switch(t=Xr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function be(e,t){if("srcdoc"===t)return v.HTML;var n=U(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function _e(e,t,r,i,o){var a=be(e,i),s=!o,c=x[i]||o,u=n(r,s,a,c);if(u){if("multiple"===i&&"select"===U(e))throw fo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",te(e));if(E.test(i))throw fo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=ye()),l=o[i];l!==r&&(u=l&&n(l,!0,a,c),r=l),u&&(o[i]=u(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(u,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function xe(t,n,r){var i,o,a=n[0],s=n.length,c=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var u=i,l=u+s-1,d=t.length;u<d;u++,l++)l<d?t[u]=t[l]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}c&&c.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;i<s;i++)p.appendChild(n[i]);for(ii.hasData(a)&&(ii.data(r,ii.data(a)),ii(a).off("$destroy")),ii.cleanData(p.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function Ae(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function Ce(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(e){r(e,te(n))}}function Ee(e,t){if(M)throw fo("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Te(e,t,r,i,a){function c(t,n,i){k(r.$onChanges)&&!j(n,i)&&(ke||(e.$$postDigest(B),ke=[]),l||(l={},ke.push(u)),l[t]&&(i=l[t].previousValue),l[t]=new _t(i,n))}function u(){r.$onChanges(l),l=void 0}var l,d=[],p={};return o(i,function(i,o){var u,l,f,h,m,v=i.attrName,y=i.optional,w=i.mode;switch(w){case"@":y||Zr.call(t,v)||(Ee(v,a.name),r[o]=t[v]=void 0),m=t.$observe(v,function(e){if(A(e)||R(e)){var t=r[o];c(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],A(u)?r[o]=n(u)(e):R(u)&&(r[o]=u),p[o]=new _t(ho,r[o]),d.push(m);break;case"=":if(!Zr.call(t,v)){if(y)break;Ee(v,a.name),t[v]=void 0}if(y&&!t[v])break;l=s(t[v]),h=l.literal?z:j,f=l.assign||function(){throw u=r[o]=l(e),fo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=r[o]=l(e);var b=function(t){return h(t,r[o])||(h(t,u)?f(e,t=r[o]):r[o]=t),u=t};b.$stateful=!0,m=i.collection?e.$watchCollection(t[v],b):e.$watch(s(t[v],b),null,l.literal),d.push(m);break;case"<":if(!Zr.call(t,v)){if(y)break;Ee(v,a.name),t[v]=void 0}if(y&&!t[v])break;l=s(t[v]);var _=l.literal,x=r[o]=l(e);p[o]=new _t(ho,r[o]),m=e.$watch(l,function(e,t){if(t===e){if(t===x||_&&z(t,x))return;t=x}c(o,e,t),r[o]=e},_),d.push(m);break;case"&":if(y||Zr.call(t,v)||Ee(v,a.name),(l=t.hasOwnProperty(v)?s(t[v]):g)===g&&y)break;r[o]=function(t){return l(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var ke,Se=/^\w/,qe=e.document.createElement("div"),Ie=F,Me=P,De=D;L.prototype={$normalize:xt,$addClass:function(e){e&&e.length>0&&$.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&$.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=At(e,t);n&&n.length&&$.addClass(this.$$element,n);var r=At(t,e);r&&r.length&&$.removeClass(this.$$element,r)},$set:function(e,t,n,i){var a,s=this.$$element[0],c=Je(s,e),u=Ze(e),l=e;if(c?(this.$$element.prop(e,t),i=c):u&&(this[u]=t,l=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=pe(e,"-")),"a"===(a=U(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=O(t,"src"===e);else if("img"===a&&"srcset"===e&&b(t)){for(var d="",p=yi(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,g=p.split(h),m=Math.floor(g.length/2),v=0;v<m;v++){var y=2*v;d+=O(yi(g[y]),!0),d+=" "+yi(g[y+1])}var _=yi(g[2*v]).split(/\s/);d+=O(yi(_[0]),!0),2===_.length&&(d+=" "+yi(_[1])),this[e]=t=d}!1!==n&&(null===t||w(t)?this.$$element.removeAttr(i):Se.test(i)?this.$$element.attr(i,t):N(this.$$element[0],i,t));var x=this.$$observers;x&&o(x[l],function(e){try{e(t)}catch(e){r(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ye()),i=r[e]||(r[e]=[]);return i.push(t),u.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||w(n[e])||t(n[e])}),function(){H(i,t)}}};var Re=n.startSymbol(),Pe=n.endSymbol(),Oe="{{"===Re&&"}}"===Pe?m:function(e){return e.replace(/\{\{/g,Re).replace(/}}/g,Pe)},Be=/^ngAttr[A-Z]/,Le=/^(.+)Start$/;return V.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];mi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,V.$$addBindingClass=S?function(e){Q(e,"ng-binding")}:g,V.$$addScopeInfo=S?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:g,V.$$addScopeClass=S?function(e,t){Q(e,t?"ng-isolate-scope":"ng-scope")}:g,V.$$createComment=function(t,n){var r="";return S&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},V}]}function _t(e,t){this.previousValue=e,this.currentValue=t}function xt(e){return e.replace(go,"").replace(mo,Te)}function At(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Ct(e){e=ii(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Si||n.nodeType===$i&&""===n.nodeValue.trim())&&ci.call(e,t,1)}return e}function Et(e,t){if(t&&A(t))return t;if(A(e)){var n=yo.exec(e);if(n)return n[3]}}function Tt(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ge(t,"controller"),_(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,i){function o(e,t,n,i){if(!e||!_(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,a,s,c){var u,l,p,f;if(s=!0===s,c&&A(c)&&(f=c),A(r)){if(!(l=r.match(yo)))throw vo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(p=l[1],f=f||l[3],!(r=e.hasOwnProperty(p)?e[p]:me(a.$scope,p,!0)||(t?me(i,p,!0):void 0)))throw vo("ctrlreg","The controller with the name '{0}' is not registered.",p);he(r,p,!0)}if(s){var h=(mi(r)?r[r.length-1]:r).prototype;return u=Object.create(h||null),f&&o(a,f,u,p||r.name),d(function(){var e=n.invoke(r,u,a,p);return e!==u&&(_(e)||k(e))&&(u=e,f&&o(a,f,u,p||r.name)),u},{instance:u,identifier:f})}return u=n.instantiate(r,a,p),f&&o(a,f,u,p||r.name),u}}]}function kt(){this.$get=["$window",function(e){return ii(e.document)}]}function $t(){this.$get=["$document","$rootScope",function(e,t){function n(){i=r.hidden}var r=e[0],i=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return i}}]}function St(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function qt(e){return _(e)?E(e)?e.toISOString():W(e):e}function It(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||w(e)||k(e)||(mi(e)?o(e,function(e){t.push(ae(n)+"="+ae(qt(e)))}):t.push(ae(n)+"="+ae(qt(e))))}),t.join("&")}}}function Mt(){this.$get=function(){return function(e){function t(e,r,i){null===e||w(e)||(mi(e)?o(e,function(e,n){t(e,r+"["+(_(e)?n:"")+"]")}):_(e)&&!E(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ae(r)+"="+ae(qt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Dt(e,t){if(A(e)){var n=e.replace(Co,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(bo);if(i||Rt(n))try{e=J(n)}catch(t){if(!i)return e;throw Eo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function Rt(e){var t=e.match(xo);return t&&Ao[t[0]].test(e)}function Ft(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ye();return A(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(Xr(yi(e.substr(0,n))),yi(e.substr(n+1)))}):_(e)&&o(e,function(e,n){t(Xr(n),yi(e))}),r}function Pt(e){var t;return function(n){if(t||(t=Ft(e)),n){var r=t[Xr(n)];return void 0===r&&(r=null),r}return t}}function Ot(e,t,n,r){return k(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function Bt(e){return 200<=e&&e<300}function Lt(){var e=this.defaults={transformResponse:[Dt],transformRequest:[function(e){return!_(e)||I(e)||D(e)||M(e)?e:W(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_e(_o),put:_e(_o),patch:_e(_o)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return b(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,c,u,l,p,f){function h(t){function n(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(){i.$$completeOutstandingRequest(g)}function s(e,t){var n,r={};return o(e,function(e,i){k(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e}),r}function c(t){var n=t.headers,r=Ot(t.data,Pt(n),void 0,t.transformRequest);return w(r)&&o(n,function(e,t){"content-type"===Xr(t)&&delete n[t]}),w(t.withCredentials)&&!w(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(u,u)}function u(e){var t=d({},e);return t.data=Ot(e.data,e.headers,e.status,h.transformResponse),Bt(e.status)?t:l.reject(t)}if(!_(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!A(f.valueOf(t.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var h=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);h.headers=function(t){var n,r,i,o=e.headers,a=d({},t.headers);o=d({},o.common,o[Xr(t.method)]);e:for(n in o){r=Xr(n);for(i in a)if(Xr(i)===r)continue e;a[n]=o[n]}return s(a,_e(t))}(t),h.method=ei(h.method),h.paramSerializer=A(h.paramSerializer)?p.get(h.paramSerializer):h.paramSerializer,i.$$incOutstandingRequestCount();var v=[],y=[],b=l.resolve(h);return o(C,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),b=n(b,v),b=b.then(c),b=n(b,y),b=b.finally(a)}function m(n,r){function i(e){if(e){var n={};return o(e,function(e,r){n[r]=function(n){function r(){e(n)}t?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),n}}function c(e,n,r,i,o){function a(){d(n,e,r,i,o)}m&&(Bt(e)?m.put(S,[e,n,Ft(r),i,o]):m.remove(S)),t?u.$applyAsync(a):(a(),u.$$phase||u.$apply())}function d(e,t,r,i,o){t=t>=-1?t:0,(Bt(t)?E.resolve:E.reject)({data:e,status:t,headers:Pt(r),config:n,statusText:i,xhrStatus:o})}function p(e){d(e.data,e.status,_e(e.headers()),e.statusText,e.xhrStatus)}function g(){var e=h.pendingRequests.indexOf(n);-1!==e&&h.pendingRequests.splice(e,1)}var m,C,E=l.defer(),T=E.promise,k=n.headers,$="jsonp"===Xr(n.method),S=n.url;if($?S=f.getTrustedResourceUrl(S):A(S)||(S=f.valueOf(S)),S=v(S,n.paramSerializer(n.params)),$&&(S=y(S,n.jsonpCallbackParam)),h.pendingRequests.push(n),T.then(g,g),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(m=_(n.cache)?n.cache:_(e.cache)?e.cache:x),m&&(C=m.get(S),b(C)?F(C)?C.then(p,p):mi(C)?d(C[1],C[0],_e(C[2]),C[3],C[4]):d(C,200,{},"OK","complete"):m.put(S,T)),w(C)){var q=Qn(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;q&&(k[n.xsrfHeaderName||e.xsrfHeaderName]=q),a(n.method,S,r,c,k,n.timeout,n.withCredentials,n.responseType,i(n.eventHandlers),i(n.uploadEventHandlers))}return T}function v(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function y(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Eo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw Eo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var x=c("$http");e.paramSerializer=A(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var C=[];return o(n,function(e){C.unshift(A(e)?p.get(e):p.invoke(e))}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,r){return h(d({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function Ut(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Nt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Ht(e,r,e.defer,t,n[0])}]}function Ht(e,t,n,r,i){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,c="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,c,u,l,d,p,f,h,g){function m(){_&&_(),x&&x.abort()}function v(e,t,r,i,o,a){b(T)&&n.cancel(T),_=x=null,e(t,r,i,o,a)}if(s=s||e.url(),"jsonp"===Xr(i))var y=r.createCallback(s),_=a(s,y,function(e,t){var n=200===e&&r.getResponse(y);v(u,e,n,"",t,"complete"),r.removeCallback(y)});else{var x=t(i,s);x.open(i,s,!0),o(l,function(e,t){b(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=t?200:"file"===Hn(s).protocol?404:0),v(u,n,t,x.getAllResponseHeaders(),e,"complete")};var A=function(){v(u,-1,null,null,"","error")},C=function(){v(u,-1,null,null,"","abort")},E=function(){v(u,-1,null,null,"","timeout")};if(x.onerror=A,x.onabort=C,x.ontimeout=E,o(h,function(e,t){x.addEventListener(t,e)}),o(g,function(e,t){x.upload.addEventListener(t,e)}),p&&(x.withCredentials=!0),f)try{x.responseType=f}catch(e){if("json"!==f)throw e}x.send(w(c)?null:c)}if(d>0)var T=n(m,d);else F(d)&&d.then(m)}}function Qt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(f,t)}function s(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function c(o,c,p,f){function h(e){try{return e=q(e),f&&!b(e)?e:we(e)}catch(e){r(To.interr(o,e))}}if(!o.length||-1===o.indexOf(e)){var g;if(!c){g=v(a(o)),g.exp=o,g.expressions=[],g.$$watchDelegate=s}return g}f=!!f;for(var m,y,_,x=0,A=[],C=[],E=o.length,T=[],$=[];x<E;){if(-1===(m=o.indexOf(e,x))||-1===(y=o.indexOf(t,m+u))){x!==E&&T.push(a(o.substring(x)));break}x!==m&&T.push(a(o.substring(x,m))),_=o.substring(m+u,y),A.push(_),C.push(n(_,h)),x=y+l,$.push(T.length),T.push("")}if(p&&T.length>1&&To.throwNoconcat(o),!c||A.length){var S=function(e){for(var t=0,n=A.length;t<n;t++){if(f&&w(e[t]))return;T[$[t]]=e[t]}return T.join("")},q=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return d(function(e){var t=0,n=A.length,i=new Array(n);try{for(;t<n;t++)i[t]=C[t](e);return S(i)}catch(e){r(To.interr(o,e))}},{exp:o,expressions:A,$$watchDelegate:function(e,t){var n;return e.$watchGroup(C,function(r,i){var o=S(r);k(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,l=t.length,p=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function jt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,c,u){function l(){d?o.apply(null,p):o(g)}var d=arguments.length>4,p=d?G(arguments,4):[],f=t.setInterval,h=t.clearInterval,g=0,m=b(u)&&!u,v=(m?r:n).defer(),y=v.promise;return c=b(c)?c:0,y.$$intervalId=f(function(){m?i.defer(l):e.$evalAsync(l),v.notify(g++),c>0&&g>=c&&(v.resolve(g),h(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(Sn(a[e.$$intervalId].promise),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function zt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=oe(t[n]);return t.join("/")}function Vt(e,t){var n=Hn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||So[n.protocol]||null}function Gt(e,t){if(Io.test(e))throw qo("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Hn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=re(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Kt(e,t){return e.slice(0,t.length)===t}function Yt(e,t){if(Kt(t,e))return t.substr(e.length)}function Wt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Jt(e){return e.replace(/(#.+)|#$/,"$1")}function Zt(e){return e.substr(0,Wt(e).lastIndexOf("/")+1)}function Xt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function en(e,t,n){this.$$html5=!0,n=n||"",Vt(e,this),this.$$parse=function(e){var n=Yt(t,e);if(!A(n))throw qo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Gt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ie(this.$$search),n=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=zt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=Yt(e,r))?(a=o,s=n&&b(o=Yt(n,o))?t+(Yt("/",o)||o):e+a):b(o=Yt(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function tn(e,t,n){Vt(e,this),this.$$parse=function(r){var i,o=Yt(e,r)||Yt(t,r);w(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",w(o)&&(e=r,this.replace())):(i=Yt(n,o),w(i)&&(i=o)),Gt(i,this),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Kt(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=ie(this.$$search),r=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=zt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return Wt(e)===Wt(t)&&(this.$$parse(t),!0)}}function nn(e,t,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===Wt(r)?o=r:(a=Yt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ie(this.$$search),r=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=zt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function rn(e){return function(){return this[e]}}function on(e,t){return function(n){return w(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function an(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return R(e)?(t.enabled=e,this):_(e)?(R(e.enabled)&&(t.enabled=e.enabled),R(e.requireBase)&&(t.requireBase=e.requireBase),(R(e.rewriteLinks)||A(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(e){throw u.url(i),u.$$state=o,e}}function c(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,l,d,p=r.baseHref(),f=r.url();if(t.enabled){
if(!p&&t.requireBase)throw qo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Xt(f)+(p||"/"),l=i.history?en:nn}else d=Wt(f),l=tn;var h=Zt(d);u=new l(d,h,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=ii(e.target);"a"!==U(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!A(i)||!w(s.attr(i))){var c=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");_(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Hn(c.animVal).href),g.test(c)||!c||s.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(c,l)&&(e.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Jt(u.absUrl())!==Jt(f)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){if(!Kt(e,h))return void(a.location.href=e);n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Jt(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,c(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=Jt(r.url()),t=Jt(u.absUrl()),o=r.state(),a=u.$$replace,l=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||l)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(l&&s(t,a,o===u.$$state?null:u.$$state),c(e,o)))}))}u.$$replace=!1}),u}]}function sn(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return T(e)&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||g;return function(){var e=[];return o(arguments,function(t){e.push(r(t))}),Function.prototype.apply.call(i,t,e)}}var a=ri||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function cn(e){return e+""}function un(e,t){return void 0!==e?e:t}function ln(e,t){return void 0===e?t:void 0===t?e:e+t}function dn(e,t){return!e(t).$stateful}function pn(e,t){switch(e.type){case Bo.MemberExpression:if(e.computed)return!1;break;case Bo.UnaryExpression:return Lo;case Bo.BinaryExpression:return"+"!==e.operator&&Lo;case Bo.CallExpression:return!1}return void 0===t?Uo:t}function fn(e,t,n){var r,i,a,s=e.isPure=pn(e,n);switch(e.type){case Bo.Program:r=!0,o(e.body,function(e){fn(e.expression,t,s),r=r&&e.expression.constant}),e.constant=r;break;case Bo.Literal:e.constant=!0,e.toWatch=[];break;case Bo.UnaryExpression:fn(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Bo.BinaryExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Bo.LogicalExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Bo.ConditionalExpression:fn(e.test,t,s),fn(e.alternate,t,s),fn(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Bo.Identifier:e.constant=!1,e.toWatch=[e];break;case Bo.MemberExpression:fn(e.object,t,s),e.computed&&fn(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Bo.CallExpression:a=!!e.filter&&dn(t,e.callee.name),r=a,i=[],o(e.arguments,function(e){fn(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=a?i:[e];break;case Bo.AssignmentExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Bo.ArrayExpression:r=!0,i=[],o(e.elements,function(e){fn(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case Bo.ObjectExpression:r=!0,i=[],o(e.properties,function(e){fn(e.value,t,s),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(fn(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case Bo.ThisExpression:case Bo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function hn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function gn(e){return e.type===Bo.Identifier||e.type===Bo.MemberExpression}function mn(e){if(1===e.body.length&&gn(e.body[0].expression))return{type:Bo.AssignmentExpression,left:e.body[0].expression,right:{type:Bo.NGValueParameter},operator:"="}}function vn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Bo.Literal||e.body[0].expression.type===Bo.ArrayExpression||e.body[0].expression.type===Bo.ObjectExpression)}function yn(e){return e.constant}function wn(e){this.$filter=e}function bn(e){this.$filter=e}function _n(e,t,n){this.ast=new Bo(e,n),this.astCompiler=n.csp?new bn(t):new wn(t)}function xn(e){return k(e.valueOf)?e.valueOf():Ro.call(e)}function An(){var e,t,n=ye(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function a(e,t){var r,o,a;switch(typeof e){case"string":if(e=e.trim(),a=e,!(r=n[a])){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));r=new _n(new Oo(h),i,h).parse(e),r.constant?r.$$watchDelegate=d:o?r.$$watchDelegate=r.literal?l:u:r.inputs&&(r.$$watchDelegate=c),n[a]=r}return p(r,t);case"function":return p(e,t);default:return p(g,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=xn(e))&&!n)&&(e===t||e!==e&&t!==t)}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var c=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,c,a.isPure)||(o=r(e,void 0,void 0,[t]),c=t&&xn(t)),o},t,n,i)}for(var u=[],l=[],d=0,p=a.length;d<p;d++)u[d]=s,l[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var c=a[n](e);(t||(t=!s(c,u[n],a[n].isPure)))&&(l[n]=c,u[n]=c&&xn(c))}return t&&(o=r(e,void 0,void 0,l)),o},t,n,i)}function u(e,t,n,r,i){function o(e){return r(e)}function a(e,n,r){u=e,k(t)&&t(e,n,r),b(e)&&r.$$postDigest(function(){b(u)&&s()})}var s,u;return s=r.inputs?c(e,a,n,r,i):e.$watch(o,a,n)}function l(e,t,n,r){function i(e){var t=!0;return o(e,function(e){b(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,k(t)&&t(e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function d(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==l&&n!==u,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return b(a)?s:a};return r=!e.inputs,n&&n!==c?(o.$$watchDelegate=n,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=c,o.inputs=e.inputs?e.inputs:[e]),o.inputs&&(o.inputs=o.inputs.map(function(e){return e.isPure===Uo?function(t){return e(t)}:e})),o}var f=bi().noUnsafeEval,h={csp:f,literals:Q(r),isIdentifierStart:k(e)&&e,isIdentifierContinue:k(t)&&t};return a}]}function Cn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Tn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function En(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Tn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function Tn(e,t,n){function i(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){p(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function c(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){$n(t),i=o[a][0],r=o[a][t.status];try{k(r)?p(i,r(t.value)):1===t.status?p(i,t.value):h(i,t.value)}catch(e){h(i,e)}}}finally{--$,n&&0===$&&e(u)}}function u(){for(;!$&&S.length;){var e=S.shift();if(!kn(e)){$n(e);var n="Possibly unhandled rejection: "+Ae(e.value);T(e.value)?t(e.value,n):t(n)}}}function l(t){!n||t.pending||2!==t.status||kn(t)||(0===$&&0===S.length&&e(u),S.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++$,e(function(){c(t)}))}function p(e,t){e.$$state.status||(t===e?g(e,E("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):f(e,t))}function f(e,t){function n(t){a||(a=!0,f(e,t))}function r(t){a||(a=!0,g(e,t))}function i(t){m(e,t)}var o,a=!1;try{(_(t)||k(t))&&(o=t.then),k(o)?(e.$$state.status=-1,o.call(t,n,r,i)):(e.$$state.value=t,e.$$state.status=1,l(e.$$state))}catch(e){r(e)}}function h(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,l(e.$$state)}function m(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e(function(){for(var e,n,o=0,a=i.length;o<a;o++){n=i[o][0],e=i[o][3];try{m(n,k(e)?e(r):r)}catch(e){t(e)}}})}function v(e){var t=new s;return h(t,e),t}function y(e,t,n){var r=null;try{k(n)&&(r=n())}catch(e){return v(e)}return F(r)?r.then(function(){return t(e)},v):t(e)}function b(e,t,n,r){var i=new s;return p(i,e),i.then(t,n,r)}function x(e){var t=new s,n=0,r=mi(e)?[]:{};return o(e,function(e,i){n++,b(e).then(function(e){r[i]=e,--n||p(t,r)},function(e){h(t,e)})}),0===n&&p(t,r),t}function A(e){var t=i();return o(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise}function C(e){function t(e){p(r,e)}function n(e){h(r,e)}if(!k(e))throw E("norslvr","Expected resolverFn, got '{0}'",e);var r=new s;return e(t,n),r}var E=r("$q",TypeError),$=0,S=[];d(s.prototype,{then:function(e,t,n){if(w(e)&&w(t)&&w(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return y(t,q,e)},function(t){return y(t,v,e)},t)}});var q=b;return C.prototype=s.prototype,C.defer=i,C.reject=v,C.when=b,C.resolve=q,C.all=x,C.race=A,C}function kn(e){return!!e.pur}function $n(e){e.pur=!0}function Sn(e){$n(e.$$state)}function qn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function In(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(r,u,l){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===ri&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function m(){C.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function b(){}function x(){for(;$.length;)try{$.shift()()}catch(e){r(e)}s=null}function A(){null===s&&(s=l.defer(function(){C.$apply(x)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,c={fn:t,last:b,get:i,exp:r||e,eq:!!n};return a=null,k(t)||(c.fn=g),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(c),s.$$digestWatchIndex++,v(this,1),function(){var e=H(s,c);e>=0&&(v(o,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function n(){c=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,c=!1,u=!0;if(!e.length){var l=!0;return s.$evalAsync(function(){l&&t(i,i,s)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s;if(!w(o)){if(_(o))if(i(o)){a!==f&&(a=f,m=a.length=0,d++),t=o.length,m!==t&&(d++,a.length=m=t);for(var c=0;c<t;c++)s=a[c],r=o[c],s!==s&&r!==r||s===r||(d++,a[c]=r)}else{a!==h&&(a=h={},m=0,d++),t=0;for(n in o)Zr.call(o,n)&&(t++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(d++,a[n]=r):(m++,a[n]=r,d++));if(m>t){d++;for(n in a)Zr.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(g?(g=!1,t(o,o,c)):t(o,s,c),l)if(_(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Zr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,l=t.length>1,d=0,p=u(e,n),f=[],h={},g=!0,m=0;return this.$watch(p,r)},$digest:function(){var e,i,o,c,u,d,p,f,g,v,y,w=t,_=this,A=[];h("$digest"),l.$$checkUrlChange(),this===C&&null!==s&&(l.defer.cancel(s),x()),a=null;do{p=!1,g=_;for(var $=0;$<E.length;$++){try{y=E[$],c=y.fn,c(y.scope,y.locals)}catch(e){r(e)}a=null}E.length=0;e:do{if(d=g.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(u=e.get,(i=u(g))===(o=e.last)||(e.eq?z(i,o):gi(i)&&gi(o))){if(e===a){p=!1;break e}}else p=!0,a=e,e.last=e.eq?Q(i,null):i,c=e.fn,c(i,o===b?i:o,g),w<5&&(v=4-w,A[v]||(A[v]=[]),A[v].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:o}))}catch(e){r(e)}if(!(f=g.$$watchersCount&&g.$$childHead||g!==_&&g.$$nextSibling))for(;g!==_&&!(f=g.$$nextSibling);)g=g.$parent}while(g=f);if((p||E.length)&&!w--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,A)}while(p||E.length);for(m();S<T.length;)try{T[S++]()}catch(e){r(e)}T.length=S=0,l.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&l.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){C.$$phase||E.length||l.defer(function(){E.length&&C.$digest()}),E.push({scope:this,fn:u(e),locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{m()}}catch(e){r(e)}finally{try{C.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&$.push(t),e=u(e),A()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,c=!1,u={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=V([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,l)}catch(e){r(e)}else n.splice(i,1),i--,o--;if(c)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,i=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,c,u,l=V([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],c=0,u=s.length;c<u;c++)if(s[c])try{s[c].apply(null,l)}catch(e){r(e)}else s.splice(c,1),c--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var C=new f,E=C.$$asyncQueue=[],T=C.$$postDigestQueue=[],$=C.$$applyAsyncQueue=[],S=0;return C}]}function Mn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Hn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Dn(e){return e.replace(Qo,Te)}function Rn(e){if("self"===e)return e;if(A(e)){if(e.indexOf("***")>-1)throw No("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=wi(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw No("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Fn(e){var t=[];return b(e)&&o(e,function(e){t.push(Rn(e))}),t}function Pn(){this.SCE_CONTEXTS=Ho;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Fn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Fn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Qn(t):!!e.exec(t.href)}function i(n){var i,o,a=Hn(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw No("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||w(t)||""===t)return t;if("string"!=typeof t)throw No("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof l?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||w(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Ho.RESOURCE_URL){if(i(t))return t;throw No("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ho.HTML)return u(t);throw No("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw No("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var l=o(),d={};return d[Ho.HTML]=o(l),d[Ho.CSS]=o(l),d[Ho.URL]=o(l),d[Ho.JS]=o(l),d[Ho.RESOURCE_URL]=o(d[Ho.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function On(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&ri<8)throw No("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_e(Ho);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Ho,function(e,t){var n=Xr(t);r[Dn("parse_as_"+n)]=function(t){return i(e,t)},r[Dn("get_trusted_"+n)]=function(t){return a(e,t)},r[Dn("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Bn(){this.$get=["$window","$document",function(e,t){var n={},r=e.nw&&e.nw.process,i=!r&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!i&&e.history&&e.history.pushState,a=f((/android (\d+)/.exec(Xr((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=c.body&&c.body.style,l=!1,d=!1;return u&&(l=!!("transition"in u||"webkitTransition"in u),d=!!("animation"in u||"webkitAnimation"in u)),{history:!(!o||a<4||s),hasEvent:function(e){if("input"===e&&ri)return!1;if(w(n[e])){var t=c.createElement("div");n[e]="on"+e in t}return n[e]},csp:bi(),transitions:l,animations:d,android:a}}]}function Ln(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(s,c){function u(e){return c||(e=jo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),i.reject(e)}a.totalPendingRequests++,A(s)&&!w(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return mi(l)?l=l.filter(function(e){return e!==Dt}):l===Dt&&(l=null),r.get(s,d({cache:n,transformResponse:l},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},u)}return a.totalPendingRequests=0,a}]}function Un(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=fi.element(e).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+wi(t)+"(\\s|\\||$)").test(r)&&i.push(e)}else-1!==r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,c){k(o)||(c=s,s=o,o=g);var u,l=G(arguments,3),d=b(c)&&!c,p=(d?r:n).defer(),f=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,l))}catch(e){p.reject(e),i(e)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=u,a[u]=p,f}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(Sn(a[e.$$timeoutId].promise),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Hn(e){var t=e;return ri&&(zo.setAttribute("href",t),t=zo.href),zo.setAttribute("href",t),{href:zo.href,protocol:zo.protocol?zo.protocol.replace(/:$/,""):"",host:zo.host,search:zo.search?zo.search.replace(/^\?/,""):"",hash:zo.hash?zo.hash.replace(/^#/,""):"",hostname:zo.hostname,port:zo.port,pathname:"/"===zo.pathname.charAt(0)?zo.pathname:"/"+zo.pathname}}function Qn(e){var t=A(e)?Hn(e):e;return t.protocol===Vo.protocol&&t.host===Vo.host}function jn(){this.$get=v(e)}function zn(e){function t(e){try{return e.cookie||""}catch(e){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,a,s,c,u,l=t(r);if(l!==o)for(o=l,e=o.split("; "),i={},s=0;s<e.length;s++)a=e[s],(c=a.indexOf("="))>0&&(u=n(a.substring(0,c)),w(i[u])&&(i[u]=n(a.substring(c+1))));return i}}function Vn(){this.$get=zn}function Gn(e){function t(r,i){if(_(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Zn),t("date",fr),t("filter",Kn),t("json",hr),t("limitTo",gr),t("lowercase",Xo),t("number",Xn),t("orderBy",vr),t("uppercase",ea)}function Kn(){return function(e,t,n,o){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,c=Jn(t);switch(c){case"function":a=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Yn(t,n,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Yn(e,t,n,r){var i=_(e)&&n in e;return!0===t?t=z:k(t)||(t=function(e,t){return!w(e)&&(null===e||null===t?e===t:!(_(t)||_(e)&&!y(e))&&(e=Xr(""+e),t=Xr(""+t),-1!==e.indexOf(t)))}),function(o){return i&&!_(o)?Wn(o,e[n],t,n,!1):Wn(o,e,t,n,r)}}function Wn(e,t,n,r,i,o){var a=Jn(e),s=Jn(t);if("string"===s&&"!"===t.charAt(0))return!Wn(e,t.substring(1),n,r,i);if(mi(e))return e.some(function(e){return Wn(e,t,n,r,i)});switch(a){case"object":var c;if(i){for(c in e)if(c.charAt&&"$"!==c.charAt(0)&&Wn(e[c],t,n,r,!0))return!0;return!o&&Wn(e,t,n,r,!1)}if("object"===s){for(c in t){var u=t[c];if(!k(u)&&!w(u)){var l=c===r;if(!Wn(l?e:e[c],u,n,r,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Jn(e){return null===e?"null":typeof e}function Zn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return w(n)&&(n=t.CURRENCY_SYM),w(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:nr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Xn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:nr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function er(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Ko))>-1&&(e=e.replace(Ko,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===Yo;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Yo;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>Go&&(t=t.splice(0,Go-1),a=n-1,n=1),{d:t,e:a,i:n}}function tr(e,t,n,r){var i=e.d,o=i.length-e.i;t=w(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var c=a;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function nr(e,t,n,r,i){if(!A(e)&&!C(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,c=Math.abs(e)+"",u="";if(a)u="â";else{o=er(c),tr(o,i,t.minFrac,t.maxFrac);var l=o.d,d=o.i,p=o.e,f=[];for(s=l.reduce(function(e,t){return e&&!t},!0);d<0;)l.unshift(0),d++;d>0?f=l.splice(d,l.length):(f=l,l=[0]);var h=[];for(l.length>=t.lgSize&&h.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)h.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&h.unshift(l.join("")),u=h.join(n),f.length&&(u+=r+f.join("")),p&&(u+="e+"+p)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function rr(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=Yo+e;return n&&(e=e.substr(e.length-t)),i+e}function ir(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),rr(a,t,r,i)}}function or(e,t,n){return function(r,i){var o=r["get"+e]();return i[ei((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function ar(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=rr(Math[r>0?"floor":"ceil"](r/60),2)+rr(Math.abs(r%60),2)}function sr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function cr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ur(e){return function(t){var n=sr(t.getFullYear()),r=cr(t),i=+r-+n;return rr(1+Math.round(i/6048e5),e)}}function lr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function dr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function pr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function fr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var c=f(t[4]||0)-i,u=f(t[5]||0)-o,l=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,u,l,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,c="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,A(n)&&(n=Zo.test(n)?f(n):t(n)),C(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;r;)s=Jo.exec(r),s?(u=V(u,s,1),r=u.pop()):(u.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=Z(i,l),n=ee(n,i,!0)),o(u,function(t){a=Wo[t],c+=a?a(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function hr(){return function(e,t){return w(t)&&(t=2),W(e,t)}}function gr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),gi(t)?e:(C(e)&&(e=e.toString()),i(e)?(n=!n||isNaN(n)?0:f(n),n=n<0?Math.max(0,e.length+n):n,t>=0?mr(e,n,n+t):0===n?mr(e,t,e.length):mr(e,Math.max(0,n+t),n)):e)}}function mr(e,t,n){return A(e)?e.slice(t,n):si.call(e,t,n)}function vr(e){function t(t){return t.map(function(t){var n=1,r=m;if(k(t))r=t;else if(A(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return k(e.valueOf)&&(e=e.valueOf(),n(e))?e:(y(e)&&(e=e.toString(),n(e)),e)}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(_(o)&&(o=e.index),_(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(e,n,o,c){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function l(e,t){for(var n=0,r=d.length;n<r;n++){var i=f(e.predicateValues[n],t.predicateValues[n]);if(i)return i*d[n].descending*p}return(f(e.tieBreaker,t.tieBreaker)||s(e.tieBreaker,t.tieBreaker))*p}if(null==e)return e;if(!i(e))throw r("orderBy")("notarray","Expected array but received: {0}",e);mi(n)||(n=[n]),0===n.length&&(n=["+"]);var d=t(n),p=o?-1:1,f=k(c)?c:s,h=Array.prototype.map.call(e,u);return h.sort(l),e=h.map(function(e){return e.value})}}function yr(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function wr(e,t){e.$name=t}function br(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ra,this.$$element=e,this.$$animate=r,_r(this)}function _r(e){e.$$classCache={},e.$$classCache[Ua]=!(e.$$classCache[La]=e.$$element.hasClass(La))}function xr(e){function t(e,t,n,r){e[t]||(e[t]={}),a(e[t],n,r)}function n(e,t,n,r){
e[t]&&s(e[t],n,r),Ar(e[t])&&(e[t]=void 0)}function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function i(e,t,n){t=t?"-"+pe(t,"-"):"",r(e,La+t,!0===n),r(e,Ua+t,!1===n)}var o=e.clazz,a=e.set,s=e.unset;o.prototype.$setValidity=function(e,o,c){w(o)?t(this,"$pending",e,c):n(this,"$pending",e,c),R(o)?o?(s(this.$error,e,c),a(this.$$success,e,c)):(a(this.$error,e,c),s(this.$$success,e,c)):(s(this.$error,e,c),s(this.$$success,e,c)),this.$pending?(r(this,ia,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,ia,!1),this.$valid=Ar(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var u;u=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),i(this,e,u),this.$$parentForm.$setValidity(e,u,this)}}function Ar(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Cr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Er(e,t,n,r,i,o){Tr(e,t,n,r,i,o),Cr(r)}function Tr(e,t,n,r,i,o){var a=Xr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var c,u=function(e){if(c&&(o.defer.cancel(c),c=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=yi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var l=function(e,t,n){c||(c=o.defer(function(){c=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",l)}t.on("change",u),ya[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(va,function(e){if(!c){var t=this[Jr],n=t.badInput,r=t.typeMismatch;c=o.defer(function(){c=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function kr(e,t){if(E(e))return e;if(A(e)){ha.lastIndex=0;var n=ha.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,u=sr(r),l=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,u.getDate()+l,o,a,s,c)}}return NaN}function $r(e,t){return function(n,r){var i,a;if(E(n))return n;if(A(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ca.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Sr(e,t,n,r){return function(i,o,a,s,c,u,l){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return b(e)&&!E(e)?n(e)||void 0:e}qr(i,o,a,s),Tr(i,o,a,s,c,u);var f,h=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return h&&(r=ee(r,h)),r}}),s.$formatters.push(function(e){if(e&&!E(e))throw Qa("datefmt","Expected `{0}` to be a date",e);return d(e)?(f=e,f&&h&&(f=ee(f,h,!0)),l("date")(e,r,h)):(f=null,"")}),b(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!d(e)||w(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),s.$validate()})}if(b(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!d(e)||w(m)||n(e)<=m},a.$observe("max",function(e){m=p(e),s.$validate()})}}}function qr(e,t,n,r){var i=t[0];(r.$$hasNativeValidators=_(i.validity))&&r.$parsers.push(function(e){var n=t.prop(Jr)||{};return n.badInput||n.typeMismatch?void 0:e})}function Ir(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:da.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw Qa("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Mr(e){return b(e)&&!C(e)&&(e=parseFloat(e)),gi(e)?void 0:e}function Dr(e){return(0|e)===e}function Rr(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function Fr(e,t,n){var r=Number(e),i=!Dr(r),o=!Dr(t),a=!Dr(n);if(i||o||a){var s=i?Rr(r):0,c=o?Rr(t):0,u=a?Rr(n):0,l=Math.max(s,c,u),d=Math.pow(10,l);r*=d,t*=d,n*=d,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function Pr(e,t,n,r,i,o){qr(e,t,n,r),Ir(r),Tr(e,t,n,r,i,o);var a,s;if((b(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||w(a)||e>=a},n.$observe("min",function(e){a=Mr(e),r.$validate()})),(b(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||w(s)||e<=s},n.$observe("max",function(e){s=Mr(e),r.$validate()})),b(n.step)||n.ngStep){var c;r.$validators.step=function(e,t){return r.$isEmpty(t)||w(c)||Fr(t,a||0,c)},n.$observe("step",function(e){c=Mr(e),r.$validate()})}}function Or(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){if(d=Mr(e),!gi(r.$modelValue))if(l){var n=t.val();d>n&&(n=d,t.val(n)),r.$setViewValue(n)}else r.$validate()}function c(e){if(p=Mr(e),!gi(r.$modelValue))if(l){var n=t.val();p<n&&(t.val(p),n=p<d?d:p),r.$setViewValue(n)}else r.$validate()}function u(e){f=Mr(e),gi(r.$modelValue)||(l&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}qr(e,t,n,r),Ir(r),Tr(e,t,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===t[0].type,d=l?0:void 0,p=l?100:void 0,f=l?1:void 0,h=t[0].validity,g=b(n.min),m=b(n.max),v=b(n.step),y=r.$render;r.$render=l&&b(h.rangeUnderflow)&&b(h.rangeOverflow)?function(){y(),r.$setViewValue(t.val())}:y,g&&(r.$validators.min=l?function(){return!0}:function(e,t){return r.$isEmpty(t)||w(d)||t>=d},a("min",s)),m&&(r.$validators.max=l?function(){return!0}:function(e,t){return r.$isEmpty(t)||w(p)||t<=p},a("max",c)),v&&(r.$validators.step=l?function(){return!h.stepMismatch}:function(e,t){return r.$isEmpty(t)||w(f)||Fr(t,d||0,f)},a("step",u))}function Br(e,t,n,r,i,o){Tr(e,t,n,r,i,o),Cr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ua.test(n)}}function Lr(e,t,n,r,i,o){Tr(e,t,n,r,i,o),Cr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||la.test(n)}}function Ur(e,t,n,r){var i=!n.ngTrim||"false"!==yi(n.ngTrim);w(n.name)&&t.attr("name",c());var o=function(e){var o;t[0].checked&&(o=n.value,i&&(o=yi(o)),r.$setViewValue(o,e&&e.type))};t.on("click",o),r.$render=function(){var e=n.value;i&&(e=yi(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)}function Nr(e,t,n,r,i){var o;if(b(r)){if(o=e(r),!o.constant)throw Qa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Hr(e,t,n,r,i,o,a,s){var c=Nr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Nr(s,e,"ngFalseValue",n.ngFalseValue,!1),l=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",l),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return z(e,c)}),r.$parsers.push(function(e){return e?c:u})}function Qr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function r(e){return e&&e.split(" ")}function i(e){var t=e;return mi(e)?t=e.map(i).join(" "):_(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function a(e){var t=e;if(mi(e))t=e.map(a);else if(_(e)){var n=!1;t=Object.keys(e).filter(function(t){var r=e[t];return!n&&w(r)&&(n=!0),r}),n&&t.push(void 0)}return t}e="ngClass"+e;var s;return["$parse",function(c){return{restrict:"AC",link:function(u,l,d){function p(e){e=g(r(e),1),d.$addClass(e)}function f(e){e=g(r(e),-1),d.$removeClass(e)}function h(e,t){var i=r(e),o=r(t),a=n(i,o),s=n(o,i),c=g(a,-1),u=g(s,1);d.$addClass(u),d.$removeClass(c)}function g(e,t){var n=[];return o(e,function(e){(t>0||E[e])&&(E[e]=(E[e]||0)+t,E[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?p(w):f(w),T=e}function v(e){var t=i(e);t!==w&&y(t)}function y(e){T===t&&h(w,e),w=e}var w,b=d[e].trim(),_=":"===b.charAt(0)&&":"===b.charAt(1),x=_?a:i,A=c(b,x),C=_?v:y,E=l.data("$classCounts"),T=!0;E||(E=ye(),l.data("$classCounts",E)),"ngClass"!==e&&(s||(s=c("$index",function(e){return 1&e})),u.$watch(s,m)),u.$watch(A,C,_)}}}]}function jr(e,t,n,r,i,o,a,s,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=ra,this.$options=ja,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,_r(this),zr(this)}function zr(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);if(n!==e.$modelValue&&(e.$modelValue===e.$modelValue||n===n)){e.$modelValue=e.$$rawModelValue=n,e.$$parserValid=void 0;for(var r=e.$formatters,i=r.length,o=n;i--;)o=r[i](o);e.$viewValue!==o&&(e.$$updateEmptyClasses(o),e.$viewValue=e.$$lastCommittedViewValue=o,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,g))}return n})}function Vr(e){this.$$options=e}function Gr(e,t){o(t,function(t,n){b(e[n])||(e[n]=t)})}function Kr(e,t){e.prop("selected",t),e.attr("selected",t)}var Yr={objectMaxDepth:5},Wr=/^\/(.+)\/([a-z]*)$/,Jr="validity",Zr=Object.prototype.hasOwnProperty,Xr=function(e){return A(e)?e.toLowerCase():e},ei=function(e){return A(e)?e.toUpperCase():e},ti=function(e){return A(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},ni=function(e){return A(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Xr=ti,ei=ni);var ri,ii,oi,ai,si=[].slice,ci=[].splice,ui=[].push,li=Object.prototype.toString,di=Object.getPrototypeOf,pi=r("ng"),fi=e.angular||(e.angular={}),hi=0;ri=e.document.documentMode;var gi=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var mi=Array.isArray,vi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,yi=function(e){return A(e)?e.trim():e},wi=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bi=function(){if(!b(bi.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");bi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else bi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return bi.rules},_i=function(){if(b(_i.name_))return _i.name_;var t,n,r,i,o=Ai.length;for(n=0;n<o;++n)if(r=Ai[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return _i.name_=i},xi=/:/g,Ai=["ng-","data-ng-","ng:","x-ng-"],Ci=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),Ei=/[A-Z]/g,Ti=!1,ki=1,$i=3,Si=8,qi=9,Ii=11,Mi={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};Re.expando="ng339";var Di=Re.cache={},Ri=1;Re._data=function(e){return this.cache[e[this.expando]]||{}};var Fi=/-([a-z])/g,Pi=/^-ms-/,Oi={mouseleave:"mouseout",mouseenter:"mouseover"},Bi=r("jqLite"),Li=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ui=/<|&#?\w+;/,Ni=/<([\w:-]+)/,Hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qi.optgroup=Qi.option,Qi.tbody=Qi.tfoot=Qi.colgroup=Qi.caption=Qi.thead,Qi.th=Qi.td;var ji=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},zi=Re.prototype={ready:We,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ii(e>=0?this[e]:this[this.length+e])},length:0,push:ui,sort:[].sort,splice:[].splice},Vi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Vi[Xr(e)]=e});var Gi={};o("input,select,option,textarea,button,form,details".split(","),function(e){Gi[e]=!0});var Ki={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Ue,removeData:Be,hasData:qe,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Be(e[t])}},function(e,t){Re[t]=e}),o({data:Ue,inheritedData:Ve,scope:function(e){return ii.data(e,"$scope")||Ve(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ii.data(e,"$isolateScope")||ii.data(e,"$isolateScopeNoTemplate")},controller:ze,injector:function(e){return Ve(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ne,css:function(e,t,n){if(t=Ee(t),!b(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==$i&&2!==i&&i!==Si&&e.getAttribute){var o=Xr(t),a=Vi[o];if(!b(n))return r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!b(n))return e[t];e[t]=n},text:function(){function e(e,t){if(w(t)){var n=e.nodeType;return n===ki||n===$i?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(w(t)){if(e.multiple&&"select"===U(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(w(t))return e.innerHTML;Pe(e,!0),e.innerHTML=t},empty:Ge},function(e,t){Re.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ge&&w(2===e.length&&e!==Ne&&e!==ze?t:n)){if(_(t)){for(r=0;r<o;r++)if(e===Ue)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=w(a)?Math.min(o,1):o,c=0;c<s;c++){var u=e(this[c],t,n);a=a?a+u:u}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),o({removeData:Be,on:function(e,t,n,r){if(b(r))throw Bi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Se(e)){var i=Le(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Xe(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,a)),s.push(n)};c--;)t=s[c],Oi[t]?(u(Oi[t],tt),u(t,void 0,!0)):u(t)}},off:Oe,one:function(e,t,n){e=ii(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Pe(e),o(new Re(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===ki&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ki||n===Ii){t=new Re(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===ki){var n=e.firstChild;o(new Re(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){De(e,ii(t).eq(0).clone()[0])},remove:Ke,detach:function(e){Ke(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new Re(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Qe,removeClass:He,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;w(r)&&(r=!Ne(e,t)),(r?Qe:He)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Ii?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Fe,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,c=Le(e),u=c&&c.events,l=u&&u[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:e},t.type&&(r=d(r,t)),i=_e(l),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Re.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)w(i)?(i=e(this[o],t,n,r),b(i)&&(i=ii(i))):je(i,e(this[o],t,n,r));return b(i)?i:this}}),Re.prototype.bind=Re.prototype.on,Re.prototype.unbind=Re.prototype.off;var Yi=Object.create(null);it.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return gi(e)?Yi:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Wi=it,Ji=[function(){this.$get=[function(){return Wi}]}],Zi=/^([^(]+?)=>/,Xi=/^[^(]*\(\s*([^)]*)\)/m,eo=/,/,to=/^\s*(_?)(\S+?)\1\s*$/,no=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ro=r("$injector");ut.$$annotate=ct;var io=r("$animate"),oo=1,ao=function(){this.$get=g},so=function(){var e=new Wi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=A(t)?t.split(" "):mi(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=ft(t.attr("class")),i="",a="";o(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Qe(e,i),a&&He(e,a)}),e.delete(t)}}),t.length=0}function s(n,o,s){var c=e.get(n)||{},u=i(c,o,!0),l=i(c,s,!1);(u||l)&&(e.set(n,c),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},co=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw io("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=k(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,io("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=pt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&ii(r),i=i&&ii(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ht(o))},move:function(n,r,i,o){return r=r&&ii(r),i=i&&ii(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ht(o))},leave:function(t,n){return e.push(t,"leave",ht(n),function(){t.remove()})},addClass:function(t,n,r){return r=ht(r),r.addClass=dt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ht(r),r.removeClass=dt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ht(i),i.addClass=dt(i.addClass,n),i.removeClass=dt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=ht(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=dt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],uo=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},lo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function a(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?o(e):t(e)},this._state=0}return a.chain=function(e,t){function n(){if(r===e.length)return void t(!0);e[r](function(e){if(!1===e)return void t(!1);r++,n()})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},po=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||c.complete(),s=!0}),c}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=Q(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,c=new n;return{start:i,end:i}}}]},fo=r("$compile"),ho=new wt;bt.$inject=["$provide","$$sanitizeUriProvider"],_t.prototype.isFirstChange=function(){return this.previousValue===ho};var go=/^((?:x|data)[:\-_])/i,mo=/[:\-_]+(.)/g,vo=r("$controller"),yo=/^(\S+)(\s+as\s+([\w$]+))?$/,wo=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ii&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},bo="application/json",_o={"Content-Type":bo+";charset=utf-8"},xo=/^\[|^\{(?!\{)/,Ao={"[":/]$/,"{":/}$/},Co=/^\)]\}',?\n/,Eo=r("$http"),To=fi.$interpolateMinErr=r("$interpolate");To.throwNoconcat=function(e){throw To("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},To.interr=function(e,t){return To("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ko=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=fi.callbacks,n={};return{createCallback:function(r){var i="_"+(t.$$counter++).toString(36),o="angular.callbacks."+i,a=e(i);return n[o]=t[i]=a,o},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var r=n[e];delete t[r.id],delete n[e]}}}},$o=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,So={http:80,https:443,ftp:21},qo=r("$location"),Io=/^\s*[\\\/]{2,}/,Mo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:rn("$$absUrl"),url:function(e){if(w(e))return this.$$url;var t=$o.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:rn("$$protocol"),host:rn("$$host"),port:rn("$$port"),path:on("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(A(e)||C(e))e=e.toString(),this.$$search=re(e);else{if(!_(e))throw qo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=Q(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:w(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:on("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([nn,tn,en],function(e){e.prototype=Object.create(Mo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==en||!this.$$html5)throw qo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=w(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Do=r("$parse"),Ro={}.constructor.prototype.valueOf,Fo=ye();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Fo[e]=!0});var Po={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Oo=function(e){this.options=e};Oo.prototype={constructor:Oo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Fo[t],o=Fo[n],a=Fo[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"Â "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Do("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Xr(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Po[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Bo=function(e,t){this.lexer=e,this.options=t};Bo.Program="Program",Bo.ExpressionStatement="ExpressionStatement",Bo.AssignmentExpression="AssignmentExpression",Bo.ConditionalExpression="ConditionalExpression",Bo.LogicalExpression="LogicalExpression",Bo.BinaryExpression="BinaryExpression",Bo.UnaryExpression="UnaryExpression",Bo.CallExpression="CallExpression",Bo.MemberExpression="MemberExpression",Bo.Identifier="Identifier",Bo.Literal="Literal",Bo.ArrayExpression="ArrayExpression",Bo.Property="Property",Bo.ObjectExpression="ObjectExpression",Bo.ThisExpression="ThisExpression",Bo.LocalsExpression="LocalsExpression",Bo.NGValueParameter="NGValueParameter",Bo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Bo.Program,body:e}},expressionStatement:function(){return{type:Bo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!gn(e))throw Do("lval","Trying to assign a value to a non l-value");e={type:Bo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Bo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Bo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Bo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Bo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Bo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Bo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Bo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){
var e;return(e=this.expect("+","-","!"))?{type:Bo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=Q(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Bo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Bo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Bo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Bo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Bo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Bo.Identifier,name:e.text}},constant:function(){return{type:Bo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Bo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Bo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Bo.ObjectExpression,properties:t}},throwError:function(e,t){throw Do("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Do("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Do("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Bo.ThisExpression},$locals:{type:Bo.LocalsExpression}}};var Lo=1,Uo=2;wn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(e,t.$filter);var n,r="";if(this.stage="assign",n=mn(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(e.body);t.stage="inputs",o(a,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,cn,un,ln);return this.state=this.stage=void 0,c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var s,c,u,l,d,p=this;if(r=r||g,!a&&b(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Bo.Program:o(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){c=e}),n!==e.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case Bo.Literal:l=this.escape(e.value),this.assign(t,l),r(t||l);break;case Bo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){c=e}),l=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,l),r(l);break;case Bo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){c=e}),l="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,l),r(l);break;case Bo.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case Bo.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case Bo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){i&&1!==i&&p.if_(p.isNull(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),r(t);break;case Bo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){e.computed?(c=p.nextId(),p.recurse(e.property,c),p.getStringValue(c),i&&1!==i&&p.if_(p.not(p.computedMember(s,c)),p.lazyAssign(p.computedMember(s,c),"{}")),l=p.computedMember(s,c),p.assign(t,l),n&&(n.computed=!0,n.name=c)):(i&&1!==i&&p.if_(p.isNull(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),l=p.nonComputedMember(s,e.property.name),p.assign(t,l),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!i);break;case Bo.CallExpression:t=t||this.nextId(),e.filter?(c=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),l=c+"("+u.join(",")+")",p.assign(t,l),r(t)):(c=p.nextId(),s={},u=[],p.recurse(e.callee,c,s,function(){p.if_(p.notNull(c),function(){o(e.arguments,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){u.push(e)})}),l=s.name?p.member(s.context,s.name,s.computed)+"("+u.join(",")+")":c+"("+u.join(",")+")",p.assign(t,l)},function(){p.assign(t,"undefined")}),r(t)}));break;case Bo.AssignmentExpression:c=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,c),l=p.member(s.context,s.name,s.computed)+e.operator+c,p.assign(t,l),r(t||l)})},1);break;case Bo.ArrayExpression:u=[],o(e.elements,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){u.push(e)})}),l="["+u.join(",")+"]",this.assign(t,l),r(t||l);break;case Bo.ObjectExpression:u=[],d=!1,o(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===Bo.Identifier?e.key.name:""+e.key.value,c=p.nextId(),p.recurse(e.value,c),p.assign(p.member(t,s,e.computed),c)})):(o(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){u.push(p.escape(t.key.type===Bo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),l="{"+u.join(",")+"}",this.assign(t,l)),r(t||l);break;case Bo.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Bo.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Bo.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(A(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Do("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},bn.prototype={compile:function(e){var t=this;fn(e,t.$filter);var n,r;(n=mn(e))&&(r=this.recurse(n));var i,a=hn(e.body);a&&(i=[],o(a,function(e,n){var r=t.recurse(e);r.isPure=e.isPure,e.input=r,i.push(r),e.watchId=n}));var s=[];o(e.body,function(e){s.push(t.recurse(e.expression))});var c=0===e.body.length?g:1===e.body.length?s[0]:function(e,t){var n;return o(s,function(r){n=r(e,t)}),n};return r&&(c.assign=function(e,t,n){return r(e,n,t)}),i&&(c.inputs=i),c},recurse:function(e,t,n){var r,i,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Bo.Literal:return this.value(e.value,t);case Bo.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Bo.BinaryExpression:case Bo.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Bo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Bo.Identifier:return s.identifier(e.name,t,n);case Bo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case Bo.CallExpression:return a=[],o(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],c=0;c<a.length;++c)s.push(a[c](e,n,r,o));var u=i.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,o){var s,c=i(e,n,r,o);if(null!=c.value){for(var u=[],l=0;l<a.length;++l)u.push(a[l](e,n,r,o));s=c.value.apply(c.context,u)}return t?{value:s}:s};case Bo.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a),c=i(e,n,o,a);return s.context[s.name]=c,t?{value:c}:c};case Bo.ArrayExpression:return a=[],o(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case Bo.ObjectExpression:return a=[],o(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Bo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case Bo.ThisExpression:return function(e){return t?{value:e}:e};case Bo.LocalsExpression:return function(e,n){return t?{value:n}:n};case Bo.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=b(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=b(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),u=ln(s,c);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),u=(b(s)?s:0)-(b(c)?c:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){var s=i&&e in i?i:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var c=s?s[e]:void 0;return t?{context:s,name:e,value:c}:c}},computedMember:function(e,t,n,r){return function(i,o,a,s){var c,u,l=e(i,o,a,s);return null!=l&&(c=t(i,o,a,s),c=cn(c),r&&1!==r&&l&&!l[c]&&(l[c]={}),u=l[c]),n?{context:l,name:c,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s);r&&1!==r&&c&&null==c[t]&&(c[t]={});var u=null!=c?c[t]:void 0;return n?{context:c,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},_n.prototype={constructor:_n,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=vn(t),n.constant=yn(t),n}};var No=r("$sce"),Ho={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qo=/_([a-z])/g,jo=r("$compile"),zo=e.document.createElement("a"),Vo=Hn(e.location.href);zn.$inject=["$document"],Gn.$inject=["$provide"];var Go=22,Ko=".",Yo="0";Zn.$inject=["$locale"],Xn.$inject=["$locale"];var Wo={yyyy:ir("FullYear",4,0,!1,!0),yy:ir("FullYear",2,0,!0,!0),y:ir("FullYear",1,0,!1,!0),MMMM:or("Month"),MMM:or("Month",!0),MM:ir("Month",2,1),M:ir("Month",1,1),LLLL:or("Month",!1,!0),dd:ir("Date",2),d:ir("Date",1),HH:ir("Hours",2),H:ir("Hours",1),hh:ir("Hours",2,-12),h:ir("Hours",1,-12),mm:ir("Minutes",2),m:ir("Minutes",1),ss:ir("Seconds",2),s:ir("Seconds",1),sss:ir("Milliseconds",3),EEEE:or("Day"),EEE:or("Day",!0),a:lr,Z:ar,ww:ur(2),w:ur(1),G:dr,GG:dr,GGG:dr,GGGG:pr},Jo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Zo=/^-?\d+$/;fr.$inject=["$locale"];var Xo=v(Xr),ea=v(ei);vr.$inject=["$parse"];var ta=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===li.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),na={};o(Vi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=xt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),na[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Ki,function(e,t){na[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Wr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=xt("ng-"+e);na[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===li.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){if(!t)return void("href"===e&&i.$set(a,null));i.$set(a,t),ri&&o&&r.prop(o,i[a])})}}}});var ra={$addControl:g,$$renameControl:wr,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},ia="ng-pending";br.$inject=["$element","$attrs","$scope","$animate","$interpolate"],br.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ge(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),H(this.$$controls,e),e.$$parentForm=ra},$setDirty:function(){this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,Ha),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Na,Ha+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},xr({clazz:br,set:function(e,t,n){var r=e[t];if(r){-1===r.indexOf(n)&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(H(r,n),0===r.length&&delete e[t])}});var oa=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||g}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:br,compile:function(n,i){n.addClass(Na).addClass(La);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",c)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):g;o&&(u(e,s),i.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),d(s,ra)})}}}}}]},aa=oa(),sa=oa(!0),ca=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ua=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,la=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,da=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,pa=/^(\d{4,})-(\d{2})-(\d{2})$/,fa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ha=/^(\d{4,})-W(\d\d)$/,ga=/^(\d{4,})-(\d\d)$/,ma=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,va="keydown wheel mousedown",ya=ye();o("date,datetime-local,month,time,week".split(","),function(e){ya[e]=!0});var wa={text:Er,date:Sr("date",pa,$r(pa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Sr("datetimelocal",fa,$r(fa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Sr("time",ma,$r(ma,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Sr("week",ha,kr,"yyyy-Www"),month:Sr("month",ga,$r(ga,["yyyy","MM"]),"yyyy-MM"),number:Pr,url:Br,email:Lr,radio:Ur,range:Or,checkbox:Hr,hidden:g,button:g,submit:g,reset:g,file:g},ba=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(wa[Xr(a.type)]||wa.text)(i,o,a,s[0],t,e,n,r)}}}}],_a=/^(true|false|\d+)$/,xa=function(){function e(e,t,n){var r=b(n)?n:9===ri?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return _a.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},Aa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=we(e)})}}}}],Ca=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=w(e)?"":e})}}}}],Ea=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Ta=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ka=Qr("",!0),$a=Qr("Odd",0),Sa=Qr("Even",1),qa=yr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ia=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ma={},Da={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=xt("ng-"+e);Ma[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Da[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ra=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,u;n.$watch(i.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=ve(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],Fa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:fi.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,c,u,l){var d,p,f,h=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).done(function(e){!1!==e&&(p=null)}),p=f,f=null)};r.$watch(o,function(o){var c=function(e){!1===e||!b(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===h){var t=r.$new();u.template=e;var s=l(t,function(e){g(),n.enter(e,null,i).done(c)});d=t,f=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===h&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Pa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(li.call(r[0]).match(/SVG/))return r.empty(),void t(Ie(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],Oa=yr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ba=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?yi(i):i,c=function(e){if(!w(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(a?yi(e):e)}),t}};r.$parsers.push(c),r.$formatters.push(function(e){if(mi(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},La="ng-valid",Ua="ng-invalid",Na="ng-pristine",Ha="ng-dirty",Qa=r("ngModel");jr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],jr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return k(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){k(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Qa("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,te(this.$$element))},$render:g,$isEmpty:function(e){return w(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ha),this.$$animate.addClass(this.$$element,Na)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,Ha),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!gi(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function r(e,t){a===s.$$currentValidationRunId&&s.$setValidity(e,t)}function i(e){a===s.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var e=s.$$parserName||"parse";return w(s.$$parserValid)?(r(e,null),!0):(s.$$parserValid||(o(s.$validators,function(e,t){r(t,null)}),o(s.$asyncValidators,function(e,t){r(t,null)})),r(e,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(e,t));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(e,t){r(t,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(e,t);if(!F(s))throw Qa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},g):i(!0)}():void i(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){r.$modelValue!==o&&r.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,r=this;if(this.$$parserValid=!w(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),w(n)){this.$$parserValid=!1;break}gi(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){a||(r.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},xr({clazz:jr,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ja,za=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:jr,priority:1,compile:function(t){return t.addClass(Na).addClass("ng-untouched").addClass(La),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],Va=/(\s+|^)default(\s+|$)/;Vr.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=d({},e),o(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,
e[r]=yi(n.replace(Va,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Gr(e,this.$$options)),Gr(e,ja.$$options),new Vr(e)}},ja=new Vr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ga=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ja,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},Ka=yr({terminal:!0,priority:1e3}),Ya=r("ngOptions"),Wa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ja=["$compile","$document","$parse",function(t,n,r){function a(e,t,n){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Wa);if(!s)throw Ya("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,te(t));var c=s[5]||s[7],u=s[6],l=/ as /.test(s[0])&&s[1],d=s[9],p=r(s[2]?s[1]:c),f=l&&r(l),h=f||p,g=d&&r(d),m=d?function(e,t){return g(n,t)}:function(e){return rt(e)},v=function(e,t){return m(e,A(e,t))},y=r(s[2]||s[1]),w=r(s[3]||""),b=r(s[4]||""),_=r(s[8]),x={},A=u?function(e,t){return x[u]=t,x[c]=e,x}:function(e){return x[c]=e,x};return{trackBy:d,getTrackByValue:v,getWatchables:r(_,function(e){var t=[];e=e||[];for(var r=a(e),i=r.length,o=0;o<i;o++){var c=e===r?o:r[o],u=e[c],l=A(u,c),d=m(u,l);if(t.push(d),s[2]||s[1]){var p=y(n,l);t.push(p)}if(s[4]){var f=b(n,l);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},r=_(n)||[],i=a(r),s=i.length,c=0;c<s;c++){var u=r===i?c:i[c],l=r[u],p=A(l,u),f=h(n,p),g=m(f,p),x=y(n,p),C=w(n,p),E=b(n,p),T=new o(g,f,x,C,E);e.push(T),t[g]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Q(e.viewValue):e.viewValue}}}}}function s(e,r,i,s){function l(e,t){var n=c.cloneNode(!1);t.appendChild(n),p(e,n)}function d(e){var t=x.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function p(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function f(){var e=x&&h.readValue();if(x)for(var t=x.items.length-1;t>=0;t--){var n=x.items[t];Ke(b(n.group)?n.element.parentNode:n.element)}x=A.getOptions();var i={};if(x.items.forEach(function(e){var t;b(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),C.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),l(e,t)):l(e,C)}),r[0].appendChild(C),g.$render(),!g.$isEmpty(e)){var o=h.readValue();(A.trackBy||m?z(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var h=s[0],g=s[1],m=i.multiple,v=0,y=r.children(),w=y.length;v<w;v++)if(""===y[v].value){h.hasEmptyOption=!0,h.emptyOption=y.eq(v);break}r.empty();var _=!!h.emptyOption;ii(c.cloneNode(!1)).val("?");var x,A=a(i.ngOptions,r,e),C=n[0].createDocumentFragment();h.generateUnknownOptionValue=function(e){return"?"},m?(h.writeValue=function(e){if(x){var t=e&&e.map(d)||[];x.items.forEach(function(e){e.element.selected&&!N(t,e)&&(e.element.selected=!1)})}},h.readValue=function(){var e=r.val()||[],t=[];return o(e,function(e){var n=x.selectValueMap[e];n&&!n.disabled&&t.push(x.getViewValueFromOption(n))}),t},A.trackBy&&e.$watchCollection(function(){if(mi(g.$viewValue))return g.$viewValue.map(function(e){return A.getTrackByValue(e)})},function(){g.$render()})):(h.writeValue=function(e){if(x){var t=r[0].options[r[0].selectedIndex],n=x.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(h.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):h.selectUnknownOrEmptyOption(e)}},h.readValue=function(){var e=x.selectValueMap[r.val()];return e&&!e.disabled?(h.unselectEmptyOption(),h.removeUnknownOption(),x.getViewValueFromOption(e)):null},A.trackBy&&e.$watch(function(){return A.getTrackByValue(g.$viewValue)},function(){g.$render()})),_&&(t(h.emptyOption)(e),r.prepend(h.emptyOption),h.emptyOption[0].nodeType===Si?(h.hasEmptyOption=!1,h.registerOption=function(e,t){""===t.val()&&(h.hasEmptyOption=!0,h.emptyOption=t,h.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){var e=h.$isEmptyOptionSelected();h.hasEmptyOption=!1,h.emptyOption=void 0,e&&g.$render()}))}):h.emptyOption.removeClass("ng-scope")),e.$watchCollection(A.getWatchables,f)}var c=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=g},post:s}}}],Za=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function u(e){s.text(e||"")}var l,d=c.count,p=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,h=a.$eval(p)||{},m={},v=t.startSymbol(),y=t.endSymbol(),b=v+d+"-"+f+y,_=fi.noop;o(c,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Xr(n[2]);h[r]=s.attr(c.$attr[t])}}),o(h,function(e,n){m[n]=t(e.replace(r,b))}),a.$watch(d,function(t){var r=parseFloat(t),i=gi(r);if(i||r in h||(r=e.pluralCat(r-f)),!(r===l||i&&gi(l))){_();var o=m[r];w(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),_=g,u()):_=a.$watch(o,u),l=r}})}}}],Xa=["$parse","$animate","$compile",function(e,t,n){var a=r("ngRepeat"),s=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,l){var d=l.ngRepeat,p=n.$$createComment("end ngRepeat",d),f=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var h=f[1],g=f[2],m=f[3],v=f[4];if(!(f=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var y=f[3]||f[1],w=f[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var b,_,x,A,C={$id:rt};return v?b=e(v):(x=function(e,t){return rt(t)},A=function(e){return e}),function(e,n,r,l,f){b&&(_=function(t,n,r){return w&&(C[w]=t),C[y]=n,C.$index=r,b(e,C)});var h=ye();e.$watchCollection(g,function(r){var l,g,v,b,C,E,T,k,$,S,q,I,M=n[0],D=ye();if(m&&(e[m]=r),i(r))$=r,k=_||x;else{k=_||A,$=[];for(var R in r)Zr.call(r,R)&&"$"!==R.charAt(0)&&$.push(R)}for(b=$.length,q=new Array(b),l=0;l<b;l++)if(C=r===$?l:$[l],E=r[C],T=k(C,E,l),h[T])S=h[T],delete h[T],D[T]=S,q[l]=S;else{if(D[T])throw o(q,function(e){e&&e.scope&&(h[e.id]=e)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,T,E);q[l]={id:T,scope:void 0,clone:void 0},D[T]=!0}for(var F in h){if(S=h[F],I=ve(S.clone),t.leave(I),I[0].parentNode)for(l=0,g=I.length;l<g;l++)I[l].$$NG_REMOVED=!0;S.scope.$destroy()}for(l=0;l<b;l++)if(C=r===$?l:$[l],E=r[C],S=q[l],S.scope){v=M;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);c(S)!==v&&t.move(ve(S.clone),null,M),M=u(S),s(S.scope,l,y,E,w,C,b)}else f(function(e,n){S.scope=n;var r=p.cloneNode(!1);e[e.length++]=r,t.enter(e,null,M),M=r,S.clone=e,D[S.id]=S,s(S.scope,l,y,E,w,C,b)});h=D})}}}}],es=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ts=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ns=yr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),rs=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,c=[],u=[],l=[],d=[],p=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,function(n){for(var r,i;l.length;)e.cancel(l.pop());for(r=0,i=d.length;r<i;++r){var s=ve(u[r].clone);d[r].$destroy();(l[r]=e.leave(s)).done(p(l,r))}u.length=0,d.length=0,(c=a.cases["!"+n]||a.cases["?"])&&o(c,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],is=yr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),os=yr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),as=r("ngTransclude"),ss=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length&&c(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function c(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==$i||r.nodeValue.trim())return!0}}if(!o)throw as("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",te(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],cs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],us={$setViewValue:g,$render:g},ls=["$element","$scope",function(t,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(e){c||(c=!0,n.$$postDigest(function(){n.$$destroyed||(c=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,a=new Wi;o.selectValueMap={},o.ngModelCtrl=us,o.multiple=!1,o.unknownOption=ii(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),t.prepend(o.unknownOption),Kr(o.unknownOption,!0),t.val(n)},o.updateUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),Kr(o.unknownOption,!0),t.val(n)},o.generateUnknownOptionValue=function(e){return"? "+rt(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),Kr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&Kr(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var e=t.val(),n=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(n)?n:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Kr(ii(n),!1),o.hasOption(e)){o.removeUnknownOption();var r=rt(e);t.val(r in o.selectValueMap?r:e);var i=t[0].options[t[0].selectedIndex];Kr(ii(i),!0)}else o.selectUnknownOrEmptyOption(e)},o.addOption=function(e,t){if(t[0].nodeType!==Si){ge(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),r()}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.delete(e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return t[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&t[0].options[t[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(e){null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)};var s=!1,c=!1;o.registerOption=function(e,t,n,a,s){if(n.$attr.ngValue){var c,u=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");b(u)&&(o.removeOption(c),delete o.selectValueMap[u],n=!0),u=rt(e),c=e,o.selectValueMap[u]=e,o.addOption(e,t),t.attr("value",u),n&&r&&i()})}else a?n.$observe("value",function(e){o.readValue();var n,r=t.prop("selected");b(c)&&(o.removeOption(c),n=!0),c=e,o.addOption(e,t),n&&r&&i()}):s?e.$watch(s,function(e,r){n.$set("value",e);var a=t.prop("selected");r!==e&&o.removeOption(r),o.addOption(e,t),r&&a&&i()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),r(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&i(!0)})}}],ds=function(){function e(e,t,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=g);if(i.ngModelCtrl=a,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return o(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(N(e,t.value)||N(e,i.selectValueMap[t.value]));n!==t.selected&&Kr(ii(t),n)})};var s,c=NaN;e.$watch(function(){c!==a.$viewValue||z(s,a.$viewValue)||(s=_e(a.$viewValue),a.$render()),c=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ls,priority:1,link:{pre:e,post:t}}},ps=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return b(n.ngValue)||(b(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(e,t,n,r,i)}}}}],fs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},hs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(A(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,te(t));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||w(o)||o.test(t)}}}}},gs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=gi(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},ms=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var t;if(!Ti){var n=_i();oi=w(n)?e.jQuery:n?e[n]:void 0,oi&&oi.fn.on?(ii=oi,d(oi.fn,{scope:zi.scope,isolateScope:zi.isolateScope,controller:zi.controller,injector:zi.injector,inheritedData:zi.inheritedData}),t=oi.cleanData,oi.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=oi._data(r,"events"))&&n.$destroy&&oi(r).triggerHandler("$destroy");t(e)}):ii=Re,fi.element=ii,Ti=!0}}(),function(n){d(n,{errorHandlingConfig:t,bootstrap:ue,copy:Q,extend:d,merge:p,equals:z,element:ii,forEach:o,injector:ut,noop:g,bind:K,toJson:W,fromJson:J,identity:m,isUndefined:w,isDefined:b,isString:A,isFunction:k,isObject:_,isNumber:C,isElement:B,isArray:mi,version:Mi,isDate:E,lowercase:Xr,uppercase:ei,callbacks:{$$counter:0},getTestability:de,reloadWithDebugInfo:le,$$minErr:r,$$csp:bi,$$encodeUriSegment:oe,$$encodeUriQuery:ae,$$stringify:we}),ai=be(e),ai("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Mn}),e.provider("$compile",bt).directive({a:ta,input:ba,textarea:ba,form:aa,script:cs,select:ds,option:ps,ngBind:Aa,ngBindHtml:Ea,ngBindTemplate:Ca,ngClass:ka,ngClassEven:Sa,ngClassOdd:$a,ngCloak:qa,ngController:Ia,ngForm:sa,ngHide:ts,ngIf:Ra,ngInclude:Fa,ngInit:Oa,ngNonBindable:Ka,ngPluralize:Za,ngRepeat:Xa,ngShow:es,ngStyle:ns,ngSwitch:rs,ngSwitchWhen:is,ngSwitchDefault:os,ngOptions:Ja,ngTransclude:ss,ngModel:za,ngList:Ba,ngChange:Ta,pattern:hs,ngPattern:hs,required:fs,ngRequired:fs,minlength:ms,ngMinlength:ms,maxlength:gs,ngMaxlength:gs,ngValue:xa,ngModelOptions:Ga}).directive({ngInclude:Pa}).directive(na).directive(Ma),e.provider({$anchorScroll:lt,$animate:co,$animateCss:po,$$animateJs:ao,$$animateQueue:so,$$AnimateRunner:lo,$$animateAsyncRun:uo,$browser:mt,$cacheFactory:vt,$controller:Tt,$document:kt,$$isDocumentHidden:$t,$exceptionHandler:St,$filter:Gn,$$forceReflow:wo,$interpolate:Qt,$interval:jt,$http:Lt,$httpParamSerializer:It,$httpParamSerializerJQLike:Mt,$httpBackend:Nt,$xhrFactory:Ut,$jsonpCallbacks:ko,$location:an,$log:sn,$parse:An,$rootScope:In,$q:Cn,$$q:En,$sce:On,$sceDelegate:Pn,$sniffer:Bn,$templateCache:yt,$templateRequest:Ln,$$testability:Un,$timeout:Nn,$window:jn,$$rAF:qn,$$jqLite:nt,$$Map:Ji,$$cookieReader:Vn})}]).info({angularVersion:"1.6.6"})}(fi),fi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r);return{v:r,f:(e*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),ii(function(){ce(e.document,ue)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",["jquery"],function(e){return function(){return e.angular}}(this)),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/slash_request_config/abstract",["require","has","angular"],function(t){var n,r,i;return t("has"),r=t("angular"),r.isFunction,r.isObject,i=["cms.month:january","cms.month:february","cms.month:march","cms.month:april","cms.month:may","cms.month:june","cms.month:july","cms.month:august","cms.month:september","cms.month:october","cms.month:november","cms.month:december","text.points display","text.point display","text.days","text.hours","text.minutes","text.seconds","error.unknown","button.submit"],n=function(){function t(t,n,r,i){this.ctText=t,this.slashRequest=n,this.$injector=r,this.$log=i,this.load=e(this.load,this)}return t.prototype.load=function(){var e,t,n,o;return e=r.isArray(this.config)||r.isFunction(this.config)?this.config:function(e){return function(){return e.config}}(this),t=this.$injector.invoke(e),null!=t&&null==t.page_data&&(t.page_data={text:[]}),t.page_data.text=t.page_data.text.concat(i),n=null!=(o=window.widgetConf)?o.id:void 0,this.slashRequest(t,n).then(function(e){return function(t){var n,i,o,a,s,c;return n=t.data,"function"==typeof e.validate&&e.validate(null!=n?n.model_data:void 0,n),(o=null!=t&&null!=(s=t.data)&&null!=(c=s.page_data)?c.text:void 0)&&e.ctText.load(o),(a=e.transformResponse)&&(r.isFunction(a)?n=a(n.model_data,n):r.isArray(a)&&(i={modelData:n.model_data,data:n},n=e.$injector.invoke(a,e,i))),n}}(this))},t}(),n.$inject=["ctText","slashRequest","$injector","$log"],n})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/account_overview/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["link.log out","link.log out link","text.lifetime points","text.redeemable points acct overview widget","text.max fan level","word.to"]},model_data:{user:{me:{properties:["country","date_created_iso","email_address","encrypted_ct_id","facebook_user_id","fan_rank","first_name","last_name","language","mobile_phone_number","photo_url","redeemable_points","segments","third_party_id","tier","total_points","username"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){if(e.loadSession(t.user.me[0]),n.load(t),t.client.current[0].fan_levels)return t.client.current[0].fan_levels}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/account_overview/v1/account_overview",["require","app/common/abstract_controller","app/widgets/account_overview/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/account_overview/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="account-overview",r.prototype.onDataLoad=function(e){return this.scope.fanLevels=e},r.prototype.run=["$scope","ctUser",function(e,t){this.scope=e,this.user=t}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/account_overview/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["link.log out","link.log out link","text.lifetime points","text.redeemable points acct overview widget","text.max fan level","word.to"]},model_data:{user:{me:{properties:["country","date_created_iso","email_address","encrypted_ct_id","facebook_user_id","fan_rank","first_name","last_name","language","mobile_phone_number","photo_url","redeemable_points","segments","third_party_id","tier","total_points","username"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){if(e.loadSession(t.user.me[0]),n.load(t),t.client.current[0].fan_levels)return t.client.current[0].fan_levels}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/account_overview/v2/account_overview",["require","app/common/abstract_controller","app/widgets/account_overview/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/account_overview/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="account-overview",r.prototype.onDataLoad=function(e){return this.scope.fanLevels=e},r.prototype.run=["$scope","ctUser",function(e,t){this.scope=e,this.user=t}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/account_overview_two/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["link.log out","link.log out link","text.additional score needed to maintain","text.currency","text.current tier","text.earn by","text.lifetime points","text.reached the highest level","text.reached the highest level title","text.redeemable points acct overview widget","text.max fan level","text.score earned","text.score needed to reach","text.spend currency","text.spend currency note","text.tier maintenance","text.tiers","text.valid through","title.additional score needed to maintain","word.to"]},model_data:{user:{me:{properties:["country","date_created_iso","email_address","encrypted_ct_id","facebook_user_id","fan_rank","first_name","last_name","language","mobile_phone_number","photo_url","redeemable_points","segments","third_party_id","tier","total_points","username"],query:{type:"me"}}},client:{current:{properties:["fan_levels","tier_conf"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){return e.loadSession(t.user.me[0]),n.load(t),t.client.current[0].tier_conf?t.client.current[0].tier_conf:t.client.current[0].fan_levels?t.client.current[0].fan_levels:void 0}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/account_overview_two/v1/account_overview_two",["require","app/common/abstract_controller","app/widgets/account_overview_two/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/account_overview_two/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="account-overview-two",r.prototype.onDataLoad=function(e){return this.scope.tierConf=e},r.prototype.run=["$scope","ctUser",function(e,t){this.scope=e,this.user=t}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/account_overview_two/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["link.log out","link.log out link","text.additional score needed to maintain","text.currency","text.current tier","text.earn by","text.lifetime points","text.reached the highest level","text.reached the highest level title","text.redeemable points acct overview widget","text.max fan level","text.score earned","text.score needed to reach","text.spend currency","text.spend currency note","text.tier maintenance","text.tiers","text.valid through","title.additional score needed to maintain","word.to"]},model_data:{user:{me:{properties:["country","date_created_iso","email_address","encrypted_ct_id","facebook_user_id","fan_rank","first_name","last_name","language","mobile_phone_number","photo_url","redeemable_points","segments","third_party_id","tier","total_points","username"],query:{type:"me"}}},client:{current:{properties:["fan_levels","tier_conf"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){return e.loadSession(t.user.me[0]),n.load(t),t.client.current[0].tier_conf?t.client.current[0].tier_conf:t.client.current[0].fan_levels?t.client.current[0].fan_levels:void 0}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/account_overview_two/v2/account_overview_two",["require","app/common/abstract_controller","app/widgets/account_overview_two/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/account_overview_two/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="account-overview-two",r.prototype.onDataLoad=function(e){return this.scope.tierConf=e},r.prototype.run=["$scope","ctUser",function(e,t){this.scope=e,this.user=t}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/account_settings/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{
text:["heading.pending email address","link.send verfication again","text.verification sent","label.city","label.country","label.confirm password","label.confirm new password","label.current password","label.date of birth","label.email address","label.email or username","label.first name","label.language preference","label.last name","label.mobile phone number","label.new password","label.password","label.postal code","label.select language","label.select month","label.username","error.city invalid","error.date of birth required","error.date of birth under age","error.email address taken","error.email address invalid","error.email address required","error.explain mobile phone number invalid","error.first name invalid","error.first name required","error.info required","error.invalid date","error.last name invalid","error.last name required","error.old password incorrect","error.password required","error.password mismatch","error.postal code invalid","error.postal code update restricted","error.mobile phone number length","error.mobile phone number mismatch","error.mobile phone number required","error.mobile phone number taken","error.username invalid","error.username required","error.username taken","error.verification failed to send","success.changes saved","success.password changed","word.cancel","word.edit","word.remove","word.save","word.unverified"]},model_data:{location:{countries:{properties:["country_name","country_id","has_postal_codes"],query:{type:"countries"}}},language:{conf:{properties:["language_name","language_id"],query:{type:"languages"}}},user:{me:{properties:["em_updated_address","email_address","email_is_verified","postal_code","country_id","city_id","city","date_of_birth","mobile_phone_number","facebook_user_id","fan_rank","first_name","is_domestic","last_name","photo_url","redeemable_points","sign_up_type","total_points","username","language"],query:{type:"me"}}},client:{current:{properties:["age_restriction","coppa_redirect_url","country_info","enable_us_only","fan_levels"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","ctLocation","ctLanguagePref","modelData","ctFanLevels",function(e,t,n,r,i,o){return e.loadSession(i.user.me[0]),t.loadData(i.client.current[0]),n.loadCountries(i.location.countries),r.loadLanguages(i.language.conf),o.load(i),i.client.current[0]}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/account_settings/v1/account_settings",["require","app/common/abstract_controller","app/widgets/account_settings/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/account_settings/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="account-settings",r.prototype.onDataLoad=function(e){return this.client=e},r.prototype.run=["$scope","userService",function(e,t){var n;return this.scope=e,this.user=t,n=this,this.on("do:profile:update",function(e){return function(t){return e.user.update(t).then(function(e){return n.down("profile:update:success",e)},function(e){return n.down("profile:update:failure",e)})}}(this)),this.on("do:password:update",function(e){return function(t){return e.user.updatePassword(t).then(function(e){return n.down("password:update:success",e)},function(e){return n.down("password:update:failure",e)})}}(this)),this.on("do:pending:email:removal",function(e){return function(){return e.user.removePendingEmailAddress()}}(this)),this.on("do:email:verification:send",function(e){return function(t){return e.user.resendEmailVerificationEmail(t).then(function(e){return n.down("email:verification:send:success",e)},function(e){return n.down("email:verification:send:failure",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/activity_history/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["label.activity","label.date","label.free","label.bonus campaign","label.bonus details","label.point cap reached","text.auto campaign history prefix","activity-history.pending_purchase","activity-title.pending purchase","word.transaction","button.show more"]},model_data:{user:{me:{properties:["fan_rank","total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},activity:{newest_activities:{properties:["id","date_completed","date_created","notes","num_points","points_withheld_by_cap","title","is_automatic_campaign","show_activity_point_text","trigger_type","event_type","event_title","additional_points"],query:{type:"user_activities_me",args:{row_start:1,row_end:25}}}}}}}],n.prototype.validate=function(e,t){return!0},n.prototype.transformResponse=["modelData","ctActivity","ctFanLevels",function(e,t,n){var r,i,o,a,s;for(n.load(e),r=[],s=e.activity.newest_activities,o=0,a=s.length;o<a;o++)i=s[o],r.push(new t(i));return r}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/activity_history/v1/activity_history",["require","app/common/abstract_controller","app/widgets/activity_history/v1/config","has"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/activity_history/v1/config"),t("has"),function(t){function r(){return this._getData=e(this._getData,this),this.onLoadActivitiesClicked=e(this.onLoadActivitiesClicked,this),this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.down("loaded:activities",e)},r.prototype.onLoadActivitiesClicked=function(e){var t,n;return n=e.startIndex,t=e.endIndex,this._getData(n,t)},r.prototype._getData=function(e,t){var n;return n=this.http.post("/request",{model_data:{activity:{newest_activities:{properties:["id","date_completed","date_created","notes","num_points","title","is_automatic_campaign","show_activity_point_text","trigger_type","event_type","event_title","additional_points"],query:{type:"user_activities_me",args:{row_start:e,row_end:t}}}}}}),n.then(function(t){return function(n){var r,i;return r=t.transformResponse(null!=n&&null!=(i=n.data)?i.model_data:void 0,e),t.onDataLoad(r)}}(this))},r.prototype.transformResponse=function(e,t){var n,r,i,o,a;for(n=[],a=e.activity.newest_activities,i=0,o=a.length;i<o;i++)r=a[i],n.push(new this.Activity(r));return n},r.prototype.run=["$scope","$http","ctActivity",function(e,t,n){return this.scope=e,this.http=t,this.Activity=n,this.pageNumber=1,this.on("loadMore:clicked",this.onLoadActivitiesClicked)}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/activity_history/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.activity-history widget title","label.activity","label.date","label.free","label.bonus campaign","label.bonus details","label.point cap reached","text.auto campaign history prefix","activity-history.pending_purchase","activity-title.pending purchase","word.transaction","button.show more"]},model_data:{user:{me:{properties:["fan_rank","total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},activity:{newest_activities:{properties:["id","date_completed","date_created","notes","num_points","points_withheld_by_cap","title","is_automatic_campaign","show_activity_point_text","trigger_type","event_type","event_title","additional_points"],query:{type:"user_activities_me",args:{row_start:1,row_end:25}}}}}}}],n.prototype.validate=function(e,t){return!0},n.prototype.transformResponse=["modelData","ctActivity","ctFanLevels",function(e,t,n){var r,i,o,a,s;for(n.load(e),r=[],s=e.activity.newest_activities,o=0,a=s.length;o<a;o++)i=s[o],r.push(new t(i));return r}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/activity_history/v2/activity_history",["require","app/common/abstract_controller","app/widgets/activity_history/v2/config","has"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/activity_history/v2/config"),t("has"),function(t){function r(){return this._getData=e(this._getData,this),this.onLoadActivitiesClicked=e(this.onLoadActivitiesClicked,this),this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.down("loaded:activities",e)},r.prototype.onLoadActivitiesClicked=function(e){var t,n;return n=e.startIndex,t=e.endIndex,this._getData(n,t)},r.prototype._getData=function(e,t){var n;return n=this.http.post("/request",{model_data:{activity:{newest_activities:{properties:["id","date_completed","date_created","notes","num_points","title","is_automatic_campaign","show_activity_point_text","trigger_type","event_type","event_title","additional_points"],query:{type:"user_activities_me",args:{row_start:e,row_end:t}}}}}}),n.then(function(t){return function(n){var r,i;return r=t.transformResponse(null!=n&&null!=(i=n.data)?i.model_data:void 0,e),t.onDataLoad(r)}}(this))},r.prototype.transformResponse=function(e,t){var n,r,i,o,a;for(n=[],a=e.activity.newest_activities,i=0,o=a.length;i<o;i++)r=a[i],n.push(new this.Activity(r));return n},r.prototype.run=["$scope","$http","ctActivity",function(e,t,n){return this.scope=e,this.http=t,this.Activity=n,this.pageNumber=1,this.on("loadMore:clicked",this.onLoadActivitiesClicked)}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/activity_list/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t,n,r,i,o;for(t=[],o=e.entries,r=0,i=o.length;r<i;r++)n=o[r].activity.name,t.push(n);return{page_data:{text:["text.activity widget unlock","text.activity widget tier unlock","text.bonus","text.activity widget available","button.go"]},model_data:{user:{me:{properties:["total_points","state_id"],query:{type:"me"}}},client:{current:{properties:["fan_levels","states_not_allowing_purchase"],query:{type:"current"}}},activity:{activities:{properties:["additional_points","category_name","description","freq_cap","has_bonus","id","show_activity_point_text","link_href","main_image_url","name","num_points","prereq_activity_id","prereq_activity_link_href","prereq_activity_name","prereq_activity_title","prereq_user_activity_status","show_detail","title","user_activity_status","min_tier_id","locked_by_tier"],query:{type:"activities_by_name",args:{names:t}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.activity)&&null!=(r=n.activities)?r[0]:void 0))throw new Error("/request did not return activities for ActivityListConfig.")},n.prototype.transformResponse=["modelData","ctActivity","widgetConf","ctFanLevels",function(e,t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m,v;for(u=null!=e&&null!=(h=e.user)?h.me[0]:void 0,s=null!=e&&null!=(g=e.client)?g.current[0]:void 0,a=-1===s.states_not_allowing_purchase.indexOf(u.state_id),r.load(e),o=[],m=n.entries,l=0,p=m.length;l<p;l++)for(c=m[l].activity.name,v=e.activity.activities,d=0,f=v.length;d<f;d++)i=v[d],i.name===c&&(a||"receipt scanned"!==i.name)&&o.push(new t(i));return{activities:o,tierConf:s.fan_levels}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/activity_list/v1/activity_list",["require","app/common/abstract_controller","app/widgets/activity_list/v1/config","has"],function(t){var r,i,o;return r=t("app/common/abstract_controller"),i=t("app/widgets/activity_list/v1/config"),t("has"),o=1,function(t){function r(){return this.getLinkDataForActivity=e(this.getLinkDataForActivity,this),this.onActivityClicked=e(this.onActivityClicked,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activities=e.activities,this.scope.tierConf=e.tierConf},r.prototype.openActivityPopup=function(e,t,n){var r,i;return r=encodeURIComponent("//"+n.location.hostname+"/widgets/t/"+e.widgetType+"/"+e.widgetId),i="/widgets/c?type="+e.widgetType+"&id="+e.widgetId+"&data="+r,t.open({url:i,width:400,height:600})},r.prototype.onActivityClicked=function(e,t,n,r){var i,a,s,c,u;if(!e.isPreReqLocked()){if(i=this.getLinkDataForActivity(e),"widget"===(null!=i?i.type:void 0)){switch(u=400,a=i.widgetType,c=i.widgetId,i&&((s={}).widgetId=c),i.widgetType){case"activity-details-with-variations":case"variation-activity":if(e.isUnavailable())return;a="variation-activity",s={activityName:i.activityNameUrlSlug};break;case"code-redemption":case"survey":case"additional-info":case"invite-friends":if(r.isIOS())return void this.openActivityPopup(i,t,n)}return u=function(){switch(i.widgetType){case"invite-friends":return 750;default:return 400}}(),this.up("modal:open",{state:a,stateParams:s,version:o,widgetId:i.widgetId,width:u})}return"url"===(null!=i?i.type:void 0)?this.up("navigate",{url:i.url}):this.$log.error("The `link` provided for the clicked activity does not have a valid type. The type is: "+i.type+".")}},r.prototype.getLinkDataForActivity=function(e){var t,n,r,i,o;for(i=this.widgetConf.entries,n=0,r=i.length;n<r;n++)if(t=i[n],t.activity.name===e.name)return"url"===(null!=(o=t.link)?o.type:void 0)&&(t.link.url=e.link_href),t.link},r.prototype.run=["$scope","ctBrowserDetect","ctPopup","$window","widgetConf",function(e,t,n,r,i){return this.scope=e,this.widgetConf=i,this.on("activity:clicked",function(e){return function(i){return e.onActivityClicked(i,n,r,t)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/activity_list/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t,n,r,i,o;for(t=[],o=e.entries,r=0,i=o.length;r<i;r++)n=o[r].activity.name,t.push(n);return{page_data:{text:["text.activity widget unlock","text.activity widget tier unlock","text.bonus","text.activity widget available","button.go"]},model_data:{user:{me:{properties:["total_points","state_id"],query:{type:"me"}}},client:{current:{properties:["fan_levels","states_not_allowing_purchase"],query:{type:"current"}}},activity:{activities:{properties:["additional_points","category_name","description","freq_cap","has_bonus","id","show_activity_point_text","link_href","main_image_url","name","num_points","prereq_activity_id","prereq_activity_link_href","prereq_activity_name","prereq_activity_title","prereq_user_activity_status","show_detail","title","user_activity_status","min_tier_id","locked_by_tier"],query:{type:"activities_by_name",args:{names:t}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.activity)&&null!=(r=n.activities)?r[0]:void 0))throw new Error("/request did not return activities for ActivityListConfig.")},n.prototype.transformResponse=["modelData","ctActivity","widgetConf","ctFanLevels",function(e,t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m,v;for(u=null!=e&&null!=(h=e.user)?h.me[0]:void 0,s=null!=e&&null!=(g=e.client)?g.current[0]:void 0,a=-1===s.states_not_allowing_purchase.indexOf(u.state_id),r.load(e),o=[],m=n.entries,l=0,p=m.length;l<p;l++)for(c=m[l].activity.name,v=e.activity.activities,d=0,f=v.length;d<f;d++)i=v[d],i.name===c&&(a||"receipt scanned"!==i.name)&&o.push(new t(i));return{activities:o,tierConf:s.fan_levels}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/activity_list/v2/activity_list",["require","app/common/abstract_controller","app/widgets/activity_list/v2/config","has"],function(t){var r,i,o;return r=t("app/common/abstract_controller"),i=t("app/widgets/activity_list/v2/config"),t("has"),o=2,function(t){function r(){return this.getLinkDataForActivity=e(this.getLinkDataForActivity,this),this.onActivityClicked=e(this.onActivityClicked,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activities=e.activities,this.scope.tierConf=e.tierConf},r.prototype.openActivityPopup=function(e,t,n){var r,i;return r=encodeURIComponent("//"+n.location.hostname+"/widgets/t/"+e.widgetType+"/"+e.widgetId),i="/widgets/c?type="+e.widgetType+"&id="+e.widgetId+"&data="+r,t.open({url:i,width:400,height:600})},r.prototype.onActivityClicked=function(e,t,n,r){var i,a,s,c,u;if(!e.isPreReqLocked()){if(i=this.getLinkDataForActivity(e),"widget"===(null!=i?i.type:void 0)){switch(u=400,a=i.widgetType,c=i.widgetId,i&&((s={}).widgetId=c),i.widgetType){case"activity-details-with-variations":case"variation-activity":if(e.isUnavailable())return;a="variation-activity",s={activityName:i.activityNameUrlSlug};break;case"code-redemption":case"survey":case"additional-info":case"invite-friends":if(r.isIOS())return void this.openActivityPopup(i,t,n)}return u=function(){switch(i.widgetType){case"invite-friends":return 750;default:return 400}}(),this.up("modal:open",{state:a,stateParams:s,version:o,widgetId:i.widgetId,width:u})}return"url"===(null!=i?i.type:void 0)?this.up("navigate",{url:i.url}):this.$log.error("The `link` provided for the clicked activity does not have a valid type. The type is: "+i.type+".")}},r.prototype.getLinkDataForActivity=function(e){var t,n,r,i,o;for(i=this.widgetConf.entries,n=0,r=i.length;n<r;n++)if(t=i[n],t.activity.name===e.name)return"url"===(null!=(o=t.link)?o.type:void 0)&&(t.link.url=e.link_href),t.link},r.prototype.run=["$scope","ctBrowserDetect","ctPopup","$window","widgetConf",function(e,t,n,r,i){return this.scope=e,this.widgetConf=i,this.on("activity:clicked",function(e){return function(i){return e.onActivityClicked(i,n,r,t)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/additional_info/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.additional info","label.date of birth","label.gender","label.mobile phone number","error.date of birth invalid","error.date of birth select all","error.explain mobile phone number invalid","error.mobile phone number invalid","error.mobile phone number length","error.mobile phone number required","error.mobile phone number taken","success.add info widget update dob","success.add info widget update gender","success.add info widget update phone","text.your profile save success","text.your profile save add points","text.your profile save remove points","text.day","text.month","text.year","word.choose","word.completed","word.error","word.female","word.male","word.success"]},model_data:{user:{me:{properties:["date_of_birth","gender","mobile_phone_number"],query:{type:"me"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["added date of birth","added gender","mobile phone added"]}}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctActivity",function(e,t,n){var r,i,o,a,s;for(e.loadSession(t.user.me[0]),i=[],s=t.activity.activities,o=0,a=s.length;o<a;o++)r=s[o],i.push(new n(r));return i}],n.prototype.validate=function(e,t){var n,r,i;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isArray(null!=e&&null!=(i=e.activity)?i.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/additional_info/v1/additional_info",["require","app/common/abstract_controller","app/widgets/additional_info/v1/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/additional_info/v1/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.widgetType="additional-info",n.prototype.onDataLoad=function(e){return this.scope.activities=e},n.prototype.run=["$scope","$stateParams","widgetBus","userService","errorService",function(e,t,n,r,i){return this.scope=e,this.on("do:user:update:gender",function(e){return function(t){return r.updateGender(t).then(function(){return e.down("user:update:gender:success")},i.down("user:update:gender:error"))}}(this)),this.on("do:user:update:date_of_birth",function(e){return function(t){var n,o,a;return n=t.day,o=t.month,a=t.year,r.updateDob(n,o,a).then(function(){return e.down("user:update:date_of_birth:success")},i.down("user:update:date_of_birth:error"))}}(this)),this.on("do:user:update:mobile_phone_number",function(e){return function(t){return r.updateMobilePhoneNumber(t).then(function(){return e.down("user:update:mobile_phone_number:success")},i.down("user:update:mobile_phone_number:error"))}}(this))}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/additional_info/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.additional info","label.date of birth","label.gender","label.mobile phone number","error.date of birth invalid","error.date of birth select all","error.explain mobile phone number invalid","error.mobile phone number invalid","error.mobile phone number length","error.mobile phone number required","error.mobile phone number taken","success.add info widget update dob","success.add info widget update gender","success.add info widget update phone","text.day","text.month","text.year","text.your profile save success","word.choose","word.completed","word.error","word.female","word.male","word.success"]},model_data:{user:{me:{properties:["date_of_birth","gender","mobile_phone_number"],query:{type:"me"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["added date of birth","added gender","mobile phone added"]}}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctActivity",function(e,t,n){var r,i,o,a,s;for(e.loadSession(t.user.me[0]),i=[],s=t.activity.activities,o=0,a=s.length;o<a;o++)r=s[o],i.push(new n(r));return i}],n.prototype.validate=function(e,t){var n,r,i;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isArray(null!=e&&null!=(i=e.activity)?i.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/additional_info/v2/additional_info",["require","app/common/abstract_controller","app/widgets/additional_info/v2/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/additional_info/v2/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.widgetType="additional-info",n.prototype.onDataLoad=function(e){return this.scope.activities=e},n.prototype.run=["$scope","$stateParams","widgetBus","userService","errorService",function(e,t,n,r,i){return this.scope=e,this.on("do:user:update:gender",function(e){return function(t){return r.updateGender(t).then(function(){return e.down("user:update:gender:success")},i.down("user:update:gender:error"))}}(this)),this.on("do:user:update:date_of_birth",function(e){return function(t){var n,o,a;return n=t.day,o=t.month,a=t.year,r.updateDob(n,o,a).then(function(){return e.down("user:update:date_of_birth:success")},i.down("user:update:date_of_birth:error"))}}(this)),this.on("do:user:update:mobile_phone_number",function(e){return function(t){return r.updateMobilePhoneNumber(t).then(function(){return e.down("user:update:mobile_phone_number:success")},i.down("user:update:mobile_phone_number:error"))}}(this))}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/claim_purchase/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.claim-purchase widget title","text.explain claim purchase widget","text.explain purchase date","text.explain order number","text.explain receipt number","text.explain store location","text.explain total purchase amount","text.order number","text.receipt number","text.store location","text.purchase date","label.select month","text.total purchase amount","error.enter order number","error.enter receipt number","error.enter store location","error.enter date","error.enter total amount","error.claim failed","button.claim another","text.purchase claimed"]},model_data:{claim_config:{config:{properties:["claim_id_field","claim_fields"],query:{type:"claim_config"}}}}}}],n.prototype.transformResponse=["modelData",function(e){return{claimFields:e.claim_config.config.claim_fields,claimIdField:e.claim_config.config.claim_id_field}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/claim_purchase/v1/claim_purchase",["require","app/common/abstract_controller","app/widgets/claim_purchase/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/claim_purchase/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="claim-purchase",r.prototype.onDataLoad=function(e){return this.scope.claimConfig=e},r.prototype.run=["$scope","userService",function(e,t){var n;return this.scope=e,this.user=t,n=this,this.on("do:claim:submit",function(e){return function(t){return e.user.submitClaim(t).then(function(e){return n.down("claim:submit:success",e)},function(e){return n.down("claim:submit:error",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/code_redemption/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.submit","error.info required","text.activity widget tier unlock","text.code redemption receipt image view full size","text.hide","text.sample receipt","text.show","word.error","word.optional","word.select","word.success"]},model_data:{user:{me:{properties:["fan_rank","total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},code_redemption_campaign:{campaign:{properties:["description","form","id","receipt_image_url","title","is_locked_by_tier","min_tier_id"],query:{type:"campaign_by_id",args:{id:e.campaignId}}}}}}}],n.prototype.validate=function(e){},n.prototype.transformResponse=["modelData","ctCodeRedemptionCampaign","ctFanLevels",function(e,t,n){var r,i,o,a,s;return n.load(e),i=null!=e&&null!=(o=e.client)?o.current[0]:void 0,r=new t(null!=e&&null!=(a=e.code_redemption_campaign)&&null!=(s=a.campaign)?s[0]:void 0),{campaign:r,tierConf:i.fan_levels}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/code_redemption/v1/code_redemption",["require","app/common/abstract_controller","app/widgets/code_redemption/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/code_redemption/v1/config"),function(t){
function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return null!=e.campaign?(this.scope.campaign=e.campaign,this.scope.tierConf=e.tierConf):this.down("remove")},r.prototype.run=["$scope","$http","userService",function(e,t,n){return this.scope=e,this.out("do:dynamicForm:submit",function(e){return function(t){var r;return r=t.form,n.submitDynamicForm(r).then(function(t){return e.down("dynamicForm:submit:success",t.data)}).catch(function(t){return e.down("dynamicForm:submit:error",t.data)})}}(this)),this.out("do:dynamicForm:success",function(e){return function(t){var n;return n=t.message,e.up("code:redeemed",{points:null!=n?n.points:void 0})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/code_redemption/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.submit","error.info required","text.activity widget tier unlock","text.code redemption receipt image view full size","text.hide","text.sample receipt","text.show","word.error","word.optional","word.select","word.success"]},model_data:{user:{me:{properties:["fan_rank","total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},code_redemption_campaign:{campaign:{properties:["description","form","id","receipt_image_url","title","is_locked_by_tier","min_tier_id"],query:{type:"current_code_redemption",args:{campaignId:e.campaignId,campaignGroupId:e.campaignGroupId}}}}}}}],n.prototype.validate=function(e){},n.prototype.transformResponse=["modelData","ctCodeRedemptionCampaign","ctFanLevels",function(e,t,n){var r,i,o,a,s;return n.load(e),i=null!=e&&null!=(o=e.client)?o.current[0]:void 0,r=new t(null!=e&&null!=(a=e.code_redemption_campaign)&&null!=(s=a.campaign)?s[0]:void 0),{campaign:r,tierConf:i.fan_levels}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/code_redemption/v2/code_redemption",["require","app/common/abstract_controller","app/widgets/code_redemption/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/code_redemption/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return null!=e.campaign?(this.scope.campaign=e.campaign,this.scope.tierConf=e.tierConf):this.down("remove")},r.prototype.run=["$scope","$http","userService",function(e,t,n){return this.scope=e,this.out("do:dynamicForm:submit",function(e){return function(t){var r;return r=t.form,n.submitDynamicForm(r).then(function(t){return e.down("dynamicForm:submit:success",t.data)}).catch(function(t){return e.down("dynamicForm:submit:error",t.data)})}}(this)),this.out("do:dynamicForm:success",function(e){return function(t){var n;return n=t.message,e.up("code:redeemed",{points:null!=n?n.points:void 0})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/unsubscribe/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels","name","program_name"],query:{type:"current"}}}},page_data:{text:["heading.email unsubscribe widget","heading.unsubscribe widget","text.unsubscribe explanation","error.email unsubscribe","label.loading"]}},n.prototype.transformResponse=["ctClient","modelData","ctFanLevels",function(e,t,n){return n.load(t),e.loadData(t.client.current[0]),t.client.current[0]}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/unsubscribe/v1/unsubscribe",["require","app/common/abstract_controller","app/widgets/unsubscribe/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/unsubscribe/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){},r.prototype.run=["$scope",function(e){this.scope=e}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/invite_friends/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.invite using link","success.invite friends","text.explain earn points when invites join","text.explain invite points earning 2","text.explain referral link","text.points earned","text.twitter invite friends default tweet","title.share on facebook","title.share on twitter","word.share"]},model_data:{user:{me:{properties:["facebook_connected","referral_code","referral_stats","twitter_connected","total_points"],query:{type:"me"}}},client:{current:{properties:["enable_fb_login","enable_twit_login","fb_permissions_user","name","program_name","program_url","twitter_auth_url","fan_levels"],query:{type:"current"}}},activity:{activities:{properties:["name","num_points"],query:{type:"activities_by_name",args:{names:["invited friends","registration invite accepted"]}}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData","ctFanLevels",function(e,t,n,r){return r.load(n),e.loadSession(n.user.me[0]),t.loadData(n.client.current[0]),n.activity.activities}],n.prototype.validate=function(e){},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/invite_friends/v1/invite_friends",["require","app/common/abstract_controller","app/widgets/invite_friends/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/invite_friends/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activities=e},r.prototype.run=["$scope","userService",function(e,t){return this.scope=e,this.out("fb:share:success",function(e){return function(e){return t.processSocialPost({dest_id:1,reason_id:6,code:e.code,url:e.url})}}()),this.out("twitter:share:success",function(e){return function(e){return t.processSocialPost({dest_id:2,reason_id:6,code:e.code,url:e.url})}}())}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/invite_friends/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.invite using link","success.invite friends","text.explain earn points when invites join","text.explain invite points earning 2","text.explain referral link","text.points earned","text.twitter invite friends default tweet","title.share on facebook","title.share on twitter","word.share"]},model_data:{user:{me:{properties:["facebook_connected","referral_code","referral_stats","twitter_connected","total_points"],query:{type:"me"}}},client:{current:{properties:["enable_fb_login","enable_twit_login","fb_permissions_user","name","program_name","program_url","twitter_auth_url","fan_levels"],query:{type:"current"}}},activity:{activities:{properties:["name","num_points"],query:{type:"activities_by_name",args:{names:["invited friends","registration invite accepted"]}}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData","ctFanLevels",function(e,t,n,r){return r.load(n),e.loadSession(n.user.me[0]),t.loadData(n.client.current[0]),n.activity.activities}],n.prototype.validate=function(e){},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/invite_friends/v2/invite_friends",["require","app/common/abstract_controller","app/widgets/invite_friends/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/invite_friends/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activities=e},r.prototype.run=["$scope","userService",function(e,t){return this.scope=e,this.out("fb:share:success",function(e){return function(e){return t.processSocialPost({dest_id:1,reason_id:6,code:e.code,url:e.url})}}()),this.out("twitter:share:success",function(e){return function(e){return t.processSocialPost({dest_id:2,reason_id:6,code:e.code,url:e.url})}}())}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/household/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.add another","button.close","button.create a group","button.edit group name","button.leave and delete","button.leave group prompt","button.show more","button.show x more","error.member already in household","error.email address required","error.email address invalid","error.household max size exceeded","error.household rename failure","error.household rename failure description","error.household update not allowed","label.activity","label.date","label.date created","label.member email","label.remove invite","label.send invites","link.add another","text.group name","text.household confirm leave","text.household confirm leave notice","text.household confirm delete","text.household confirm delete notice","text.household create household default name","text.household create household notice","text.household deleted success","text.household head leave notice","text.household inactive member notice","text.household invite explain multiple","text.household invite explain single","text.household invite form new household description","text.household invite form new household head description","text.household invite form existing household multiple invites available","text.household invite form existing household one invite available","text.household left success","text.household member removed success","text.household negative point member notice","text.household no active invites notice","text.household no invites notice","text.household only member notice","text.household only member notice long","text.household remove member explanation","text.household remove member prompt","text.household limit info","text.just now","text.current members","text.invite members","text.invited members","text.household invite sent success","text.household invites sent success","text.household joined title","text.household joined desc","text.household welcome title","text.household welcome desc","text.household welcome desc single invite","text.more info","title.redeemable points","title.reward","word.about","word.activities","word.head","word.declined","word.cancel","word.decline","word.head","word.invited","word.join","word.leave","word.manage","word.member","word.point","word.points","word.remove","word.rewards","word.save","word.you"]},model_data:{user:{me:{properties:["email_address","first_name","last_name","language","redeemable_points","username"],query:{type:"me"}}},household:{current_household:{properties:["household_invites","household_info"],query:{type:"current_household"}},declined_invites:{properties:[],query:{type:"declined_invites"}}}}}}],n.prototype.transformResponse=["ctUser","modelData",function(e,t){var n,r,i,o;return e.loadSession(t.user.me[0]),r=t.household.current_household.household_data,n=t.household.declined_invites.declinedInvites,(null!=r?r.pendingInvites:void 0)&&(r.pendingInvites=r.pendingInvites.sort(function(e){return function(e,t){return t.dateInvited.localeCompare(e.dateInvited)}}())),null!=n&&(n=n.sort(function(e){return function(e,t){return t.dateInvited.localeCompare(e.dateInvited)}}())),i=null!=(o=t.household.current_household.household_invites)?o:[],{household:r,pendingInvites:i,declinedInvites:n}}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/household/v2/household",["require","app/common/abstract_controller","app/widgets/household/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/household/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="household",r.prototype.onDataLoad=function(e){return this.scope.household=e.household,this.scope.pendingInvites=e.pendingInvites,this.scope.declinedInvites=e.declinedInvites},r.prototype.run=["$scope","householdService","errorService",function(e,t,n){return this.scope=e,this.on("hh:management:rename",function(e){return function(r){var i,o;return o=r.updatedName,i=r.currentHousehold,t.updateHouseholdName(i.id,o).then(function(t){return e.down("hh:management:rename:success",t)},function(e){var t;return"function"==typeof(t=n.event("hh:management:rename:error"))?t(e.data):void 0})}}(this)),this.on("hh:management:create",function(e){return function(r){return t.createHousehold(r).then(function(t){return t.pendingInvites.forEach(function(e){return e.dateInvited="1970-01-01T00:00:00.000Z"===e.dateInvited?null:e.dateInvited}),e.down("hh:management:create:success",t)},function(e){var t;return"function"==typeof(t=n.event("hh:management:create:error"))?t(e.data):void 0})}}(this)),this.on("hh:load-history",function(e){return function(r){return t.getHistories(r.householdId,r.historyType,r.pageNum,r.pageSize).then(function(t){return e.down("hh:load-history:"+r.historyType+":success",t)},function(e){var t;return"function"==typeof(t=n.event("hh:load-history:error"))?t(e.data):void 0})}}(this)),this.on("hh:management:invite",function(e){return function(r){return t.inviteMembers(r.householdId,r.invites).then(function(){return e.down("hh:management:invite:success",r.invites)},function(e){var t;return"function"==typeof(t=n.event("hh:management:invite:error"))?t(e.data):void 0})}}(this)),this.on("hh:management:remove-member",function(e){return function(n){return t.removeMember(n.memberId).then(function(t){var r;return r={removedUserId:t.removed_user_id,removedMemberName:n.memberName},e.down("hh:management:remove-member:success",r)},function(t){return e.down("hh:management:remove-member:error",t)})}}(this)),this.on("hh:management:rescind-invite",function(e){return function(n){return t.updateInvite(n.householdId,n.inviteId,"DELETED").then(function(t){return e.down("hh:management:rescind-invite:success",t)},function(t){return e.down("hh:management:rescind-invite:error",t)})}}(this)),this.on("hh:management:leave",function(e){return function(r){return t.leaveHousehold(r.householdId).then(function(t){return e.down("hh:management:leave:success",t)},function(e){var t;return"function"==typeof(t=n.event("hh:management:leave:error"))?t(e.data):void 0})}}(this)),this.on("hh:management:delete",function(e){return function(r){return t.deleteHousehold(r.householdId).then(function(t){return e.down("hh:management:delete:success",t)},function(e){var t;return"function"==typeof(t=n.event("hh:management:delete:error"))?t(e.data):void 0})}}(this)),this.on("hh:invitation:respond",function(e){return function(r){var i;return i=r.accepted?"ACCEPTED":"REJECTED",t.respondToInvite(r.invitation,i).then(function(t){return r.accepted?e.down("hh:invitation:joined",t):e.down("hh:invitation:reject:done",{declinedInviteId:r.invitation.id})},function(e){var t;return"function"==typeof(t=n.down("hh:invitation:respond:error"))?t(e.data):void 0})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/points_expiration/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["label.num points widgets","heading.expired points","heading.expiring points","text.widget explain points expiration"]},model_data:{points_expiration:{configuration:{properties:["points_expiration_conf","points_expiration_user_status"],query:{type:"points_expiration"}}}}}}],n.prototype.transformResponse=["modelData",function(e){return e.points_expiration.configuration}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/points_expiration/v1/points_expiration",["require","app/common/abstract_controller","app/widgets/points_expiration/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/points_expiration/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.down("loaded:points-expiration",e)},r.prototype.run=["$scope",function(e){this.scope=e}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/points_expiration/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["label.num points widgets","heading.expired points","heading.expiring points","text.widget explain points expiration"]},model_data:{points_expiration:{configuration:{properties:["points_expiration_conf","points_expiration_user_status"],query:{type:"points_expiration"}}}}}}],n.prototype.transformResponse=["modelData",function(e){return e.points_expiration.configuration}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/points_expiration/v2/points_expiration",["require","app/common/abstract_controller","app/widgets/points_expiration/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/points_expiration/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.down("loaded:points-expiration",e)},r.prototype.run=["$scope",function(e){this.scope=e}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/poll/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t;return t=e.pollId,{page_data:{text:["heading.poll widget","error.info required","error.survey answer all questions","error.survey data submission invalid","text.activity widget unlock","text.activity widget tier unlock","text.survey save add points","text.survey save success status","text.survey save success","text.survey save error status","text.survey save error","link.subnav logout","button.vote","text.poll thanks for your vote","text.poll points earned","text.point","text.points","text.poll results title","text.poll closes"]},model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},questionnaire:{current_questionnaire:{properties:["questionnaire_data"],query:{type:"current_questionnaire",args:{questionnaireActivityId:t,questionnaireType:"poll",getQuestionnaireStats:!0}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(null==(null!=e&&null!=(n=e.questionnaire)&&null!=(r=n.current_questionnaire)?r.questionnaire_data:void 0))throw new Error("Questionnaire Data was not returned in the /request reponse!")},n.prototype.transformResponse=["widgetConf","ctUser","ctClient","modelData","ctFanLevels","CaseService",function(e,t,n,r,i,o){var a,s,c,u,l,d,p;return i.load(r),a=null!=r&&null!=(l=r.client)?l.current[0]:void 0,n.loadData(a),s=r.questionnaire.current_questionnaire.questionnaire_data,s=o.useCamelCaseKeys(s),u=null!=(d=r.questionnaire.current_questionnaire.questionnaire_response)?d:{answers:{}},u=o.useCamelCaseKeys(u),c=o.useCamelCaseKeys(null!=(p=r.questionnaire.current_questionnaire.questionnaire_stats)?p:{}),parseInt(s.id,10)===parseInt(e.pollId,10)?(t.loadSession({poll_data:[s]}),{poll:s,userResponse:u,tierConf:a.fan_levels,stats:c}):(this.$log.warn("Could not load poll with activity ID: "+e.pollId),!1)}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/poll/v2/poll",["require","app/common/abstract_controller","app/widgets/poll/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/poll/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return(null!=e?e.poll:void 0)?(this.scope.poll=e.poll,this.scope.userResponse=e.userResponse,this.scope.tierConf=e.tierConf,this.scope.stats=e.stats):this.down("remove")},r.prototype.run=["$scope","$http","questionnaireService","ctUser","ctClient","CaseService",function(e,t,n,r,i,o){return this.scope=e,this.ctUser=r,this.ctClient=i,this.out("do:poll:submit",function(e){return function(t){var r;return r=o.useSnakeCaseKeys(t.questionResponse),n.submitQuestionnaire(r,t.pollId,"poll").then(function(t){return e.down("poll:submit:success",t)},function(){return e.down("poll:submit:error")})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/purchase_history/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["text.awarded","text.cancelled","text.receipt number","text.returned","text.no date available","text.pending","text.point cap reached","text.points","text.purchase","text.purchase date","word.purchased"]},model_data:{user:{me:{properties:["purchase_history","fan_rank","tier"],query:{type:"me"}}},client:{current:{properties:["fan_levels","tier_conf"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){var r,i;return r=null!=t&&null!=(i=t.user)?i.me[0]:void 0,e.loadSession(r),n.load(t),{orders:r.purchase_history}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/purchase_history/v1/purchase_history",["require","app/common/abstract_controller","app/widgets/purchase_history/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/purchase_history/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="purchase-history",r.prototype.onDataLoad=function(e){return this.scope.orders=e.orders},r.prototype.run=["$scope","userService",function(e,t){var n;return this.scope=e,this.user=t,n=this,this.on("get:order:details",function(e){return function(t){return e.user.getOrderDetails(t).then(function(e){return n.down("return:order:details",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/purchase_history/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.purchase-history widget title","text.awarded","text.cancelled","text.eligible for tier","text.receipt number","text.returned","text.no date available","text.not tier eligible","text.pending","text.point cap reached","text.points","text.purchase","text.purchase date","word.purchased"]},model_data:{user:{me:{properties:["purchase_history","fan_rank","tier"],query:{type:"me"}}},client:{current:{properties:["fan_levels","tier_conf","commerce_conf","use_currency_codes"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){var r,i,o,a;return i=null!=t&&null!=(o=t.user)?o.me[0]:void 0,r=null!=t&&null!=(a=t.client)?a.current[0]:void 0,e.loadSession(i),n.load(t),{orders:i.purchase_history,tierConf:r.tier_conf,commerceConf:r.commerce_conf,useCurrencyCodes:r.use_currency_codes}}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/purchase_history/v2/purchase_history",["require","app/common/abstract_controller","app/widgets/purchase_history/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/purchase_history/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="purchase-history",r.prototype.onDataLoad=function(e){return this.scope.orders=e.orders,this.scope.tierConf=e.tierConf,this.scope.commerceConf=e.commerceConf,this.scope.useCurrencyCodes=e.useCurrencyCodes},r.prototype.run=["$scope","userService",function(e,t){var n;return this.scope=e,this.user=t,n=this,this.on("get:order:details",function(e){return function(t){return e.user.getOrderDetails(t).then(function(e){return n.down("return:order:details",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/quiz/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t;return t=e.quizId,{page_data:{text:["error.info required","text.activity widget unlock","text.activity widget tier unlock","label.quiz grading partial correct","label.quiz grading all correct","text.quiz correct answer","text.quiz completed failed requirements all correct","text.quiz completed failed requirements some correct","text.quiz completed score all correct","text.quiz completed score none correct","text.quiz completed score some correct","text.survey question type checkbox","link.next","text.survey save error status","text.survey save error","link.subnav logout","button.back","button.submit"]},model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},questionnaire:{current_questionnaire:{properties:["questionnaire_data"],query:{type:"current_questionnaire",args:{questionnaireActivityId:t,questionnaireType:"quiz",getQuestionnaireStats:!1}}}}}}}],n.prototype.validate=function(e,t){var n,r
;if(null==(null!=e&&null!=(n=e.questionnaire)&&null!=(r=n.current_questionnaire)?r.questionnaire_data:void 0))throw new Error("Questionnaire Data was not returned in the /request response!")},n.prototype.transformResponse=["widgetConf","ctUser","ctClient","modelData","ctFanLevels","CaseService",function(e,t,n,r,i,o){var a,s,c,u,l;return i.load(r),a=null!=r&&null!=(u=r.client)?u.current[0]:void 0,n.loadData(a),s=r.questionnaire.current_questionnaire.questionnaire_data,s=o.useCamelCaseKeys(s),c=null!=(l=r.questionnaire.current_questionnaire.questionnaire_response)?l:{answers:{}},c=o.useCamelCaseKeys(c),parseInt(s.id,10)===parseInt(e.quizId,10)?(t.loadSession({quiz_data:[s]}),{quiz:s,userResponse:c,tierConf:a.fan_levels}):(this.$log.warn("Could not load quiz with activity ID: "+e.quizId),!1)}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/quiz/v2/quiz",["require","app/common/abstract_controller","app/widgets/quiz/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/quiz/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return(null!=e?e.quiz:void 0)?(this.scope.quiz=e.quiz,this.scope.userResponse=e.userResponse,this.scope.tierConf=e.tierConf):this.down("remove")},r.prototype.run=["$scope","$http","questionnaireService","ctUser","ctClient","CaseService",function(e,t,n,r,i,o){return this.scope=e,this.ctUser=r,this.ctClient=i,this.out("do:quiz:submit",function(e){return function(t){var r;return r=o.useSnakeCaseKeys(t.questionResponses),n.submitQuestionnaire(r,t.quizId,"quiz").then(function(t){return e.down("quiz:submit:success",t)},function(){return e.down("quiz:submit:error")})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/redeem/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["$stateParams",function(e){return{page_data:{text:["button.back","button.close","button.complete","button.continue","button.download","button.edit","button.resend email","button.submit","error.city required","error.continue agree to tos","error.country required","error.first name required","error.last name required","error.mobile phone number required","error.name invalid","error.name required","error.invalid country","error.invalid postal code","error.postal code required","error.postal code restricted","error.redeem limit exceeded","error.redeem limit reached","error.reward category point cap reached","error.reward sold out","error.shipping country restricted","error.shipping postal code restricted","error.state required","error.street address 1 required","error.street address max length exceeded","heading.redeem widget","heading.redeem widget confirmation","heading.redeem widget redemption frequency cap reached","heading.redeem widget redemption limit reached","heading.redeem widget review info","heading.redeem widget reward category point cap reached","heading.redeem widget reward category and group point cap reached","heading.redeem widget reward downloaded","heading.shipping address","heading.verify your email","label.address line 1","label.address line 2","label.agree tos","label.city","label.color name","label.cost","label.country","label.email address","label.ends in days","label.first name","label.last name","label.mobile phone number","label.original","label.postal code","label.quantity (no value)","label.redeemable points redeem widget","label.size new","label.state province region","label.state","label.suggested","label.zip code","link.live in the us","link.live outside us","success.verify new email","text.expiration date","text.explain birthday required widget","text.explain confirmation sent","text.explain email verification required","text.explain reward has ended","text.explain reward sold out","text.explain reward too young","text.explain redeem not enough points","text.explain redeem not enough points in category","text.explain redeem not enough points in category can not redeem","text.explain unlock reward redeem widget","text.need both level and activity text","text.need level text","text.point display","text.points display","text.quantity left","text.quantity less than threshold","text.redeem widget explain reached category point cap","text.redeem widget explain reached freq cap","text.redeem widget explain reached max red","text.redeem widget explain redownload reward","text.redeem widget explain ship address","text.redemption automatically quantity","text.reward ended on","text.reward ends on","text.reward redemption coupon code","text.sold out","text.verified","text.verify address","text.widget explain redeemed coupon","text.widget explain redeemed download","text.widget explain redeemed standard reward","word.locked"]},model_data:{location:{countries:{properties:["country_name","country_id"],query:{type:"countries"}}},user:{me:{properties:["date_of_birth","email_address","email_is_verified","household_points","redeemable_points","ship_info","total_points"],query:{type:"me"}}},reward:{details:{properties:["additional_images","category_name","category_cap_info","date_end","date_start","description","digital_reward_url","explain_confirmation_sent","freq_cap_info","img_url","is_ended","is_external","is_featured","is_locked","is_digital_download","is_one_of_a_kind","is_phone_number_required","is_shipping_required","is_sweepstake","max_per_user","min_age","minimum_level","num_points","num_points_entry","num_redeemed_by_user","title","tos_url","unlocked_by","color_name","current_quantity","id","num_redeemed_by_user","size_name","show_as_locked"],query:{type:"reward_details",args:{id:e.rewardId}}}},client:{current:{properties:["client_id","fan_levels","enable_us_only","is_us_allowed","is_only_us_allowed"],query:{type:"current"}}}}}}],n.prototype.validate=function(e,t){var n,r,i,o;if(!(null!=e&&null!=(n=e.reward)&&null!=(r=n.details)?r[0]:void 0))throw new Error("/request did not return reward details for RedeemConfig.");if(!(null!=e&&null!=(i=e.user)&&null!=(o=i.me)?o[0]:void 0))throw new Error("/request did not return user info for RedeemConfig.")},n.prototype.transformResponse=["modelData","ctLocation","ctReward","ctUser","ctClient","ctFanLevels",function(e,t,n,r,i,o){var a;return o.load(e),i.loadData(e.client.current[0]),r.loadSession(e.user.me[0]),t.loadCountries(e.location.countries),a=e.reward.details,new n(a)}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/redeem/v1/redeem",["require","app/common/abstract_controller","app/widgets/redeem/v1/config","has"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/redeem/v1/config"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.onDataLoad=function(e){return this.scope.reward=e},n.prototype.run=["$scope","ctWidgetEventHelper","userService","rewardService","errorService",function(e,t,n,r,i){return this.scope=e,this.eventHelper=t,this.userSrvc=n,this.rewardSrvc=r,this.errSrvc=i,this.eventHelper.on("do:redeem",function(e){return function(t){var n,r,i;return i=t.selectedVariation,n=t.quantity,r=t.shipInfo,e.rewardSrvc.redeem(i,n,r).then(function(r){var i;return e.eventHelper.down("redeem:success",r),e.eventHelper.up("reward:redeemed",{rewardTitle:null!=t&&null!=(i=t.reward)?i.title:void 0,qty:n})},e.errSrvc.down("redeem:error"))}}(this)),this.eventHelper.on("do:resend:verification:email",function(e){return function(t){var n;return n=t.newEmailAddress!==t.oldEmailAddress?t.newEmailAddress:null,e.userSrvc.resendEmailVerificationEmail(n).then(function(t){return e.userSrvc.reloadUser(),e.eventHelper.down("resend:verification:email:success")},e.errSrvc.down("resend:verification:email:error"))}}(this)),this.eventHelper.on("do:verify:address",function(e){return function(t){var n;return n=t.shipInfo,e.userSrvc.verifyAddress(n)}}(this)),this.eventHelper.on("redeem:done",function(e){return function(){return e.eventHelper.up("modal:close")}}(this)),this.out("do:redeem:checkZipCode",function(e){return function(t){return e.rewardSrvc.checkZipCode(t).then(function(t){return e.down("redeem:checkZipCode:success",t.data)},function(t){return e.down("redeem:checkZipCode:error",t.data)})}}(this))}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reset_password/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={page_data:{text:["heading.reset password widget","label.new password","label.confirm new password","text.reset password explanation","text.reset password success","error.password does not meet requirements","error.password mismatch","error.password reset","button.close","button.submit"]}},n.prototype.transformResponse=["modelData",function(e){}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/reset_password/v1/reset_password",["require","app/common/abstract_controller","app/widgets/reset_password/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/reset_password/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(){},r.prototype.run=["$scope","userService",function(e,t){return this.scope=e,this.out("do:user:resetPassword",function(e){return t.resetPassword(e)})}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_history/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.download","label.date","label.free","label.widget coupon code title","label.widget coupon code title url type","title.reward","text.auto campaign history prefix","text.no date available","word.transaction","word.redeemed","word.expires"]},model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},reward:{redeemed_rewards:{properties:["date_created","digital_reward_url","num_points","title","order_quantity","is_digital_download","is_automatic_campaign","trigger_type","event_type","event_title","coupon_value","coupon_type_id","date_used_at_pos","date_to_expire"],query:{type:"redeemed_rewards_me",args:{row_start:1,row_end:25}}}}}}}],n.prototype.validate=function(e,t){return!0},n.prototype.transformResponse=["modelData","ctReward","ctFanLevels",function(e,t,n){var r,i,o,a,s;for(n.load(e),s=e.reward.redeemed_rewards,i=o=0,a=s.length;o<a;i=++o)r=s[i],e.reward.redeemed_rewards[i]=new t(r);return e.reward.redeemed_rewards.sort(function(e,t){return t.date_created.timestamp-e.date_created.timestamp}),e.reward.redeemed_rewards}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_history/v1/reward_history",["require","app/common/abstract_controller","app/widgets/reward_history/v1/config","has"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/reward_history/v1/config"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.onDataLoad=function(e){return this.scope.rewards=e},n.prototype.run=["$scope",function(e){return this.scope=e,this.on("reward:download",function(e){return function(t){return e.up("navigate",{url:t.downloadUrl()})}}(this))}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_history/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.download","heading.reward-history widget title","heading.shipping address","heading.tracking number","heading.tracking numbers","label.date","label.free","label.widget coupon code title","label.widget coupon code title url type","title.reward","text.auto campaign history prefix","text.no date available","word.transaction","word.redeemed","word.expires"]},model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},reward:{redeemed_rewards:{properties:["date_created","digital_reward_url","num_points","title","order_quantity","is_digital_download","is_automatic_campaign","trigger_type","event_type","event_title","coupon_value","coupon_type_id","date_used_at_pos","date_to_expire"],query:{type:"redeemed_rewards_me",args:{row_start:1,row_end:25}}}}}}}],n.prototype.validate=function(e,t){return!0},n.prototype.transformResponse=["modelData","ctReward","ctFanLevels",function(e,t,n){var r,i,o,a,s;for(n.load(e),s=e.reward.redeemed_rewards,i=o=0,a=s.length;o<a;i=++o)r=s[i],e.reward.redeemed_rewards[i]=new t(r);return e.reward.redeemed_rewards.sort(function(e,t){return t.date_created.timestamp-e.date_created.timestamp}),e.reward.redeemed_rewards}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_history/v2/reward_history",["require","app/common/abstract_controller","app/widgets/reward_history/v2/config","has"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/reward_history/v2/config"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.onDataLoad=function(e){return this.scope.rewards=e},n.prototype.run=["$scope",function(e){return this.scope=e,this.on("reward:download",function(e){return function(t){return e.up("navigate",{url:t.downloadUrl()})}}(this))}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_list/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t,n;return n=function(){var n,r,i,o;for(i=e.entries,o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(t.id);return o}(),{page_data:{text:["text.redeem widget reward category point cap reached","text.reward ended","text.reward locked","text.reward maxed out","text.reward redownload","text.reward unlock timer","text.sold out","text.years","text.year","text.months","text.month","text.day","text.hour","text.minute","label.all","label.ends in day","label.ends in days","label.num left","label.redeemable"]},model_data:{client:{current:{properties:["fan_levels"],query:{type:"current"}}},reward:{rewards:{properties:["category_name","category_cap_info","current_quantity","date_end","date_start","freq_cap_info","id","img_url","is_digital_download","is_ended","is_featured","is_locked","is_one_of_a_kind","is_sweepstake","max_per_user","minimum_level","num_points","num_points_entry","num_redeemed_by_user","show_as_locked","title","unlocked_by","is_external","group_id"],query:{type:"rewards_by_group_ids",args:{group_ids:n}}}},client:{current:{properties:["reward_inv_cntr_threshold","fan_levels"],query:{type:"current"}}},user:{me:{properties:["redeemable_points","total_points","email_is_verified","date_of_birth","household_points"],query:{type:"me"}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.reward)&&null!=(r=n.rewards)?r[0]:void 0))throw new Error("/request did not return rewards for RewardListConfig.")},n.prototype.transformResponse=["modelData","ctReward","ctClient","ctUser","ctFanLevels",function(e,t,n,r,i){var o,a,s,c,u;for(i.load(e),r.loadSession(e.user.me[0]),n.loadData(e.client.current[0]),u=e.reward.rewards,a=s=0,c=u.length;s<c;a=++s)o=u[a],e.reward.rewards[a]=new t(o);return e.reward.rewards}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/reward_list/v1/reward_list",["require","app/common/abstract_controller","app/widgets/reward_list/v1/config","has"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/reward_list/v1/config"),t("has"),function(t){function r(){return this.onRewardClicked=e(this.onRewardClicked,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.rewards=e},r.prototype.openRewardPopup=function(e,t,n,r){var i,o,a;return r.isIOS()?(a=e.variations[0].id,i=encodeURIComponent("//"+n.location.hostname+"/widgets/t/redeem/"+a),o="/widgets/c?type=redeem&id="+a+"&data="+i,t.open({url:o,width:400,height:600})):this.up("modal:open",{state:"redeem",stateParams:{rewardTitle:e.title,rewardId:e.variations[0].id},width:700})},r.prototype.onRewardClicked=function(e,t,n,r,i,o){return e.isExternal()&&o.email_is_verified?window.open("/external-reward/"+e.groupId()):e.isExternal()?i.reloadUser().then(function(i){return function(){return o.email_is_verified?window.open("/external-reward/"+e.groupId()):i.openRewardPopup(e,t,n,r)}}(this)):this.openRewardPopup(e,t,n,r)},r.prototype.run=["$scope","ctBrowserDetect","ctPopup","$window","userService","ctUser",function(e,t,n,r,i,o){return this.scope=e,this.on("reward:clicked",function(e){return function(a){return e.onRewardClicked(a,n,r,t,i,o)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/reward_list/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t,n;return n=function(){var n,r,i,o;for(i=e.entries,o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(t.id);return o}(),{page_data:{text:["text.redeem widget reward category point cap reached","text.reward ended","text.reward locked","text.reward maxed out","text.reward redownload","text.reward unlock timer","text.sold out","text.years","text.year","text.months","text.month","text.day","text.hour","text.minute","label.all","label.ends in day","label.ends in days","label.num left","label.redeemable"]},model_data:{client:{current:{properties:["fan_levels"],query:{type:"current"}}},reward:{rewards:{properties:["category_name","category_cap_info","current_quantity","date_end","date_start","freq_cap_info","id","img_url","is_digital_download","is_ended","is_featured","is_locked","is_one_of_a_kind","is_sweepstake","max_per_user","minimum_level","num_points","num_points_entry","num_redeemed_by_user","show_as_locked","title","unlocked_by","is_external","group_id"],query:{type:"rewards_by_group_ids",args:{group_ids:n}}}},client:{current:{properties:["reward_inv_cntr_threshold","fan_levels"],query:{type:"current"}}},user:{me:{properties:["redeemable_points","total_points","email_is_verified","date_of_birth","household_points"],query:{type:"me"}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.reward)&&null!=(r=n.rewards)?r[0]:void 0))throw new Error("/request did not return rewards for RewardListConfig.")},n.prototype.transformResponse=["modelData","ctReward","ctClient","ctUser","ctFanLevels",function(e,t,n,r,i){var o,a,s,c,u;for(i.load(e),r.loadSession(e.user.me[0]),n.loadData(e.client.current[0]),u=e.reward.rewards,a=s=0,c=u.length;s<c;a=++s)o=u[a],e.reward.rewards[a]=new t(o);return e.reward.rewards}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/reward_list/v2/reward_list",["require","app/common/abstract_controller","app/widgets/reward_list/v2/config","has"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/reward_list/v2/config"),t("has"),function(t){function r(){return this.onRewardClicked=e(this.onRewardClicked,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.rewards=e},r.prototype.openRewardPopup=function(e,t,n,r){var i,o,a;return r.isIOS()?(a=e.variations[0].id,i=encodeURIComponent("//"+n.location.hostname+"/widgets/t/redeem/"+a+"#2"),o="/widgets/c?type=redeem&id="+a+"&data="+i,t.open({url:o,width:400,height:600})):this.up("modal:open",{state:"redeem",stateParams:{rewardTitle:e.title,rewardId:e.variations[0].id},width:700})},r.prototype.onRewardClicked=function(e,t,n,r,i,o){return e.isExternal()&&o.email_is_verified?window.open("/external-reward/"+e.groupId()):e.isExternal()?i.reloadUser().then(function(i){return function(){return o.email_is_verified?window.open("/external-reward/"+e.groupId()):i.openRewardPopup(e,t,n,r)}}(this)):this.openRewardPopup(e,t,n,r)},r.prototype.run=["$scope","ctBrowserDetect","ctPopup","$window","userService","ctUser",function(e,t,n,r,i,o){return this.scope=e,this.on("reward:clicked",function(e){return function(a){return e.onRewardClicked(a,n,r,t,i,o)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/sign_up/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={model_data:{location:{countries:{properties:["country_name","country_id","has_postal_codes"],query:{type:"countries"}}},client:{current:{properties:["age_restriction","client_id","coppa_redirect_url","country_info","enable_email_updates_on","enable_fb_login","enable_twit_login","enable_pinterest_login","enable_us_only","enable_reg_require_phone","enable_reg_require_gender","fb_permissions_user","name","program_name","external_tos_url","external_tos_secondary_url","twitter_auth_url","pinterest_auth_url","enable_external_age_ver","enable_email_update_opt_in","realtime_segmentation_on"],query:{type:"current"}}}},page_data:{text:["heading.forgot password","heading.landing page heading","title.basic info","title.complete sign up","title.log in","title.sign up","title.united states","text.back to login","text.day","text.dont have account","text.explain forgot password","text.explain forgot password email sent","text.facebook requirement text","text.landing page already member","text.month","text.or sign up","text.sign up tos","text.year","button.back","button.log in","button.sign up","button.connect with facebook","button.connect with twitter","button.connect with pinterest","button.log in with facebook","button.log in with twitter","button.log in with pinterest","button.continue","button.complete","link.connect to facebook","link.connect to twitter","link.connect to pinterest","link.live in the us","link.live outside us","label.country","label.city","label.email or username","label.first name","label.last name","label.email address","label.username","label.password","label.confirm password","label.confirm mobile phone number","label.postal code","label.date of birth","label.receive email updates","label.agree tos","label.remember me","label.gender","label.mobile phone number","label.address line 1","label.address line 2","error.country invalid","error.city invalid","error.email address taken","error.email address invalid","error.username taken","error.username required","error.username invalid","error.first name invalid","error.first name required","error.last name invalid","error.last name required","error.password does not meet requirements","error.password required","error.password mismatch","error.postal code invalid","error.postal code restricted","error.date of birth required","error.date of birth under age","error.tos required","error.invalid credentials","error.info required","error.gender required","error.mobile phone number required","error.explain mobile phone number invalid","error.mobile phone number length","error.mobile phone number mismatch","error.mobile phone number taken","error.street address 1 required","error.too many failed login attempts","word.error","word.select"]}},n.prototype.transformResponse=["ctClient","ctLocation","modelData",function(e,t,n){return e.loadData(n.client.current[0]),t.loadCountries(n.location.countries),n.client.current[0]}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/sign_up/v1/sign_up",["require","app/common/abstract_controller","app/widgets/sign_up/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/sign_up/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){},r.prototype.run=["$scope","$stateParams",function(e,t){return this.scope=e,this.scope.stateQuery=t.state,this.out("user:update",function(e){return function(){return e.up("modal:close")}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/sign_up/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={model_data:{location:{countries:{properties:["country_id","country_name","has_postal_codes"],query:{type:"countries"}}},client:{current:{properties:["age_restriction","client_id","coppa_redirect_url","country_info","enable_email_update_opt_in","enable_email_updates_on","enable_external_age_ver","enable_fb_login","enable_pinterest_login","enable_reg_require_gender","enable_reg_require_phone","enable_twit_login","enable_us_only","external_tos_secondary_url","external_tos_url","fb_permissions_user","name","pinterest_auth_url","program_name","twitter_auth_url","realtime_segmentation_on"],query:{type:"current"}}}},page_data:{text:["button.back","button.complete","button.connect with facebook","button.connect with pinterest","button.connect with twitter","button.continue","button.log in with facebook","button.log in with pinterest","button.log in with twitter","button.log in","button.sign up","error.city invalid","error.country invalid","error.date of birth required","error.date of birth under age","error.email address invalid","error.email address required","error.email address taken","error.explain mobile phone number invalid","error.first name invalid","error.first name required","error.gender required","error.info required","error.invalid credentials","error.last name invalid","error.last name required","error.mobile phone number length","error.mobile phone number mismatch","error.mobile phone number required","error.mobile phone number taken","error.password does not meet requirements","error.password mismatch","error.password required","error.postal code invalid","error.postal code restricted","error.street address 1 required","error.too many failed login attempts","error.tos required","error.username invalid","error.username required","error.username taken","heading.forgot password","heading.landing page heading","label.address line 1","label.address line 2","label.agree tos","label.city","label.confirm mobile phone number","label.confirm password","label.country","label.date of birth","label.email address","label.email or username","label.first name","label.gender","label.last name","label.mobile phone number","label.password","label.postal code","label.receive email updates","label.remember me","label.username","link.connect to facebook","link.connect to pinterest","link.connect to twitter","link.live in the us","link.live outside us","text.back to login","text.day","text.dont have account","text.explain forgot password email sent","text.explain forgot password","text.facebook requirement text","text.landing page already member","text.month","text.or sign up","text.sign up tos","text.year","title.basic info","title.complete sign up","title.log in","title.sign up","title.united states","word.error","word.select"]}},n.prototype.transformResponse=["ctClient","ctLocation","modelData",function(e,t,n){return e.loadData(n.client.current[0]),t.loadCountries(n.location.countries),n.client.current[0]}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){
function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/sign_up/v2/sign_up",["require","app/common/abstract_controller","app/widgets/sign_up/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/sign_up/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){},r.prototype.run=["$scope","$stateParams",function(e,t){return this.scope=e,this.scope.stateQuery=t.state,this.out("user:update",function(e){return function(){return e.up("modal:close")}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_connect/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["success.connect social account widget","success.disconnect social account widget","success.facebook token refresh","success.social net connected widgets","success.social net disconnected","error.city required","error.confirm password required","error.country in us","error.country required","error.facebook id taken","error.facebook token expires today","error.facebook token expires tomorrow","error.facebook token has expired","error.facebook token will expire","error.instagram id taken","error.pinterest id taken","error.password incorrect","error.password is too weak","error.password mismatch","error.twitter_exception","error.twitter id taken","error.unknown","error.password required","text.point display","text.points display","text.get points every month","text.connect twitter","text.connect facebook","text.connect instagram","text.connect pinterest","text.facebook requirement text","text.social net stay connected","text.explain social net disconnect pw overlay","text.social net already connected","text.social disconnect terms","title.facebook","title.instagram","title.pinterest","title.twitter","link.refresh connection","word.connect","word.disconnect","word.error","word.success"]},model_data:{user:{me:{properties:["days_to_fb_token_expiration","password_generated","facebook_connected","instagram_connected","pinterest_connected","password_generated","sign_up_type","twitter_connected","total_points"],query:{type:"me"}}},client:{current:{properties:["client_id","enable_fb_login","enable_instagram","enable_twit_connect","enable_twit_login","enable_pinterest_login","fan_levels","fb_permissions_user","instagram_auth_url","twitter_auth_url","pinterest_auth_url","enable_fan_center_reg"],query:{type:"current"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["facebook connect","instagram connect","pinterest connect","sign in with twitter"]}}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData","ctActivity","ctFanLevels",function(e,t,n,r,i){var o,a,s,c,u;for(i.load(n),e.loadSession(n.user.me[0]),t.loadData(n.client.current[0]),a={},u=n.activity.activities,s=0,c=u.length;s<c;s++)o=u[s],"facebook connect"===o.name?a.facebook=new r(o):"instagram connect"===o.name?a.instagram=new r(o):"sign in with twitter"===o.name?a.twitter=new r(o):"pinterest connect"===o.name&&(a.pinterest=new r(o));return a}],n.prototype.validate=function(e,t){var n,r,i,o;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isObject(null!=e&&null!=(i=e.client)&&null!=(o=i.current)?o[0]:void 0))throw new Error("Error: was expecting /request model_data.client.current[0] to be an object.");if(!angular.isArray(null!=e?e.activity.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/social_connect/v1/social_connect",["require","app/common/abstract_controller","app/widgets/social_connect/v1/config"],function(t){var r,i,o,a;return r=t("app/common/abstract_controller"),i=t("app/widgets/social_connect/v1/config"),o=500,a=1,function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="social-connect",r.prototype.onDataLoad=function(e){return this.scope.pointValues=e},r.prototype.run=["$scope","ctUser","userService","ctClient",function(e,t,n,r){return this.scope=e,this.user=t,this.client=r,this.out("fb:authorize:done",n.connectFbAccount),this.out("twit:authorize:done",n.connectTwitAccount),this.out("inst:authorize:done",n.connectInstAccount),this.out("pinterest:authorize:done",n.connectPinterestAccount),this.out("do:fb:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("facebook"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"facebook"},version:a,width:o}):n.disconnectFbAccount(i)}}(this)),this.out("do:twit:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("twitter"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"twitter"},version:a,width:o}):n.disconnectTwitAccount(i)}}(this)),this.out("do:inst:deauthorize",function(e){return function(r){var i;return i=[t.password_generated,t.sign_up_type],i[0],i[1],t.password_generated&&"instagram"===t.sign_up_type?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"instagram"},version:a,width:o}):n.disconnectInstAccount(r)}}(this)),this.out("do:pinterest:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("pinterest"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"pinterest"},version:a,width:o}):n.disconnectPinterestAccount(i)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_connect/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["success.connect social account widget","success.disconnect social account widget","success.facebook token refresh","success.social net connected widgets","success.social net disconnected","error.city required","error.confirm password required","error.country in us","error.country required","error.facebook id taken","error.facebook token expires today","error.facebook token expires tomorrow","error.facebook token has expired","error.facebook token will expire","error.instagram id taken","error.pinterest id taken","error.password incorrect","error.password is too weak","error.password mismatch","error.twitter_exception","error.twitter id taken","error.unknown","error.password required","text.point display","text.points display","text.get points every month","text.connect twitter","text.connect facebook","text.connect instagram","text.connect pinterest","text.facebook requirement text","text.social net stay connected","text.explain social net disconnect pw overlay","text.social net already connected","text.social disconnect terms","title.facebook","title.facebook connect","title.facebook disconnect","title.instagram","title.instagram connect","title.instagram disconnect","title.pinterest","title.pinterest connect","title.pinterest disconnect","title.twitter","title.twitter connect","title.twitter disconnect","link.refresh connection","word.connect","word.disconnect","word.error","word.success"]},model_data:{user:{me:{properties:["days_to_fb_token_expiration","password_generated","facebook_connected","instagram_connected","pinterest_connected","password_generated","sign_up_type","twitter_connected","total_points"],query:{type:"me"}}},client:{current:{properties:["client_id","enable_fb_login","enable_instagram","enable_twit_connect","enable_twit_login","enable_pinterest_login","fan_levels","fb_permissions_user","instagram_auth_url","twitter_auth_url","pinterest_auth_url","enable_fan_center_reg"],query:{type:"current"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["facebook connect","instagram connect","pinterest connect","sign in with twitter"]}}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData","ctActivity","ctFanLevels",function(e,t,n,r,i){var o,a,s,c,u;for(i.load(n),e.loadSession(n.user.me[0]),t.loadData(n.client.current[0]),a={},u=n.activity.activities,s=0,c=u.length;s<c;s++)o=u[s],"facebook connect"===o.name?a.facebook=new r(o):"instagram connect"===o.name?a.instagram=new r(o):"sign in with twitter"===o.name?a.twitter=new r(o):"pinterest connect"===o.name&&(a.pinterest=new r(o));return a}],n.prototype.validate=function(e,t){var n,r,i,o;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isObject(null!=e&&null!=(i=e.client)&&null!=(o=i.current)?o[0]:void 0))throw new Error("Error: was expecting /request model_data.client.current[0] to be an object.");if(!angular.isArray(null!=e?e.activity.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/social_connect/v2/social_connect",["require","app/common/abstract_controller","app/widgets/social_connect/v2/config"],function(t){var r,i,o,a;return r=t("app/common/abstract_controller"),i=t("app/widgets/social_connect/v2/config"),o=500,a=2,function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="social-connect",r.prototype.onDataLoad=function(e){return this.scope.pointValues=e},r.prototype.run=["$scope","ctUser","userService","ctClient",function(e,t,n,r){return this.scope=e,this.user=t,this.client=r,this.out("fb:authorize:done",n.connectFbAccount),this.out("twit:authorize:done",n.connectTwitAccount),this.out("inst:authorize:done",n.connectInstAccount),this.out("pinterest:authorize:done",n.connectPinterestAccount),this.out("do:fb:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("facebook"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"facebook"},version:a,width:o}):n.disconnectFbAccount(i)}}(this)),this.out("do:twit:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("twitter"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"twitter"},version:a,width:o}):n.disconnectTwitAccount(i)}}(this)),this.out("do:inst:deauthorize",function(e){return function(r){var i;return i=[t.password_generated,t.sign_up_type],i[0],i[1],t.password_generated&&"instagram"===t.sign_up_type?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"instagram"},version:a,width:o}):n.disconnectInstAccount(r)}}(this)),this.out("do:pinterest:deauthorize",function(e){return function(i){var s,c,u;return u=[t.password_generated,t.sign_up_type],s=u[0],c=u[1],!i&&s&&("pinterest"===c||r.enable_fan_center_reg&&t.isLastSocialRegistrationConnection(i))?e.up("modal:open",{state:"social-set-pw",stateParams:{type:"pinterest"},version:a,width:o}):n.disconnectPinterestAccount(i)}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_set_pw/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.social net disconnect pw overlay","button.set password","label.email address","label.password","label.confirm password","success.social net connected widgets","success.social net disconnected","success.facebook token refresh","error.facebook id taken","error.instagram id taken","error.twitter id taken","error.unknown","error.confirm password required","error.password incorrect","error.password is too weak","error.password mismatch","error.password required","text.point display","text.points display","text.get points every month","text.explain social net disconnect pw overlay"]},model_data:{user:{me:{properties:["days_to_fb_token_expiration","password_generated","facebook_connected","instagram_connected","password_generated","sign_up_type","twitter_connected","pinterest_connected","email_address"],query:{type:"me"}}},client:{current:{properties:["enable_instagram","enable_pinterest_login","enable_twit_connect","enable_twit_login","fb_permissions_user","instagram_auth_url","twitter_auth_url"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData",function(e,t,n){return e.loadSession(n.user.me[0]),t.loadData(n.client.current[0])}],n.prototype.validate=function(e,t){var n,r,i,o;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isObject(null!=e&&null!=(i=e.client)&&null!=(o=i.current)?o[0]:void 0))throw new Error("Error: was expecting /request model_data.client.current[0] to be an object.");return!0},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_set_pw/v1/social_set_pw",["require","app/common/abstract_controller","app/widgets/social_set_pw/v1/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/social_set_pw/v1/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.widgetType="social-set-pw",n.prototype.onDataLoad=function(){},n.prototype.run=["$scope","$stateParams","widgetBus","userService",function(e,t,n,r){return n.forward("fb:disconnect:success"),n.forward("twit:disconnect:success"),n.forward("pin:disconnect:success"),this.on(["fb:disconnect:success","twit:disconnect:success","pin:disconnect:success"],function(e){return function(){return e.event("modal:close")}}(this)),e.type=t.type,this.out("do:fb:deauthorize",function(e){return function(e){return r.disconnectFbAccount(e)}}()),this.out("do:twit:deauthorize",function(e){return function(e){return r.disconnectTwitAccount(e)}}()),this.out("do:inst:deauthorize",function(e){return function(e){return r.disconnectInstAccount(e)}}()),this.out("do:fsq:deauthorize",function(e){return function(e){return r.disconnectFsqAccount(e)}}()),this.out("do:pinterest:deauthorize",function(e){return function(e){return r.disconnectPinterestAccount(e)}}())}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_set_pw/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.social net disconnect pw overlay","button.set password","label.email address","label.password","label.confirm password","success.social net connected widgets","success.social net disconnected","success.facebook token refresh","error.facebook id taken","error.instagram id taken","error.twitter id taken","error.unknown","error.confirm password required","error.password incorrect","error.password is too weak","error.password mismatch","error.password required","text.point display","text.points display","text.get points every month","text.explain social net disconnect pw overlay"]},model_data:{user:{me:{properties:["days_to_fb_token_expiration","password_generated","facebook_connected","instagram_connected","password_generated","sign_up_type","twitter_connected","pinterest_connected","email_address"],query:{type:"me"}}},client:{current:{properties:["enable_instagram","enable_pinterest_login","enable_twit_connect","enable_twit_login","fb_permissions_user","instagram_auth_url","twitter_auth_url"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","ctClient","modelData",function(e,t,n){return e.loadSession(n.user.me[0]),t.loadData(n.client.current[0])}],n.prototype.validate=function(e,t){var n,r,i,o;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isObject(null!=e&&null!=(i=e.client)&&null!=(o=i.current)?o[0]:void 0))throw new Error("Error: was expecting /request model_data.client.current[0] to be an object.");return!0},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/social_set_pw/v2/social_set_pw",["require","app/common/abstract_controller","app/widgets/social_set_pw/v2/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/social_set_pw/v2/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.widgetType="social-set-pw",n.prototype.onDataLoad=function(){},n.prototype.run=["$scope","$stateParams","widgetBus","userService",function(e,t,n,r){return n.forward("fb:disconnect:success"),n.forward("twit:disconnect:success"),n.forward("pin:disconnect:success"),this.on(["fb:disconnect:success","twit:disconnect:success","pin:disconnect:success"],function(e){return function(){return e.event("modal:close")}}(this)),e.type=t.type,this.out("do:fb:deauthorize",function(e){return function(e){return r.disconnectFbAccount(e)}}()),this.out("do:twit:deauthorize",function(e){return function(e){return r.disconnectTwitAccount(e)}}()),this.out("do:inst:deauthorize",function(e){return function(e){return r.disconnectInstAccount(e)}}()),this.out("do:fsq:deauthorize",function(e){return function(e){return r.disconnectFsqAccount(e)}}()),this.out("do:pinterest:deauthorize",function(e){return function(e){return r.disconnectPinterestAccount(e)}}())}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/subscribe_to_emails/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={page_data:{text:["heading.subscribe to emails widget","success.subscribe to emails widget","label.receive email updates"]},model_data:{user:{me:{properties:["receive_email_updates"],query:{type:"me"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["joined email list"]}}}}}},n.prototype.transformResponse=["ctUser","ctActivity","modelData",function(e,t,n){return e.loadSession(n.user.me[0]),new t(n.activity.activities[0])}],n.prototype.validate=function(e,t){var n,r,i;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isArray(null!=e&&null!=(i=e.activity)?i.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/subscribe_to_emails/v1/subscribe_to_emails",["require","app/common/abstract_controller","app/widgets/subscribe_to_emails/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/subscribe_to_emails/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activity=e},r.prototype.run=["$scope","userService","errorService",function(e,t,n){return this.scope=e,this.out("do:subscribe:emails",function(e){return function(r){return t.updateReceiveEmailUpdates(r).then(function(){return e.down("subscribe:emails:success")},n.down("subscribe:emails:error"))}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/subscribe_to_emails/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={page_data:{text:["heading.subscribe to emails widget","success.subscribe to emails widget","label.receive email updates"]},model_data:{user:{me:{properties:["receive_email_updates"],query:{type:"me"}}},activity:{activities:{properties:["name","num_points","show_activity_point_text"],query:{type:"activities_by_name",args:{names:["joined email list"]}}}}}},n.prototype.transformResponse=["ctUser","ctActivity","modelData",function(e,t,n){return e.loadSession(n.user.me[0]),new t(n.activity.activities[0])}],n.prototype.validate=function(e,t){var n,r,i;if(!angular.isObject(null!=e&&null!=(n=e.user)&&null!=(r=n.me)?r[0]:void 0))throw new Error("Error: was expecting /request model_data.user.me[0] to be an object.");if(!angular.isArray(null!=e&&null!=(i=e.activity)?i.activities:void 0))throw new Error("Error: was expecting /request model_data.activity.activities to be an array.");return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/subscribe_to_emails/v2/subscribe_to_emails",["require","app/common/abstract_controller","app/widgets/subscribe_to_emails/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/subscribe_to_emails/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return this.scope.activity=e},r.prototype.run=["$scope","userService","errorService",function(e,t,n){return this.scope=e,this.out("do:subscribe:emails",function(e){return function(r){return t.updateReceiveEmailUpdates(r).then(function(){return e.down("subscribe:emails:success")},n.down("subscribe:emails:error"))}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/survey/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["heading.survey widget","error.info required","error.survey answer all questions","error.survey data submission invalid","error.unknown","text.activity widget unlock","text.activity widget tier unlock","text.point display","text.points display","text.survey question type checkbox","text.survey save add points","text.survey save success status","text.survey save success","text.survey save error status","text.survey save error","link.subnav logout","link.previous","link.next","button.submit"]},model_data:{user:{me:{properties:["survey_data","total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels","client_id"],query:{type:"current"}}}}}}],n.prototype.validate=function(e,t){var n,r,i;if(null==(null!=e&&null!=(n=e.user)&&null!=(r=n.me)&&null!=(i=r[0])?i.survey_data:void 0))throw new Error("Survey Data was not returned in the /request reponse!")},n.prototype.transformResponse=["widgetConf","ctUser","ctClient","modelData","ctFanLevels",function(e,t,n,r,i){var o,a,s,c,u,l;for(i.load(r),o=null!=r&&null!=(u=r.client)?u.current[0]:void 0,n.loadData(o),l=r.user.me[0].survey_data,s=0,c=l.length;s<c;s++)if(a=l[s],parseInt(a.id,10)===parseInt(e.surveyId,10))return t.loadSession({survey_data:[a]}),{survey:a,tierConf:o.fan_levels};return this.$log.warn("Could not load survey with ID: "+e.surveyId),!1}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/survey/v1/survey",["require","app/common/abstract_controller","app/widgets/survey/v1/config"],function(t){var r,i,o;return r=t("app/common/abstract_controller"),i=t("app/widgets/survey/v1/config"),o=function(e){var t,n,r;r=[];for(t in e)n=e[t],r.push({question_id:t,value:n.value,image_id:n.image_id});return r},function(t){function r(){return this.renderDynamicWidgetsForSurveyResponse=e(this.renderDynamicWidgetsForSurveyResponse,this),this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){var t,n,r,i,o,a;return null!=e&&e.survey?(this.scope.survey=e.survey,this.scope.tierConf=e.tierConf,12===this.ctClient.client_id&&(t=this.ctUser.survey_data,null!=(n=null!=(r=t[0])&&null!=(i=r.questions)&&null!=(o=i[0])&&null!=(a=o.user_response)?a.value:void 0))?this.renderDynamicWidgetsForSurveyResponse(n):void 0):this.down("remove")},r.prototype.run=["$scope","$http","userService","ctUser","ctClient",function(e,t,n,r,i){return this.scope=e,this.ctUser=r,this.ctClient=i,this.out("do:survey:submit",function(e){return function(t){var r;return r=o(t.questionResponses),n.submitSurvey(t.surveyId,r).then(function(){var t;if(e.down("survey:submit:success",r),12===e.ctClient.client_id)return e.renderDynamicWidgetsForSurveyResponse(null!=r&&null!=(t=r[0])?t.value:void 0)},function(){return e.down("survey:submit:error")})}}(this))}],r.prototype.renderDynamicWidgetsForSurveyResponse=function(e){var t,n,r,i,o,a,s,c,u,l;switch(c=1070,r=1082,a="Snowboard",s="Skateboard",i=1064,o=1066,t=1076,n=1080,e){case a:u=t,l=i;break;case s:u=n,l=o;break;default:return 0}return this.up("widget:load",{widgetId:u,widgetUrl:"http://rewards.crowdtwist.com/widgets/t/activity-list/"+u,containerSelector:"#featured-activity-container"}),this.up("widget:load",{widgetId:l,widgetUrl:"http://rewards.crowdtwist.com/widgets/t/reward-list/"+l,containerSelector:"#rewards-container"}),this.up("widget:remove",{widgetId:r}),this.up("widget:remove",{widgetId:c})},r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/survey/v3/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){var t;return t=e.surveyId,{page_data:{text:["heading.survey widget","error.info required","error.survey answer all questions","error.survey data submission invalid","error.unknown","text.activity widget unlock","text.activity widget tier unlock","text.point display","text.points display","text.survey question type checkbox","text.survey save add points","text.survey save success status","text.survey save success","text.survey save error status","text.survey save error","link.subnav logout","link.previous","link.next","survey.other","word.optional","button.submit"]},model_data:{user:{me:{properties:["total_points"],query:{type:"me"}}},client:{current:{properties:["fan_levels"],query:{type:"current"}}},questionnaire:{current_questionnaire:{properties:["questionnaire_data"],query:{type:"current_questionnaire",args:{questionnaireActivityId:t,questionnaireType:"survey",getQuestionnaireStats:!1}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(null==(null!=e&&null!=(n=e.questionnaire)&&null!=(r=n.current_questionnaire)?r.questionnaire_data:void 0))throw new Error("Questionnaire Data was not returned in the /request reponse!")},n.prototype.transformResponse=["widgetConf","ctUser","ctClient","modelData","ctFanLevels","CaseService",function(e,t,n,r,i,o){var a,s,c,u,l;return i.load(r),a=null!=r&&null!=(u=r.client)?u.current[0]:void 0,n.loadData(a),s=r.questionnaire.current_questionnaire.questionnaire_data,s=o.useCamelCaseKeys(s),c=null!=(l=r.questionnaire.current_questionnaire.questionnaire_response)?l:{answers:{}},c=o.useCamelCaseKeys(c),parseInt(s.id,10)===parseInt(e.surveyId,10)?(t.loadSession({survey_data:[s]}),{survey:s,userResponse:c,tierConf:a.fan_levels}):(this.$log.warn("Could not load survey with activity ID: "+e.surveyId),!1)}],n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){
function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/survey/v3/survey",["require","app/common/abstract_controller","app/widgets/survey/v3/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/survey/v3/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){return(null!=e?e.survey:void 0)?(this.scope.survey=e.survey,this.scope.userResponse=e.userResponse,this.scope.tierConf=e.tierConf):this.down("remove")},r.prototype.run=["$scope","$http","questionnaireService","ctUser","ctClient","CaseService",function(e,t,n,r,i,o){return this.scope=e,this.ctUser=r,this.ctClient=i,this.out("do:survey:submit",function(e){return function(t){var r;return r=o.useSnakeCaseKeys(t.questionResponses),n.submitQuestionnaire(r,t.surveyId,"survey").then(function(t){return e.down("survey:submit:success",t)},function(){return e.down("survey:submit:error")})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/upload_receipt/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["text.upload receipt description","text.upload receipt file requirement","text.upload receipt file technical requirement","text.upload receipt processing message","button.upload receipt select photo","button.upload receipt submit","word.failed"]},model_data:{user:{me:{properties:["total_points","receipt_images","state_id"],query:{type:"me"}}},client:{current:{properties:["fan_levels","states_not_allowing_purchase"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){var r,i,o,a,s;return o=null!=t&&null!=(a=t.user)?a.me[0]:void 0,r=null!=t&&null!=(s=t.client)?s.current[0]:void 0,i=-1===r.states_not_allowing_purchase.indexOf(o.state_id),e.loadSession(o),n.load(t),{receipts:o.receipt_images,stateAllowsPurchase:i}}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/upload_receipt/v1/upload_receipt",["require","app/common/abstract_controller","app/widgets/upload_receipt/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/upload_receipt/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="upload-receipt",r.prototype.onDataLoad=function(e){return this.scope.receipts=e.receipts,this.scope.stateAllowsPurchase=e.stateAllowsPurchase},r.prototype.run=["$scope","userService","uploadService",function(e,t,n){var r;return this.scope=e,this.user=t,this.upload=n,r=this,this.on("receipt:upload:start",function(e){return function(t){return e.upload.uploadImage(t.image).then(function(e){return r.down("receipt:upload:complete",e)})}}(this)),this.on("do:receipt:submit",function(e){return function(t){return e.user.submitReceipt(t).then(function(e){return r.down("receipt:submit:success",e)})}}(this)),this.on("receipt:message:clear",function(e){return function(t){return e.user.clearReceiptMessage(t).then(function(e){return r.down("receipt:clear:success",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/upload_receipt/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["widgetConf",function(e){return{page_data:{text:["button.upload receipt select photo","button.upload receipt submit","label.close notification","label.upload receipt","text.upload receipt description","text.upload receipt file requirement","text.upload receipt file technical requirement","text.receipt image preview","text.upload receipt processing message","word.failed"]},model_data:{user:{me:{properties:["total_points","receipt_images","state_id"],query:{type:"me"}}},client:{current:{properties:["fan_levels","states_not_allowing_purchase"],query:{type:"current"}}}}}}],n.prototype.transformResponse=["ctUser","modelData","ctFanLevels",function(e,t,n){var r,i,o,a,s;return o=null!=t&&null!=(a=t.user)?a.me[0]:void 0,r=null!=t&&null!=(s=t.client)?s.current[0]:void 0,i=-1===r.states_not_allowing_purchase.indexOf(o.state_id),e.loadSession(o),n.load(t),{receipts:o.receipt_images,stateAllowsPurchase:i}}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/upload_receipt/v2/upload_receipt",["require","app/common/abstract_controller","app/widgets/upload_receipt/v2/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/upload_receipt/v2/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.widgetType="upload-receipt",r.prototype.onDataLoad=function(e){return this.scope.receipts=e.receipts,this.scope.stateAllowsPurchase=e.stateAllowsPurchase},r.prototype.run=["$scope","userService","uploadService",function(e,t,n){var r;return this.scope=e,this.user=t,this.upload=n,r=this,this.on("receipt:upload:start",function(e){return function(t){return e.upload.uploadImage(t.image).then(function(e){return r.down("receipt:upload:complete",e)})}}(this)),this.on("do:receipt:submit",function(e){return function(t){return e.user.submitReceipt(t).then(function(e){return r.down("receipt:submit:success",e)})}}(this)),this.on("receipt:message:clear",function(e){return function(t){return e.user.clearReceiptMessage(t).then(function(e){return r.down("receipt:clear:success",e)})}}(this))}],r}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/variation_activity/v1/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["$stateParams",function(e){return{page_data:{text:["button.go"]},model_data:{user:{me:{properties:["fan_rank"],query:{type:"me"}}},activity:{details:{properties:["call_to_action","date_end","date_start","description","explanatory_image_url","freq_cap","freq_period_string","id","show_activity_point_text","link_href","main_image_url","name","num_points","prereq_activity_id","prereq_activity_name","prereq_activity_title","prereq_user_activity_status","show_detail","time_end","time_start","title","type","user_activity_status","user_activity_status","variations","variations_count"],query:{type:"activity_details",args:{activity_name_url_slug:e.activityName}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.activity)&&null!=(r=n.details)?r[0]:void 0))throw new Error("/request did not return an activity for VariationActivityConfig.")},n.prototype.transformResponse=["modelData",function(e){return e.activity.details[0]}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/variation_activity/v1/variation_activity",["require","app/common/abstract_controller","app/widgets/variation_activity/v1/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/variation_activity/v1/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.onDataLoad=function(e){return this.scope.activity=e},n.prototype.run=["$scope",function(e){this.scope=e}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/variation_activity/v2/config",["require","app/common/slash_request_config/abstract","has"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),e("has"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=["$stateParams",function(e){return{page_data:{text:["button.go"]},model_data:{user:{me:{properties:["fan_rank"],query:{type:"me"}}},activity:{details:{properties:["call_to_action","date_end","date_start","description","explanatory_image_url","freq_cap","freq_period_string","id","show_activity_point_text","link_href","main_image_url","name","num_points","prereq_activity_id","prereq_activity_name","prereq_activity_title","prereq_user_activity_status","show_detail","time_end","time_start","title","type","user_activity_status","user_activity_status","variations","variations_count"],query:{type:"activity_details",args:{activity_name_url_slug:e.activityName}}}}}}}],n.prototype.validate=function(e,t){var n,r;if(!(null!=e&&null!=(n=e.activity)&&null!=(r=n.details)?r[0]:void 0))throw new Error("/request did not return an activity for VariationActivityConfig.")},n.prototype.transformResponse=["modelData",function(e){return e.activity.details[0]}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/variation_activity/v2/variation_activity",["require","app/common/abstract_controller","app/widgets/variation_activity/v2/config"],function(e){var n,r;return n=e("app/common/abstract_controller"),r=e("app/widgets/variation_activity/v2/config"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config=r,n.prototype.onDataLoad=function(e){return this.scope.activity=e},n.prototype.run=["$scope",function(e){this.scope=e}],n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/widgets/email_verification/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={model_data:{client:{current:{properties:["name","program_name"],query:{type:"current"}}}},page_data:{text:["heading.verify email widget","heading.email verification widget","text.email verification explanation","error.email verification","label.loading"]}},n.prototype.transformResponse=["ctClient","modelData",function(e,t){return e.loadData(t.client.current[0]),t.client.current[0]}],n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define("app/widgets/email_verification/v1/email_verification",["require","app/common/abstract_controller","app/widgets/email_verification/v1/config"],function(t){var r,i;return r=t("app/common/abstract_controller"),i=t("app/widgets/email_verification/v1/config"),function(t){function r(){return this.onDataLoad=e(this.onDataLoad,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.config=i,r.prototype.onDataLoad=function(e){},r.prototype.run=["$scope",function(e){this.scope=e}],r}(r)})}.call(this),function(){define("app/common/logged_out/v1/state_controller",["require"],function(e){var t;return t=function(e,t,n,r){return r.user=e,r.logOutState=null!=t?t.logOutState:void 0},t.$inject=["ctUser","widgetConf","ctWidgetEventHelper","$scope"],t})}.call(this),function(){define("app/common/logged_out/v2/state_controller",["require"],function(e){var t;return t=function(e,t,n,r){return r.user=e,r.logOutState=null!=t?t.logOutState:void 0},t.$inject=["ctUser","widgetConf","ctWidgetEventHelper","$scope"],t})}.call(this),function(){define("app/widgets_config",["require","app/widgets/account_overview/v1/account_overview","app/widgets/account_overview/v2/account_overview","app/widgets/account_overview_two/v1/account_overview_two","app/widgets/account_overview_two/v2/account_overview_two","app/widgets/account_settings/v1/account_settings","app/widgets/activity_history/v1/activity_history","app/widgets/activity_history/v2/activity_history","app/widgets/activity_list/v1/activity_list","app/widgets/activity_list/v2/activity_list","app/widgets/additional_info/v1/additional_info","app/widgets/additional_info/v2/additional_info","app/widgets/claim_purchase/v1/claim_purchase","app/widgets/code_redemption/v1/code_redemption","app/widgets/code_redemption/v2/code_redemption","app/widgets/unsubscribe/v1/unsubscribe","app/widgets/invite_friends/v1/invite_friends","app/widgets/invite_friends/v2/invite_friends","app/widgets/household/v2/household","app/widgets/points_expiration/v1/points_expiration","app/widgets/points_expiration/v2/points_expiration","app/widgets/poll/v2/poll","app/widgets/purchase_history/v1/purchase_history","app/widgets/purchase_history/v2/purchase_history","app/widgets/quiz/v2/quiz","app/widgets/redeem/v1/redeem","app/widgets/redeem/v1/redeem","app/widgets/reset_password/v1/reset_password","app/widgets/reward_history/v1/reward_history","app/widgets/reward_history/v2/reward_history","app/widgets/reward_list/v1/reward_list","app/widgets/reward_list/v2/reward_list","app/widgets/sign_up/v1/sign_up","app/widgets/sign_up/v2/sign_up","app/widgets/social_connect/v1/social_connect","app/widgets/social_connect/v2/social_connect","app/widgets/social_set_pw/v1/social_set_pw","app/widgets/social_set_pw/v2/social_set_pw","app/widgets/subscribe_to_emails/v1/subscribe_to_emails","app/widgets/subscribe_to_emails/v2/subscribe_to_emails","app/widgets/survey/v1/survey","app/widgets/survey/v1/survey","app/widgets/survey/v3/survey","app/widgets/upload_receipt/v1/upload_receipt","app/widgets/upload_receipt/v2/upload_receipt","app/widgets/variation_activity/v1/variation_activity","app/widgets/variation_activity/v2/variation_activity","app/widgets/email_verification/v1/email_verification","app/common/logged_out/v1/state_controller","app/common/logged_out/v2/state_controller"],function(e){return{"account-overview":{parent:"with-logged-out",url:"/widgets/t/account-overview/:widgetId/",templateUrl:"/app/widgets/account_overview/:version/account_overview.html",controller:{1:e("app/widgets/account_overview/v1/account_overview"),2:e("app/widgets/account_overview/v2/account_overview")},requiredStates:[]},"account-overview-two":{parent:"with-logged-out",url:"/widgets/t/account-overview-two/:widgetId/",templateUrl:"/app/widgets/account_overview_two/:version/account_overview_two.html",controller:{1:e("app/widgets/account_overview_two/v1/account_overview_two"),2:e("app/widgets/account_overview_two/v2/account_overview_two")},requiredStates:[]},"account-settings":{parent:"with-logged-out",url:"/widgets/t/account-settings/:widgetId/",templateUrl:"/app/widgets/account_settings/:version/account_settings.html",controller:{1:e("app/widgets/account_settings/v1/account_settings")},requiredStates:[]},"activity-history":{parent:"with-logged-out",url:"/widgets/t/activity-history/:widgetId/",templateUrl:"/app/widgets/activity_history/:version/activity_history.html",controller:{1:e("app/widgets/activity_history/v1/activity_history"),2:e("app/widgets/activity_history/v2/activity_history")},requiredStates:[]},"activity-list":{parent:"with-logged-out",url:"/widgets/t/activity-list/:widgetId/",templateUrl:"/app/widgets/activity_list/:version/activity_list.html",controller:{1:e("app/widgets/activity_list/v1/activity_list"),2:e("app/widgets/activity_list/v2/activity_list")},requiredStates:["additional-info","variation-activity","subscribe-to-emails","social-connect","code-redemption","survey","invite-friends","upload-receipt","poll","quiz"]},"additional-info":{parent:"require-logged-in",url:"/widgets/t/additional-info/0/",templateUrl:"/app/widgets/additional_info/:version/additional_info.html",controller:{1:e("app/widgets/additional_info/v1/additional_info"),2:e("app/widgets/additional_info/v2/additional_info")},requiredStates:[]},"claim-purchase":{parent:"with-logged-out",url:"/widgets/t/claim-purchase/:widgetId/",templateUrl:"/app/widgets/claim_purchase/:version/claim_purchase.html",controller:{1:e("app/widgets/claim_purchase/v1/claim_purchase")},requiredStates:[]},"code-redemption":{parent:"with-logged-out",url:"/widgets/t/code-redemption/:widgetId/",templateUrl:"/app/widgets/code_redemption/:version/code_redemption.html",controller:{1:e("app/widgets/code_redemption/v1/code_redemption"),2:e("app/widgets/code_redemption/v2/code_redemption")},requiredStates:[]},"email-unsubscribe":{url:"/widgets/t/email-unsubscribe/0/",templateUrl:"/app/widgets/unsubscribe/:version/unsubscribe.html",controller:{1:e("app/widgets/unsubscribe/v1/unsubscribe")},requiredStates:[]},"invite-friends":{parent:"with-logged-out",url:"/widgets/t/invite-friends/:widgetId/",templateUrl:"/app/widgets/invite_friends/:version/invite_friends.html",controller:{1:e("app/widgets/invite_friends/v1/invite_friends"),2:e("app/widgets/invite_friends/v2/invite_friends")},requiredStates:[]},"point-sharing-group":{parent:"with-logged-out",url:"/widgets/t/point-sharing-group/:widgetId/",templateUrl:"/app/widgets/household/:version/household.html",controller:{2:e("app/widgets/household/v2/household")},requiredStates:[]},"points-expiration":{parent:"with-logged-out",url:"/widgets/t/points-expiration/:widgetId/",templateUrl:"/app/widgets/points_expiration/:version/points_expiration.html",controller:{1:e("app/widgets/points_expiration/v1/points_expiration"),2:e("app/widgets/points_expiration/v2/points_expiration")},requiredStates:[]},poll:{parent:"with-logged-out",url:"/widgets/t/poll/:widgetId/",templateUrl:"/app/widgets/poll/:version/poll.html",controller:{2:e("app/widgets/poll/v2/poll")},requiredStates:[]},"purchase-history":{parent:"with-logged-out",url:"/widgets/t/purchase-history/:widgetId/",templateUrl:"/app/widgets/purchase_history/:version/purchase_history.html",controller:{1:e("app/widgets/purchase_history/v1/purchase_history"),2:e("app/widgets/purchase_history/v2/purchase_history")},requiredStates:[]},quiz:{parent:"with-logged-out",url:"/widgets/t/quiz/:widgetId/",templateUrl:"/app/widgets/quiz/:version/quiz.html",controller:{2:e("app/widgets/quiz/v2/quiz")},requiredStates:[]},redeem:{parent:"require-logged-in",url:"/widgets/t/redeem/:rewardId/",templateUrl:"/app/widgets/redeem/:version/redeem.html",controller:{1:e("app/widgets/redeem/v1/redeem"),2:e("app/widgets/redeem/v1/redeem")},requiredStates:[]},"reset-password":{url:"/widgets/t/reset-password/0/",templateUrl:"/app/widgets/reset_password/:version/reset_password.html",controller:{1:e("app/widgets/reset_password/v1/reset_password")},requiredStates:[]},"reward-history":{parent:"with-logged-out",url:"/widgets/t/reward-history/:widgetId/",templateUrl:"/app/widgets/reward_history/:version/reward_history.html",controller:{1:e("app/widgets/reward_history/v1/reward_history"),2:e("app/widgets/reward_history/v2/reward_history")},requiredStates:[]},"reward-list":{parent:"with-logged-out",url:"/widgets/t/reward-list/:widgetId/",templateUrl:"/app/widgets/reward_list/:version/reward_list.html",controller:{1:e("app/widgets/reward_list/v1/reward_list"),2:e("app/widgets/reward_list/v2/reward_list")},requiredStates:["redeem"]},"sign-up":{url:"/widgets/t/sign-up/0/:state/",templateUrl:"/app/widgets/sign_up/:version/sign_up.html",controller:{1:e("app/widgets/sign_up/v1/sign_up"),2:e("app/widgets/sign_up/v2/sign_up")},requiredStates:[]},"social-connect":{parent:"with-logged-out",url:"/widgets/t/social-connect/:widgetId/",templateUrl:"/app/widgets/social_connect/:version/social_connect.html",controller:{1:e("app/widgets/social_connect/v1/social_connect"),2:e("app/widgets/social_connect/v2/social_connect")},requiredStates:["social-set-pw"]},"social-set-pw":{parent:"require-logged-in",url:"/widgets/t/social-set-pw/0/:type/",templateUrl:"/app/widgets/social_set_pw/:version/social_set_pw.html",controller:{1:e("app/widgets/social_set_pw/v1/social_set_pw"),2:e("app/widgets/social_set_pw/v2/social_set_pw")},requiredStates:[]},"subscribe-to-emails":{parent:"require-logged-in",url:"/widgets/t/subscribe-to-emails/0/",templateUrl:"/app/widgets/subscribe_to_emails/:version/subscribe_to_emails.html",controller:{1:e("app/widgets/subscribe_to_emails/v1/subscribe_to_emails"),2:e("app/widgets/subscribe_to_emails/v2/subscribe_to_emails")},requiredStates:[]},survey:{parent:"with-logged-out",url:"/widgets/t/survey/:widgetId/",templateUrl:"/app/widgets/survey/:version/survey.html",controller:{1:e("app/widgets/survey/v1/survey"),2:e("app/widgets/survey/v1/survey"),3:e("app/widgets/survey/v3/survey")},requiredStates:[]},"upload-receipt":{parent:"with-logged-out",url:"/widgets/t/upload-receipt/:widgetId/",templateUrl:"/app/widgets/upload_receipt/:version/upload_receipt.html",controller:{1:e("app/widgets/upload_receipt/v1/upload_receipt"),2:e("app/widgets/upload_receipt/v2/upload_receipt")},requiredStates:[]},"variation-activity":{parent:"require-logged-in",url:"/widgets/t/variation-activity/0/:activityName/",templateUrl:"/app/widgets/variation_activity/:version/variation_activity.html",controller:{1:e("app/widgets/variation_activity/v1/variation_activity"),2:e("app/widgets/variation_activity/v2/variation_activity")},requiredStates:[]},"verify-email":{url:"/widgets/t/verify-email/0/",templateUrl:"/app/widgets/email_verification/:version/email_verification.html",controller:{1:e("app/widgets/email_verification/v1/email_verification")},requiredStates:[]},"with-logged-out":{abstract:!0,templateUrl:"/app/common/logged_out/:version/state_template.html",controller:{1:e("app/common/logged_out/v1/state_controller"),2:e("app/common/logged_out/v2/state_controller")},requiredStates:[]}}})}.call(this),!function(e){"use strict";var t,n={},r={sdk:!1,ready:!1};e.module("facebook",[]).value("settings",n).value("flags",r).provider("Facebook",[function(){n.appId=null,this.setAppId=function(e){n.appId=e},this.getAppId=function(){return n.appId},n.locale="en_US",this.setLocale=function(e){n.locale=e},this.getLocale=function(){return n.locale},n.status=!0,this.setStatus=function(e){n.status=e},this.getStatus=function(){return n.status},n.channelUrl=null,this.setChannel=function(e){n.channelUrl=e},this.getChannel=function(){return n.channelUrl},n.cookie=!0,this.setCookie=function(e){n.cookie=e},this.getCookie=function(){return n.cookie},n.xfbml=!0,this.setXfbml=function(e){n.xfbml=e},this.getXfbml=function(){return n.xfbml},this.setAuthResponse=function(e){n.authResponse=e||!0},this.getAuthResponse=function(){return n.authResponse},n.frictionlessRequests=!1,this.setFrictionlessRequests=function(e){n.frictionlessRequests=e},this.getFrictionlessRequests=function(){return n.frictionlessRequests},n.hideFlashCallback=null,this.setHideFlashCallback=function(e){n.hideFlashCallback=e||null},this.getHideFlashCallback=function(){return n.hideFlashCallback},this.setInitCustomOption=function(t,r){return!!e.isString(t)&&(n[t]=r,n[t])},this.getInitOption=function(t){return!(!e.isString(t)||!n.hasOwnProperty(t))&&n[t]},n.loadSDK=!0,this.setLoadSDK=function(e){n.loadSDK=!!e},this.getLoadSDK=function(){return n.loadSDK},n.version="v2.0",this.setSdkVersion=function(e){n.version=e},this.getSdkVersion=function(){return n.version},this.init=function(t,r){e.isString(t)&&(n.appId=t||n.appId),e.isObject(t)&&e.extend(n,t),e.isDefined(r)&&(n.loadSDK=!!r)},this.$get=["$q","$rootScope","$timeout","$window",function(i,o,a,s){function c(){this.appId=n.appId}return c.prototype.isReady=function(){return r.ready},c.prototype.login=function(){var t,n,r=i.defer(),o=Array.prototype.slice.call(arguments);return e.forEach(o,function(r,i){e.isFunction(r)&&(t=r,n=i)}),e.isFunction(t)&&e.isNumber(n)&&o.splice(n,1,function(n){a(function(){e.isUndefined(n.error)?r.resolve(n):r.reject(n),e.isFunction(t)&&t(n)})}),this.isReady()?s.FB.login.apply(s.FB,o):a(function(){r.reject("Facebook.login() called before Facebook SDK has loaded.")}),r.promise},e.forEach(["logout","api","ui","getLoginStatus"],function(n){c.prototype[n]=function(){var r,o,c=i.defer(),u=Array.prototype.slice.call(arguments);return e.forEach(u,function(t,n){e.isFunction(t)&&(r=t,o=n)}),e.isFunction(r)&&e.isNumber(o)&&u.splice(o,1,function(t){a(function(){t&&void 0===t.error?c.resolve(t):c.reject(t),e.isFunction(r)&&r(t)})}),a(function(){t.promise.then(function(){s.FB[n].apply(FB,u)},function(){throw"Facebook API could not be initialized properly"})}),c.promise}}),c.prototype.parseXFBML=function(){var e=i.defer();return a(function(){t.promise.then(function(){s.FB.XFBML.parse(),e.resolve()},function(){throw"Facebook API could not be initialized properly"})}),e.promise},c.prototype.subscribe=function(){var n,r,o=i.defer(),c=Array.prototype.slice.call(arguments);return e.forEach(c,function(t,i){e.isFunction(t)&&(n=t,r=i)}),e.isFunction(n)&&e.isNumber(r)&&c.splice(r,1,function(t){a(function(){t&&void 0===t.error?o.resolve(t):o.reject(t),e.isFunction(n)&&n(t)})}),a(function(){t.promise.then(function(){s.FB.Event.subscribe.apply(FB,c)},function(){throw"Facebook API could not be initialized properly"})}),o.promise},c.prototype.unsubscribe=function(){var n,r,o=i.defer(),c=Array.prototype.slice.call(arguments);return e.forEach(c,function(t,i){e.isFunction(t)&&(n=t,r=i)}),e.isFunction(n)&&e.isNumber(r)&&c.splice(r,1,function(t){a(function(){t&&void 0===t.error?o.resolve(t):o.reject(t),e.isFunction(n)&&n(t)})}),a(function(){t.promise.then(function(){s.FB.Event.unsubscribe.apply(FB,c)},function(){throw"Facebook API could not be initialized properly"})}),o.promise},new c}]}]).run(["$rootScope","$q","$window","$timeout",function(i,o,a,s){t=o.defer();var c=n.loadSDK;delete n.loadSDK,a.fbAsyncInit=function(){s(function(){if(!n.appId)throw"Missing appId setting.";FB.init(n),r.ready=!0,e.forEach({"auth.login":"login","auth.logout":"logout","auth.prompt":"prompt","auth.sessionChange":"sessionChange","auth.statusChange":"statusChange","auth.authResponseChange":"authResponseChange","xfbml.render":"xfbmlRender","edge.create":"like","edge.remove":"unlike","comment.create":"comment","comment.remove":"uncomment"},function(e,t){FB.Event.subscribe(t,function(t){s(function(){i.$broadcast("Facebook:"+e,t)})})}),i.$broadcast("Facebook:load"),t.resolve(FB)})},(o=document.getElementById("fb-root"))||((o=document.createElement("div")).id="fb-root",document.body.insertBefore(o,document.body.childNodes[0])),c&&(o="//connect.facebook.net/"+n.locale+"/sdk.js",(c=document.createElement("script")).id="facebook-jssdk",c.async=!0,-1!==["file","file:"].indexOf(a.location.protocol)&&(o="https:"+o),c.src=o,c.onload=function(){r.sdk=!0},document.getElementsByTagName("head")[0].appendChild(c))}])}((window,angular)),function(e,t){"use strict";var n,r,i,o,a,s,c,u,l,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function p(e,t){for(var n={},r=e.split(","),i=0;i<r.length;i++)n[t?a(r[i]):r[i]]=!0;return n}function f(e){return e.replace(/&/g,"&amp;").replace(m,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(v,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e,t){if((e=t[e])&&c.call(t,e))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return e}var g=!1;this.$get=["$$sanitizeUri",function(e){return g&&r(C,x),function(t){var n=[];return u(t,l(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(g=e,this):g},n=t.bind,r=t.extend,i=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,u=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=k(e);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable")}while(r--,e=n.innerHTML,n=k(e),e!==n.innerHTML);for(var i,o=n.firstChild;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}(o.attributes));break;case 3:t.chars(o.textContent)}if(!((i=o.firstChild)||(1===o.nodeType&&t.end(o.nodeName.toLowerCase()),i=h("nextSibling",o))))for(;null==i&&(o=h("parentNode",o))!==n;)i=h("nextSibling",o),1===o.nodeType&&t.end(o.nodeName.toLowerCase());o=i}for(;o=n.firstChild;)n.removeChild(o)},l=function(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),(r=!r&&A[e]?e:r)||!0!==C[e]||(o("<"),o(e),i(n,function(n,r){var i=a(r),s="img"===e&&"src"===i||"background"===i;!0!==T[i]||!0===E[i]&&!t(n,s)||(o(" "),o(r),o('="'),o(f(n)),o('"'))}),o(">"))},end:function(e){e=a(e),r||!0!==C[e]||!0===y[e]||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(f(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}
;var m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/([^#-~ |!])/g,y=p("area,br,col,hr,img,wbr"),w=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=p("rp,rt"),_=r({},b,w),w=r({},w,p("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=r({},b,p("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=p("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=p("script,style"),C=r({},y,w,b,_),E=p("background,cite,href,longdesc,src,xlink:href"),b=p("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),_=p("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),T=r({},E,_,b),k=function(t,n){var r;if(!n||!n.implementation)throw d("noinert","Can't create an inert html document");var i=((r=n.implementation.createHTMLDocument("inert")).documentElement||r.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(t){return i.innerHTML=t,n.documentMode&&function t(n){for(;n;){if(n.nodeType===e.Node.ELEMENT_NODE)for(var r=n.attributes,i=0,o=r.length;i<o;i++){var a=r[i],s=a.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(n.removeAttributeNode(a),i--,o--)}var c=n.firstChild;c&&t(c),n=h("nextSibling",n)}}(i),i}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(e){return}var n=new t.XMLHttpRequest;return n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null),n=n.response.body,n.firstChild.remove(),n}}(e,e.document)}).info({angularVersion:"1.6.6"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,c=t.isObject,u=t.isString;return function(t,d,p){function f(e){var t;e&&w.push((t=e,l(e=[],s).chars(t),e.join("")))}if(null==t||""===t)return t;if(!u(t))throw i("notstring","Expected string but received: {0}",t);for(var h,g,m,v=a(p)?p:c(p)?function(){return p}:function(){return{}},y=t,w=[];h=y.match(n);)g=h[0],h[2]||h[4]||(g=(h[3]?"http://":"mailto:")+g),m=h.index,f(y.substr(0,m)),function(e,t){var n,r=v(e);for(n in w.push("<a "),r)w.push(n+'="'+r[n]+'" ');!o(d)||"target"in r||w.push('target="',d,'" '),w.push('href="',e.replace(/"/g,"&quot;"),'">'),f(t),w.push("</a>")}(g,h[0].replace(r,"")),y=y.substring(m+h[0].length);return f(y),e(w.join(""))}}])}(window,window.angular),function(e){"use strict";function t(t,n){var r=!1,o=!1;this.ngClickOverrideEnabled=function(a){return e.isDefined(a)?(a&&!o&&(o=!0,i.$$moduleName="ngTouch",n.directive("ngClick",i),t.decorator("ngClickDirective",["$delegate",function(e){if(r)e.shift();else for(var t=e.length-1;0<=t;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),r=a,this):r},this.$get=function(){return{ngClickOverrideEnabled:function(){return r}}}}function n(t,n,i){r.directive(t,["$parse","$swipe",function(r,o){return function(a,s,c){var u,l,d=r(c[t]),p=["touch"];e.isDefined(c.ngSwipeDisableMouse)||p.push("mouse"),o.bind(s,{start:function(e,t){u=e,l=!0},cancel:function(e){l=!1},end:function(e,t){!function(e){if(u){var t=Math.abs(e.y-u.y),e=(e.x-u.x)*n;return l&&t<75&&0<e&&30<e&&t/e<.3}}(e)||a.$apply(function(){s.triggerHandler(i),d(a,{$event:t})})}},p)}}])}var r=e.module("ngTouch",[]);r.info({angularVersion:"1.6.6"}),r.provider("$touch",t),t.$inject=["$provide","$compileProvider"],r.factory("$swipe",[function(){function t(e){var t=e.originalEvent||e,e=t.touches&&t.touches.length?t.touches:[t],e=t.changedTouches&&t.changedTouches[0]||e[0];return{x:e.clientX,y:e.clientY}}function n(t,n){var i=[];return e.forEach(t,function(e){(e=r[e][n])&&i.push(e)}),i.join(" ")}var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(e,r,i){var o,a,s,c,u=!1;i=i||["mouse","touch","pointer"],e.on(n(i,"start"),function(e){s=t(e),u=!0,a=o=0,c=s,r.start&&r.start(s,e)});var l=n(i,"cancel");l&&e.on(l,function(e){u=!1,r.cancel&&r.cancel(e)}),e.on(n(i,"move"),function(e){var n;u&&s&&(n=t(e),o+=Math.abs(n.x-c.x),a+=Math.abs(n.y-c.y),c=n,o<10&&a<10||(o<a?(u=!1,r.cancel&&r.cancel(e)):(e.preventDefault(),r.move&&r.move(n,e))))}),e.on(n(i,"end"),function(e){u&&(u=!1,r.end&&r.end(t(e),e))})}}}]);var i=["$parse","$timeout","$rootElement",function(t,n,r){function i(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=2)if(r=e[s],i=e[s+1],o=t,a=n,Math.abs(r-o)<d&&Math.abs(i-a)<d)return e.splice(s,s+2),1}function o(t){var n,r,o;Date.now()-s>l||(n=(o=t.touches&&t.touches.length?t.touches:[t])[0].clientX,r=o[0].clientY,n<1&&r<1||u&&u[0]===n&&u[1]===r||(u=u&&null,"label"===(o=t.target,e.lowercase(o.nodeName||o[0]&&o[0].nodeName))&&(u=[n,r]),i(c,n,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())))}function a(e){var e=e.touches&&e.touches.length?e.touches:[e],t=e[0].clientX,r=e[0].clientY;c.push(t,r),n(function(){for(var e=0;e<c.length;e+=2)if(c[e]===t&&c[e+1]===r)return void c.splice(e,e+2)},l,!1)}var s,c,u,l=2500,d=25,p="ng-click-active";return function(n,u,l){function d(){y=!1,u.removeClass(p)}var f,h,g,m,v=t(l.ngClick),y=!1;u.on("touchstart",function(e){y=!0,3===(f=e.target||e.srcElement).nodeType&&(f=f.parentNode),u.addClass(p),h=Date.now(),e=e.originalEvent||e,e=(e.touches&&e.touches.length?e.touches:[e])[0],g=e.clientX,m=e.clientY}),u.on("touchcancel",function(e){d()}),u.on("touchend",function(t){var n=Date.now()-h,p=t.originalEvent||t,v=(p.changedTouches&&p.changedTouches.length?p.changedTouches:p.touches&&p.touches.length?p.touches:[p])[0],w=v.clientX,p=v.clientY,v=Math.sqrt(Math.pow(w-g,2)+Math.pow(p-m,2));y&&n<750&&v<12&&(w=w,p=p,c||(r[0].addEventListener("click",o,!0),r[0].addEventListener("touchstart",a,!0),c=[]),s=Date.now(),i(c,w,p),f&&f.blur(),e.isDefined(l.disabled)&&!1!==l.disabled||u.triggerHandler("click",[t])),d()}),u.onclick=function(e){},u.on("click",function(e,t){n.$apply(function(){v(n,{$event:t||e})})}),u.on("mousedown",function(e){u.addClass(p)}),u.on("mousemove mouseup",function(e){u.removeClass(p)})}}];n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight")}((window,window.angular)),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.position","ui.bootstrap.bindHtml","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e){return"static"===(n="position",((e=e).currentStyle||(t.getComputedStyle?t.getComputedStyle(e):e.style))[n]||"static");var n}return{position:function(t){var r=this.offset(t),i={top:0,left:0},o=function(t){for(var r=e[0],i=t.offsetParent||r;i&&i!==r&&n(i);)i=i.offsetParent;return i||r}(t[0]);return o!=e[0]&&((i=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft),o=t[0].getBoundingClientRect(),{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:r.top-i.top,left:r.left-i.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,n=n.split("-"),o=n[0],a=n[1]||"center",s=r?this.offset(e):this.position(e),c=t.prop("offsetWidth"),u=t.prop("offsetHeight"),l={center:function(){return s.left+s.width/2-c/2},left:function(){return s.left},right:function(){return s.left+s.width}},d={center:function(){return s.top+s.height/2-u/2},top:function(){return s.top},bottom:function(){return s.top+s.height}};switch(o){case"right":i={top:d[a](),left:l[o]()};break;case"left":i={top:d[a](),left:s.left-c};break;case"bottom":i={top:d[o](),left:l[a]()};break;default:i={top:s.top-u,left:l[a]()}}return i}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(c,u,l,d){function p(){$.matches=[],$.activeIdx=-1,u.attr("aria-expanded",!1)}function f(e){return S+"-option-"+e}function h(e){var t={$viewValue:e};_(c,!0),n.when(k.source(c,t)).then(function(n){var r=e===d.$viewValue;if(r&&v)if(0<n.length){$.activeIdx=E?0:-1;for(var i=$.matches.length=0;i<n.length;i++)t[k.itemName]=n[i],$.matches.push({id:f(i),label:k.viewMapper($,t),model:n[i]});$.query=e,$.position=C?o.offset(u):o.position(u),$.position.top=$.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else p();r&&_(c,!1)},function(){p(),_(c,!1)})}function g(){I&&r.cancel(I)}function m(e){u[0]!==e.target&&(p(),$.$digest())}var v,y=c.$eval(l.typeaheadMinLength)||1,w=c.$eval(l.typeaheadWaitMs)||0,b=!1!==c.$eval(l.typeaheadEditable),_=t(l.typeaheadLoading).assign||angular.noop,x=t(l.typeaheadOnSelect),A=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):void 0,C=!!l.typeaheadAppendToBody&&c.$eval(l.typeaheadAppendToBody),E=!1!==c.$eval(l.typeaheadFocusFirst),T=t(l.ngModel).assign,k=a.parse(l.typeahead),$=c.$new();c.$on("$destroy",function(){$.$destroy()});var S="typeahead-"+$.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var q=angular.element("<div typeahead-popup></div>");q.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&q.attr("template-url",l.typeaheadTemplateUrl),$.$watch("activeIdx",function(e){e<0?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",f(e))});var I;p(),$.query=void 0,d.$parsers.unshift(function(e){var t;return v=!0,e&&e.length>=y?0<w?(g(),t=e,I=r(function(){h(t)},w)):h(e):(_(c,!1),g(),p()),b?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n={};return A?(n.$model=e,A(c,n)):(n[k.itemName]=e,t=k.viewMapper(c,n),n[k.itemName]=void 0,t!==k.viewMapper(c,n)?t:e)}),$.select=function(e){var t,n={};n[k.itemName]=t=$.matches[e].model,e=k.modelMapper(c,n),T(c,e),d.$setValidity("editable",!0),x(c,{$item:t,$model:e,$label:k.viewMapper(c,n)}),p(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==$.matches.length&&-1!==s.indexOf(e.which)&&(-1!=$.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?($.activeIdx=($.activeIdx+1)%$.matches.length,$.$digest()):38===e.which?($.activeIdx=(0<$.activeIdx?$.activeIdx:$.matches.length)-1,$.$digest()):13===e.which||9===e.which?$.$apply(function(){$.select($.activeIdx)}):27===e.which&&(e.stopPropagation(),p(),$.$digest()))}),u.bind("blur",function(e){v=!1}),i.bind("click",m),c.$on("$destroy",function(){i.unbind("click",m),C&&M.remove()});var M=e(q)($);C?i.find("body").append(M):u.after(M)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return 0<e.matches.length},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){a=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html",e.get(a,{cache:t}).then(function(e){o.replaceWith(n(e.data.trim())(i))})}}}]).filter("typeaheadHighlight",function(){return function(e,t){return t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(e){function t(e,t){return function(n){return s(e.call(this,n),t)}}function n(){}function r(e){o(this,e)}function i(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,i=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,a=e.minutes||e.minute||e.m||0,s=e.seconds||e.second||e.s||0,c=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=c+1e3*s+6e4*a+36e5*o,this._days=i+7*r,this._months=n+12*t,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return e<0?Math.ceil(e):Math.floor(e)}function s(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,r){var i,o,a=t._milliseconds,s=t._days,t=t._months;a&&e._d.setTime(+e._d+a*n),(s||t)&&(i=e.minute(),o=e.hour()),s&&e.date(e.date()+s*n),t&&e.month(e.month()+t*n),a&&!r&&A.updateOffset(e),(s||t)&&(e.minute(i),e.hour(o))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e,t){for(var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,o=0;o<n;o++)~~e[o]!=~~t[o]&&i++;return i+r}function d(e){return e&&(V[e]||e.toLowerCase().replace(/(.)s$/,"$1"))}function p(e){if(!e)return A.fn._lang;if(!T[e]&&k)try{require("./lang/"+e)}catch(e){return A.fn._lang}return T[e]}function f(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var r=5;r--&&I.test(t);)t=t.replace(I,n);return G[t]||(G[t]=function(e){for(var t,n=e.match(q),r=0,i=n.length;r<i;r++)W[n[r]]?n[r]=W[n[r]]:n[r]=(t=n[r]).match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var o="";for(r=0;r<i;r++)o+=n[r]instanceof Function?n[r].call(t,e):n[r];return o}}(t)),G[t](e)}function h(e){var t=((B.exec(e)||[])[0]+"").match(Q)||["-",0,0],e=60*t[1]+~~t[2];return"+"===t[0]?-e:e}function g(e){var t,n,r=[];if(!e._d){for(t=0;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function m(e){var t,n,r=e._f.match(q),i=e._i;for(e._a=[],t=0;t<r.length;t++)(n=(function(e,t){switch(e){case"DDDD":return R;case"YYYY":return F;case"YYYYY":return P;case"S":case"SS":case"SSS":case"DDD":return D;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return O;case"a":case"A":return p(t._l)._meridiemParse;case"X":return U;case"Z":case"ZZ":return B;case"T":return L;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return M;default:return new RegExp(e.replace("\\",""))}}(r[t],e).exec(i)||[])[0])&&(i=i.slice(i.indexOf(n)+n.length)),W[r[t]]&&function(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":i[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":null!=(r=p(n._l).monthsParse(t))?i[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(i[2]=~~t);break;case"YY":i[0]=~~t+(68<~~t?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=p(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=h(t)}null==t&&(n._isValid=!1)}(r[t],n,e);i&&(e._il=i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),!1===e._isPm&&12===e._a[3]&&(e._a[3]=0),g(e)}function v(t){var n=t._i,r=$.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?function(e){var t,n=e._i,r=N.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;t<4;t++)if(H[t][1].exec(n)){e._f+=H[t][0];break}B.exec(n)&&(e._f+=" Z"),m(e)}else e._d=new Date(n)}(t):u(n)?(t._a=n.slice(0),g(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function y(e,t,n){var r=E(Math.abs(e)/1e3),i=E(r/60),o=E(i/60),a=E(o/24),s=E(a/365),s=(r<45?["s",r]:1===i&&["m"])||i<45&&["mm",i]||1===o&&["h"]||o<22&&["hh",o]||1===a&&["d"]||a<=25&&["dd",a]||a<=45&&["M"]||a<345&&["MM",E(a/30)]||1===s&&["y"]||["yy",s];return s[2]=t,s[3]=0<e,s[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply({},s)}function w(e,t,n){return t=n-t,n-=e.day(),t<n&&(n-=7),n<t-7&&(n+=7),n=A(e).add("d",n),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function b(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=p().preparse(t)),A.isMoment(t)?(e=o({},t))._d=new Date(+t._d):(n?u(n)?function(e){for(var t,n,i,a=99,s=0;s<e._f.length;s++)(i=o({},e))._f=e._f[s],m(i),t=new r(i),i=l(i._a,t.toArray()),t._il&&(i+=t._il.length),i<a&&(a=i,n=t);o(e,n)}:m:v)(e),new r(e))}function _(e,t){A.fn[e]=A.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),A.updateOffset(this),this):this._d["get"+n+t]()}}function x(e,t){A.duration.fn["as"+e]=function(){return+this/t}}for(var A,C,E=Math.round,T={},k="undefined"!=typeof module&&module.exports,$=/^\/?Date\((\-?\d+)/i,S=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,q=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,M=/\d\d?/,D=/\d{1,3}/,R=/\d{3}/,F=/\d{1,4}/,P=/[+\-]?\d{1,6}/,O=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,B=/Z|[\+\-]\d\d:?\d\d/i,L=/T/i,U=/[\+\-]?\d+(\.\d{1,3})?/,N=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,H=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Q=/([\+\-]|\d\d)/gi,j="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},V={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},G={},K="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),W={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},YYYYY:function(){return s(this.year(),5)},gg:function(){return s(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return s(this.weekYear(),5)},GG:function(){return s(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return s(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return s(~~(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+s(~~(e/60),2)+":"+s(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+s(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};K.length;)C=K.pop(),W[C+"o"]=function(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}(W[C],C);for(;Y.length;)C=Y.pop(),W[C+C]=t(W[C],2);for(W.DDDD=t(W.DDD,3),n.prototype={set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=A([2e3,t]),n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=A([2e3,1]).day(t),n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){return e=this._calendar[e],"function"==typeof e?e.apply(t):e},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){return e=this._relativeTime[0<e?"future":"past"],"function"==typeof e?e(t):e.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return w(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(A=function(e,t,n){return b({_i:e,_f:t,_l:n,_isUTC:!1})}).utc=function(e,t,n){return b({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},A.unix=function(e){return A(1e3*e)},A.duration=function(e,t){var n=A.isDuration(e),r="number"==typeof e,o=n?e._input:r?{}:e,a=S.exec(e);return r?t?o[t]=e:o.milliseconds=e:a&&(t="-"===a[1]?-1:1,o={y:0,d:~~a[2]*t,h:~~a[3]*t,m:~~a[4]*t,s:~~a[5]*t,ms:~~a[6]*t}),o=new i(o),n&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},A.version="2.1.0",A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",A.updateOffset=function(){},A.lang=function(e,t){if(!e)return A.fn._lang._abbr;var r;t?(r=e,(t=t).abbr=r,T[r]||(T[r]=new n),T[r].set(t),T[r]):T[e]||p(e),A.duration.fn._lang=A.fn._lang=p(e)},A.langData=function(e){return p(e=e&&e._lang&&e._lang._abbr?e._lang._abbr:e)},A.isMoment=function(e){return e instanceof r},A.isDuration=function(e){return e instanceof i},A.fn=r.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return f(A(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!l(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){return e=f(this,e||A.defaultFormat),this.lang().postformat(e)},add:function(e,t){return t="string"==typeof e?A.duration(+t,e):A.duration(e,t),c(this,t,1),this},subtract:function(e,t){return t="string"==typeof e?A.duration(+t,e):A.duration(e,t),c(this,t,-1),this},diff:function(e,t,n){var r,i,o=this._isUTC?A(e).zone(this._offset||0):A(e).local(),e=6e4*(this.zone()-o.zone());return"year"===(t=d(t))||"month"===t?(r=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),i+=(this-A(this).startOf("month")-(o-A(o).startOf("month")))/r,i-=6e4*(this.zone()-A(this).startOf("month").zone()-(o.zone()-A(o).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),n?i:a(i)},from:function(e,t){return A.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(A(),e)},calendar:function(){var e=this.diff(A().startOf("day"),"days",!0),e=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var e=this.year();return e%4==0&&e%100!=0||e%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().weekdaysParse(e))?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?("string"==typeof e&&"number"!=typeof(e=this.lang().monthsParse(e))||(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),A.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=d(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+A(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+A(e).startOf(t)},isSame:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)==+A(e).startOf(t)},min:function(e){return(e=A.apply(null,arguments))<this?this:e},max:function(e){return this<(e=A.apply(null,arguments))?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=h(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,t!==e&&c(this,A.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=E((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=w(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=w(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=w(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(t){return t===e?this._lang:(this._lang=p(t),this)}},C=0;C<j.length;C++)_(j[C].toLowerCase().replace(/s$/,""),j[C]);for(C in _("year","FullYear"),A.fn.days=A.fn.day,A.fn.months=A.fn.month,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.fn.toJSON=A.fn.toISOString,A.duration.fn=i.prototype={_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;r.milliseconds=e%1e3,e=a(e/1e3),
r.seconds=e%60,e=a(e/60),r.minutes=e%60,e=a(e/60),r.hours=e%24,t+=a(e/24),r.days=t%30,n+=a(t/30),r.months=n%12,n=a(n/12),r.years=n},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=y(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){return t=A.duration(e,t),this._milliseconds+=t._milliseconds,this._days+=t._days,this._months+=t._months,this._bubble(),this},subtract:function(e,t){return t=A.duration(e,t),this._milliseconds-=t._milliseconds,this._days-=t._days,this._months-=t._months,this._bubble(),this},get:function(e){return this[(e=d(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=d(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:A.fn.lang},z)z.hasOwnProperty(C)&&(x(C,z[C]),function(e){A.duration.fn[e]=function(){return this._data[e]}}(C.toLowerCase()));x("Weeks",6048e5),A.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},A.lang("en",{ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),k&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this),angular.module("debounce",[]).service("debounce",["$timeout",function(e){return function(t,n,r,i){function o(){c=this,s=arguments;var o=r&&!a;return a&&e.cancel(a),a=e(function(){a=null,r||(u=t.apply(c,s))},n,i),u=o?t.apply(c,s):u}var a,s,c,u;return o.cancel=function(){e.cancel(a),a=null},o}}]).directive("debounce",["debounce","$parse",function(e,t){return{require:"ngModel",priority:999,link:function(n,r,i,o){var a,s,c=t(i.debounce)(n),n=!!t(i.immediate)(n),u=o.$render.bind(o),l=e(function(e){s=!0,o.$$lastCommittedViewValue=a,o.$setViewValue(e),s=!1},parseInt(c,10),n);o.$render=function(){u(),l.cancel(),a=this.$viewValue},o.$parsers.unshift(function(e){return s?a=e:(l(o.$viewValue),a)})}}}]),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,r=e.toLowerCase(),i=0;i<t.length;i++)if(t[i].toLowerCase()==r||n[i].toLowerCase()==r)return i;return-1},Date.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,r=(Date.CultureInfo.shortestDayNames,e.toLowerCase()),i=0;i<t.length;i++)if(t[i].toLowerCase()==r||n[i].toLowerCase()==r)return i;return-1},Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(e,t){return(t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard)[e.toUpperCase()]},Date.getTimezoneAbbreviation=function(e,t){var n,r=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in r)if(r[n]===e)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(e){if(isNaN(this))throw new Error(this);if(e instanceof Date&&!isNaN(e))return e<this?1:this<e?-1:0;throw new TypeError(e)},Date.prototype.equals=function(e){return 0===this.compareTo(e)},Date.prototype.between=function(e,t){var n=this.getTime();return n>=e.getTime()&&n<=t.getTime()},Date.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},Date.prototype.addSeconds=function(e){return this.addMilliseconds(1e3*e)},Date.prototype.addMinutes=function(e){return this.addMilliseconds(6e4*e)},Date.prototype.addHours=function(e){return this.addMilliseconds(36e5*e)},Date.prototype.addDays=function(e){return this.addMilliseconds(864e5*e)},Date.prototype.addWeeks=function(e){return this.addMilliseconds(6048e5*e)},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(e){return this.addMonths(12*e)},Date.prototype.add=function(e){return"number"==typeof e?(this._orient=e,this):((e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this)},Date._validate=function(e,t,n,r){if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(e<t||n<e)throw new RangeError(e+" is not a valid value for "+r+".");return!0},Date.validateMillisecond=function(e){return Date._validate(e,0,999,"milliseconds")},Date.validateSecond=function(e){return Date._validate(e,0,59,"seconds")},Date.validateMinute=function(e){return Date._validate(e,0,59,"minutes")},Date.validateHour=function(e){return Date._validate(e,0,23,"hours")},Date.validateDay=function(e,t,n){return Date._validate(e,1,Date.getDaysInMonth(t,n),"days")},Date.validateMonth=function(e){return Date._validate(e,0,11,"months")},Date.validateYear=function(e){return Date._validate(e,1,9999,"seconds")},Date.prototype.set=function(e){return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4==0&&e%100!=0||e%400==0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(e,t){return e=(e-this.getDay()+7*(t||1))%7,this.addDays(0===e?e+=7*(t||1):e)},Date.prototype.moveToMonth=function(e,t){return e=(e-this.getMonth()+12*(t||1))%12,this.addMonths(0===e?e+=12*(t||1):e)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(e){var t=this.getFullYear(),n=this.getMonth(),r=this.getDate(),i=e||Date.CultureInfo.firstDayOfWeek,e=8-new Date(t,0,1).getDay();return 8==e&&(e=1),r=(Date.UTC(t,n,r,0,0,0)-Date.UTC(t,0,1,0,0,0))/864e5+1,e=Math.floor((r-e+7)/7),e===i&&(t--,e=2==(t=8-new Date(t,0,1).getDay())||8==t?53:52),e},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),e=-6*Number(e)/10;return this.addMinutes(e-t),this},Date.prototype.setTimezone=function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},Date.prototype.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return t<0?(e=(t-1e4).toString())[0]+e.substr(2):"+"+(e=(1e4+t).toString()).substr(1)},Date.prototype.getDayName=function(e){return(e?Date.CultureInfo.abbreviatedDayNames:Date.CultureInfo.dayNames)[this.getDay()]},Date.prototype.getMonthName=function(e){return(e?Date.CultureInfo.abbreviatedMonthNames:Date.CultureInfo.monthNames)[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(e){function t(e){return 1==e.toString().length?"0"+e:e}var n=this;return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return t(n.getHours()<13?n.getHours():n.getHours()-12);case"h":return n.getHours()<13?n.getHours():n.getHours()-12;case"HH":return t(n.getHours());case"H":return n.getHours();case"mm":return t(n.getMinutes());case"m":return n.getMinutes();case"ss":return t(n.getSeconds());case"s":return n.getSeconds();case"yyyy":return n.getFullYear();case"yy":return n.getFullYear().toString().substring(2,4);case"dddd":return n.getDayName();case"ddd":return n.getDayName(!0);case"dd":return t(n.getDate());case"d":return n.getDate().toString();case"MMMM":return n.getMonthName();case"MMM":return n.getMonthName(!0);case"MM":return t(n.getMonth()+1);case"M":return n.getMonth()+1;case"t":return(n.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return n.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var e={};return e[this._dateElement]=this,Date.now().add(e)},Number.prototype.ago=function(){var e={};return e[this._dateElement]=-1*this,Date.now().add(e)},function(){for(var e,t=Date.prototype,n=Number.prototype,r="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),i="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a=0;a<r.length;a++)t[r[a]]=t[r[a].substring(0,3)]=function(e){return function(){return this._is?(this._is=!1,this.getDay()==e):this.moveToDayOfWeek(e,this._orient)}}(a);for(var s=0;s<i.length;s++)t[i[s]]=t[i[s].substring(0,3)]=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}}(s);for(var c=0;c<o.length;c++)t[e=o[c].toLowerCase()]=t[e+"s"]=function(e){return function(){return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}}(o[c]),n[e]=n[e+"s"]=function(e){return function(){return this._dateElement=e,this}}(e)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var r=n.match(t);if(r)return[r[0],n.substring(r[0].length)];throw new e.Exception(n)}},token:function(e){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var n=[],r=null;t.length;){try{r=e.call(this,t)}catch(e){n.push(r[0]),t=r[1];continue}break}return[n,t]}},many:function(e){return function(t){for(var n=[],r=null;t.length;){try{r=e.call(this,t)}catch(r){return[n,t]}n.push(r[0]),t=r[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(n){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(e){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){return[null,e.call(this,t)[1]]}:null},product:function(){for(var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[],i=0;i<e.length;i++)r.push(t.each(e[i],n));return r},cache:function(t){var n={},r=null;return function(i){try{r=n[i]=n[i]||t.call(this,i)}catch(e){r=n[i]=e}if(r instanceof e.Exception)throw r;return r}},any:function(){var t=arguments;return function(n){for(var r=null,i=0;i<t.length;i++)if(null!=t[i]){try{r=t[i].call(this,n)}catch(n){r=null}if(r)return r}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){for(var r=[],i=null,o=0;o<t.length;o++)if(null!=t[o]){try{i=t[o].call(this,n)}catch(r){throw new e.Exception(n)}r.push(i[0]),n=i[1]}return[r,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,1==n.length?n[0]:function(t){for(var o=null,a=null,s=[],c=0;c<n.length;c++){try{o=n[c].call(this,t)}catch(t){break}s.push(o[0]);try{a=r.call(this,o[1])}catch(t){a=null;break}t=a[1]}if(!o)throw new e.Exception(t);if(a)throw new e.Exception(a[1]);if(i)try{o=i.call(this,o[1])}catch(t){throw new e.Exception(o[1])}return[s,o?o[1]:t]}},between:function(e,n,i){i=i||e;var o=t.each(t.ignore(e),n,t.ignore(i));return function(e){return e=o.call(this,e),[[e[0][0],r[0][2]],e[1]]}},list:function(e,n,r){return n=n||t.rtoken(/^\s*/),r=r||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(r)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(r))},set:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,function(o){for(var a,s=null,c=null,u=null,l=[[],o],d=!1,p=0;p<n.length;p++){s=c=null,d=1==n.length;try{s=n[p].call(this,o)}catch(o){continue}if(u=[[s[0]],s[1]],0<s[1].length&&!d)try{c=r.call(this,s[1])}catch(o){d=!0}else d=!0;if(!(d=!d&&0===c[1].length||d)){for(var f=[],h=0;h<n.length;h++)p!=h&&f.push(n[h]);0<(a=t.set(f,r).call(this,c[1]))[0].length&&(u[0]=u[0].concat(a[0]),u[1]=a[1])}if(0===(l=u[1].length<l[1].length?u:l)[1].length)break}if(0===l[0].length)return l;if(i){try{c=i.call(this,l[1])}catch(o){throw new e.Exception(l[1])}l[1]=c[1]}return l}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){return n=e.call(this,n),[t,n[1]]}},process:function(e,t){return function(n){return n=e.call(this,n),[t.call(this,n[0]),n[1]]}},min:function(t,n){return function(r){var i=n.call(this,r);if(i[0].length<t)throw new e.Exception(r);return i}}},n="optional not ignore cache".split(/\s/),i=0;i<n.length;i++)t[n[i]]=function(e){return function(){var t=null,n=[];if(1<arguments.length?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return e.apply(null,arguments);var r=t.shift();return 0<r.length?(t.unshift(r[0]),n.push(e.apply(null,t)),t.shift(),n):void 0}}(t[n[i]]);for(var o="each any all".split(/\s/),a=0;a<o.length;a++)t[o[a]]=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}}(t[o[a]])}(),function(){function e(e){return s[e]=s[e]||i.format(e)[0]}var t=function(e){for(var n=[],r=0;r<e.length;r++)e[r]instanceof Array?n=n.concat(t(e[r])):e[r]&&n.push(e[r]);return n};Date.Grammar={},Date.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?Date.getMonthNumberFromName(e):Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=2<e.length?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];var t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=1,this.hour=0,this.minute=0;for(var n=this.second=0;n<e.length;n++)e[n]&&e[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return t=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),this.timezone?t.set({timezone:this.timezone}):this.timezoneOffset&&t.set({timezoneOffset:this.timezoneOffset}),t},finish:function(e){if(0===(e=e instanceof Array?t(e):[e]).length)return null;for(var n=0;n<e.length;n++)"function"==typeof e[n]&&e[n].call(this);if(this.now)return new Date;var r=Date.today();if(null==this.days&&!this.orient&&!this.operator)return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=r.addDays(Date.getDayNumberFromName(this.weekday)-r.getDay()).getDate()),this.month&&!this.day&&(this.day=1),r.set(this);var i,o,a="past"==this.orient||"subtract"==this.operator?-1:1;return this.weekday&&(this.unit="day",i=Date.getDayNumberFromName(this.weekday)-r.getDay(),o=7,this.days=i?(i+a*o)%o:a*o),this.month&&(this.unit="month",i=this.month-r.getMonth(),o=12,this.months=i?(i+a*o)%o:a*o,this.month=null),this.unit||(this.unit="day"),null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*a),r.add(this)}};var n,r=Date.Parsing.Operators,i=Date.Grammar,o=Date.Translator;i.datePartDelimiter=r.rtoken(/^([\s\-\.\,\/\x27]+)/),i.timePartDelimiter=r.stoken(":"),i.whiteSpace=r.rtoken(/^\s*/),i.generalDelimiter=r.rtoken(/^(([\s\,]|at|on)+)/);var a={};i.ctoken=function(e){var t=a[e];if(!t){for(var n=Date.CultureInfo.regexPatterns,i=e.split(/\s+/),o=[],s=0;s<i.length;s++)o.push(r.replace(r.rtoken(n[i[s]]),i[s]));t=a[e]=r.any.apply(null,o)}return t},i.ctoken2=function(e){return r.rtoken(Date.CultureInfo.regexPatterns[e])},i.h=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),i.hh=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),i.H=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),i.HH=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),i.m=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),i.mm=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),o.minute)),i.s=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),i.ss=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),o.second)),i.hms=r.cache(r.sequence([i.H,i.mm,i.ss],i.timePartDelimiter)),i.t=r.cache(r.process(i.ctoken2("shortMeridian"),o.meridian)),i.tt=r.cache(r.process(i.ctoken2("longMeridian"),o.meridian)),i.z=r.cache(r.process(r.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),o.timezone)),i.zz=r.cache(r.process(r.rtoken(/^(\+|\-)\s*\d\d\d\d/),o.timezone)),i.zzz=r.cache(r.process(i.ctoken2("timezone"),o.timezone)),i.timeSuffix=r.each(r.ignore(i.whiteSpace),r.set([i.tt,i.zzz])),i.time=r.each(r.optional(r.ignore(r.stoken("T"))),i.hms,i.timeSuffix),i.d=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1]|\d)/),r.optional(i.ctoken2("ordinalSuffix"))),o.day)),i.dd=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1])/),r.optional(i.ctoken2("ordinalSuffix"))),o.day)),i.ddd=i.dddd=r.cache(r.process(i.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),i.M=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),i.MM=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d)/),o.month)),i.MMM=i.MMMM=r.cache(r.process(i.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),i.y=r.cache(r.process(r.rtoken(/^(\d\d?)/),o.year)),i.yy=r.cache(r.process(r.rtoken(/^(\d\d)/),o.year)),i.yyy=r.cache(r.process(r.rtoken(/^(\d\d?\d?\d?)/),o.year)),i.yyyy=r.cache(r.process(r.rtoken(/^(\d\d\d\d)/),o.year)),n=function(){return r.each(r.any.apply(null,arguments),r.not(i.ctoken2("timeContext")))},i.day=n(i.d,i.dd),i.month=n(i.M,i.MMM),i.year=n(i.yyyy,i.yy),i.orientation=r.process(i.ctoken("past future"),function(e){return function(){this.orient=e}}),i.operator=r.process(i.ctoken("add subtract"),function(e){return function(){this.operator=e}}),i.rday=r.process(i.ctoken("yesterday tomorrow today now"),o.rday),i.unit=r.process(i.ctoken("minute hour day week month year"),function(e){return function(){this.unit=e}}),i.value=r.process(r.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),i.expression=r.set([i.rday,i.operator,i.value,i.unit,i.orientation,i.ddd,i.MMM]),n=function(){return r.set(arguments,i.datePartDelimiter)},i.mdy=n(i.ddd,i.month,i.day,i.year),i.ymd=n(i.ddd,i.year,i.month,i.day),i.dmy=n(i.ddd,i.day,i.month,i.year),i.date=function(e){return(i[Date.CultureInfo.dateElementOrder]||i.mdy).call(this,e)},i.format=r.process(r.many(r.any(r.process(r.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(i[e])return i[e];throw Date.Parsing.Exception(e)}),r.process(r.rtoken(/^[^dMyhHmstz]+/),function(e){return r.ignore(r.stoken(e))}))),function(e){return r.process(r.each.apply(null,e),o.finishExact)});var s={};i.formats=function(t){if(t instanceof Array){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i]));return r.any.apply(null,n)}return e(t)},i._formats=i.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),i._start=r.process(r.set([i.date,i.time,i.expression],i.generalDelimiter,i.whiteSpace),o.finish),i.start=function(e){try{var t=i._formats.call({},e);if(0===t[1].length)return t}catch(e){}return i._start.call({},e)}}(),Date._parse=Date.parse,Date.parse=function(e){var t=null;if(!e)return null;try{t=Date.Grammar.start.call({},e)}catch(e){return null}return 0===t[1].length?t[0]:null},Date.getParseFunction=function(e){var t=Date.Grammar.formats(e);return function(e){var n=null;try{n=t.call({},e)}catch(e){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(e,t){return Date.getParseFunction(t)(e)};var TimeSpan=function(e,t,n,r,i){for(var o,a="days hours minutes seconds milliseconds".split(/\s+/),s=0;s<a.length;s++){var c=a[s],u=c.slice(0,1).toUpperCase()+c.slice(1);TimeSpan.prototype[c]=0,TimeSpan.prototype["get"+u]=function(e){return function(){return this[e]}}(c),TimeSpan.prototype["set"+u]=function(e){return function(t){return this[e]=t,this}}(c)}return 4==arguments.length?(this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(r)):5==arguments.length?(this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(r),this.setMilliseconds(i)):1==arguments.length&&"number"==typeof e&&(o=e<0?-1:1,this.setMilliseconds(Math.abs(e)),this.setDays(Math.floor(this.getMilliseconds()/864e5)*o),this.setMilliseconds(this.getMilliseconds()%864e5),this.setHours(Math.floor(this.getMilliseconds()/36e5)*o),this.setMilliseconds(this.getMilliseconds()%36e5),this.setMinutes(Math.floor(this.getMilliseconds()/6e4)*o),this.setMilliseconds(this.getMilliseconds()%6e4),this.setSeconds(Math.floor(this.getMilliseconds()/1e3)*o),this.setMilliseconds(this.getMilliseconds()%1e3),this.setMilliseconds(this.getMilliseconds()*o)),this.getTotalMilliseconds=function(){return 864e5*this.getDays()+36e5*this.getHours()+6e4*this.getMinutes()+1e3*this.getSeconds()},this.compareTo=function(e){var t=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),e=null===e?new Date(1970,1,1,0,0,0):new Date(1970,1,1,e.getHours(),e.getMinutes(),e.getSeconds());return t<e?-1:e<t?1:0},this.equals=function(e){return 0===this.compareTo(e)},this.add=function(e){return null===e?this:this.addSeconds(e.getTotalMilliseconds()/1e3)},this.subtract=function(e){return null===e?this:this.addSeconds(-e.getTotalMilliseconds()/1e3)},this.addDays=function(e){return new TimeSpan(this.getTotalMilliseconds()+864e5*e)},this.addHours=function(e){return new TimeSpan(this.getTotalMilliseconds()+36e5*e)},this.addMinutes=function(e){return new TimeSpan(this.getTotalMilliseconds()+6e4*e)},this.addSeconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+1e3*e)},this.addMilliseconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+e)},this.get12HourHour=function(){return 12<this.getHours()?this.getHours()-12:0===this.getHours()?12:this.getHours()},this.getDesignator=function(){return this.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator},this.toString=function(e){this._toString=function(){return null!==this.getDays()&&0<this.getDays()?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())},this.p=function(e){return e.toString().length<2?"0"+e:e};var t=this;return e?e.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(e){switch(e){case"d":return t.getDays();case"dd":return t.p(t.getDays());case"H":return t.getHours();case"HH":return t.p(t.getHours());case"h":return t.get12HourHour();case"hh":return t.p(t.get12HourHour());case"m":return t.getMinutes();case"mm":return t.p(t.getMinutes());case"s":return t.getSeconds();case"ss":return t.p(t.getSeconds());case"t":return(t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()},this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(e,t,n,r,i,o,a){for(var s="years months days hours minutes seconds milliseconds".split(/\s+/),c=0;c<s.length;c++){var u=s[c],l=u.slice(0,1).toUpperCase()+u.slice(1);TimePeriod.prototype[u]=0,TimePeriod.prototype["get"+l]=function(e){return function(){return this[e]}}(u),TimePeriod.prototype["set"+l]=function(e){return function(t){return this[e]=t,this}}(u)}if(7==arguments.length)this.years=e,this.months=t,this.setDays(n),this.setHours(r),this.setMinutes(i),this.setSeconds(o),this.setMilliseconds(a);else if(2==arguments.length&&e instanceof Date&&t instanceof Date){var d=e.clone(),p=t.clone(),f=d.clone(),h=p<d?-1:1;if(this.years=p.getFullYear()-d.getFullYear(),f.addYears(this.years),1==h?p<f&&0!==this.years&&this.years--:f<p&&0!==this.years&&this.years++,d.addYears(this.years),1==h)for(;d<p&&d.clone().addDays(Date.getDaysInMonth(d.getYear(),d.getMonth()))<p;)d.addMonths(1),this.months++;else for(;p<d&&d.clone().addDays(-d.getDaysInMonth())>p;)d.addMonths(-1),this.months--;h=p-d,0!=h&&(h=new TimeSpan(h),this.setDays(h.getDays()),this.setHours(h.getHours()),this.setMinutes(h.getMinutes()),this.setSeconds(h.getSeconds()),this.setMilliseconds(h.getMilliseconds()))}return this};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0==r)return!1;for(var i,o,t=0|t,a=Math.max(0<=t?t:r-Math.abs(t),0);a<r;){if((i=n[a])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;a++}return!1}}),function(e,t){"function"==typeof define&&define.amd?define("Chartist",[],function(){return e.Chartist=t()}):"object"==typeof module&&module.exports?module.exports=t():e.Chartist=t()}(this,function(){var e={version:"0.11.4"};return function(e,t){"use strict";var n=e.window,r=e.document;t.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t.noop=function(e){return e},t.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},t.extend=function(e){var n,r,i;for(e=e||{},n=1;n<arguments.length;n++)for(var o in r=arguments[n])"object"!=typeof(i=r[o])||null===i||i instanceof Array?e[o]=i:e[o]=t.extend(e[o],i);return e},t.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},t.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},t.quantity=function(e){return"string"!=typeof e?{value:e}:(e=/^(\d+)\s*(.*)$/g.exec(e),{value:+e[1],unit:e[2]||void 0})},t.querySelector=function(e){return e instanceof Node?e:r.querySelector(e)},t.times=function(e){return Array.apply(null,new Array(e))},t.sum=function(e,t){return e+(t||0)},t.mapMultiply=function(e){return function(t){return t*e}},t.mapAdd=function(e){return function(t){return t+e}},t.serialMap=function(e,n){var r=[],i=Math.max.apply(null,e.map(function(e){return e.length}));return t.times(i).forEach(function(t,i){var o=e.map(function(e){return e[i]});r[i]=n.apply(null,o)}),r},t.roundWithPrecision=function(e,n){return n=Math.pow(10,n||t.precision),Math.round(e*n)/n},t.precision=8,t.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},t.serialize=function(e){
return null==e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,n,t.escapingMap[n])},e))},t.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,t.escapingMap[n],n)},e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(e){}return e},t.createSvg=function(e,n,r,i){return n=n||"100%",r=r||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(t.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),(i=new t.Svg("svg").attr({width:n,height:r}).addClass(i))._node.style.width=n,i._node.style.height=r,e.appendChild(i._node),i},t.normalizeData=function(e,n,r){var i={raw:e,normalized:{}};return i.normalized.series=t.getDataArray({series:e.series||[]},n,r),r=i.normalized.series.every(function(e){return e instanceof Array})?Math.max.apply(null,i.normalized.series.map(function(e){return e.length})):i.normalized.series.length,i.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(i.normalized.labels,t.times(Math.max(0,r-i.normalized.labels.length)).map(function(){return""})),n&&t.reverseData(i.normalized),i},t.safeHasProperty=function(e,t){return null!==e&&"object"==typeof e&&e.hasOwnProperty(t)},t.isDataHoleValue=function(e){return null==e||"number"==typeof e&&isNaN(e)},t.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},t.getDataArray=function(e,n,r){return e.series.map(function e(n){if(t.safeHasProperty(n,"value"))return e(n.value);if(t.safeHasProperty(n,"data"))return e(n.data);if(n instanceof Array)return n.map(e);if(!t.isDataHoleValue(n)){if(r){var i={};return"string"==typeof r?i[r]=t.getNumberOrUndefined(n):i.y=t.getNumberOrUndefined(n),i.x=n.hasOwnProperty("x")?t.getNumberOrUndefined(n.x):i.x,i.y=n.hasOwnProperty("y")?t.getNumberOrUndefined(n.y):i.y,i}return t.getNumberOrUndefined(n)}})},t.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},t.getMetaData=function(e,t){return t=(e.data||e)[t],t?t.meta:void 0},t.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},t.projectLength=function(e,t,n){return t/n.range*e},t.getAvailableHeight=function(e,n){return Math.max((t.quantity(n.height).value||e.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},t.getHighLow=function(e,n,r){var i={high:void 0===(n=t.extend({},n,r?n["axis"+r.toUpperCase()]:{})).high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},o=void 0===n.high,a=void 0===n.low;return(o||a)&&function e(t){if(void 0!==t)if(t instanceof Array)for(var n=0;n<t.length;n++)e(t[n]);else{var s=r?+t[r]:+t;o&&s>i.high&&(i.high=s),a&&s<i.low&&(i.low=s)}}(e),!n.referenceValue&&0!==n.referenceValue||(i.high=Math.max(n.referenceValue,i.high),i.low=Math.min(n.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(0<i.high||(i.high=1),i.low=0)),i},t.isNumeric=function(e){return null!==e&&isFinite(e)},t.isFalseyButZero=function(e){return!e&&0!==e},t.getNumberOrUndefined=function(e){return t.isNumeric(e)?+e:void 0},t.isMultiValue=function(e){return"object"==typeof e&&("x"in e||"y"in e)},t.getMultiValue=function(e,n){return t.isMultiValue(e)?t.getNumberOrUndefined(e[n||"y"]):t.getNumberOrUndefined(e)},t.rho=function(e){function t(e){return e*e+1}if(1===e)return e;var n,r=2,i=2;if(e%2==0)return 2;for(;r=t(r)%e,i=t(t(i))%e,1===(n=function e(t,n){return t%n==0?n:e(n,t%n)}(Math.abs(r-i),e)););return n},t.getBounds=function(e,n,r,i){function o(e,t){return e===(e+=t)&&(e*=1+(0<t?d:-d)),e}var a,s,c=0,u={high:n.high,low:n.low};u.valueRange=u.high-u.low,u.oom=t.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);var l=t.projectLength(e,u.step,u)<r,n=i?t.rho(u.range):0;if(i&&t.projectLength(e,1,u)>=r)u.step=1;else if(i&&n<u.step&&t.projectLength(e,n,u)>=r)u.step=n;else for(;;){if(l&&t.projectLength(e,u.step,u)<=r)u.step*=2;else{if(l||!(t.projectLength(e,u.step/2,u)>=r))break;if(u.step/=2,i&&u.step%1!=0){u.step*=2;break}}if(1e3<c++)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var d=2.221e-16;for(u.step=Math.max(u.step,d),a=u.min,s=u.max;a+u.step<=u.low;)a=o(a,u.step);for(;s-u.step>=u.high;)s=o(s,-u.step);u.min=a,u.max=s,u.range=u.max-u.min;for(var p=[],f=u.min;f<=u.max;f=o(f,u.step)){var h=t.roundWithPrecision(f);h!==p[p.length-1]&&p.push(h)}return u.values=p,u},t.polarToCartesian=function(e,t,n,r){return r=(r-90)*Math.PI/180,{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},t.createChartRect=function(e,n,r){var i=!(!n.axisX&&!n.axisY),o=i?n.axisY.offset:0,a=i?n.axisX.offset:0,s=e.width()||t.quantity(n.width).value||0,c=e.height()||t.quantity(n.height).value||0,e=t.normalizePadding(n.chartPadding,r),s=Math.max(s,o+e.left+e.right),c=Math.max(c,a+e.top+e.bottom),r={padding:e,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return i?("start"===n.axisX.position?(r.y2=e.top+a,r.y1=Math.max(c-e.bottom,r.y2+1)):(r.y2=e.top,r.y1=Math.max(c-e.bottom-a,r.y2+1)),"start"===n.axisY.position?(r.x1=e.left+o,r.x2=Math.max(s-e.right,r.x1+1)):(r.x1=e.left,r.x2=Math.max(s-e.right-o,r.x1+1))):(r.x1=e.left,r.x2=Math.max(s-e.right,r.x1+1),r.y2=e.top,r.y1=Math.max(c-e.bottom,r.y2+1)),r},t.createGrid=function(e,n,r,i,o,a,s,c){var u={};u[r.units.pos+"1"]=e,u[r.units.pos+"2"]=e,u[r.counterUnits.pos+"1"]=i,u[r.counterUnits.pos+"2"]=i+o,s=a.elem("line",u,s.join(" ")),c.emit("draw",t.extend({type:"grid",axis:r,index:n,group:a,element:s},u))},t.createGridBackground=function(e,t,n,r){n=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0),r.emit("draw",{type:"gridBackground",group:e,element:n})},t.createLabel=function(e,n,i,o,a,s,c,u,l,d,p){var f={};f[a.units.pos]=e+c[a.units.pos],f[a.counterUnits.pos]=c[a.counterUnits.pos],f[a.units.len]=n,f[a.counterUnits.len]=Math.max(0,s-10),l=d?((d=r.createElement("span")).className=l.join(" "),d.setAttribute("xmlns",t.namespaces.xhtml),d.innerText=o[i],d.style[a.units.len]=Math.round(f[a.units.len])+"px",d.style[a.counterUnits.len]=Math.round(f[a.counterUnits.len])+"px",u.foreignObject(d,t.extend({style:"overflow: visible;"},f))):u.elem("text",f,l.join(" ")).text(o[i]),p.emit("draw",t.extend({type:"label",axis:a,index:i,group:u,element:l,text:o[i]},f))},t.getSeriesOption=function(e,t,n){return e.name&&t.series&&t.series[e.name]?(e=t.series[e.name],(e.hasOwnProperty(n)?e:t)[n]):t[n]},t.optionsProvider=function(e,r,i){function o(e){var o=a;if(a=t.extend({},c),r)for(s=0;s<r.length;s++)n.matchMedia(r[s][0]).matches&&(a=t.extend(a,r[s][1]));i&&e&&i.emit("optionsChanged",{previousOptions:o,currentOptions:a})}var a,s,c=t.extend({},e),u=[];if(!n.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(r)for(s=0;s<r.length;s++){var l=n.matchMedia(r[s][0]);l.addListener(o),u.push(l)}return o(),{removeMediaQueryListeners:function(){u.forEach(function(e){e.removeListener(o)})},getCurrentOptions:function(){return t.extend({},a)}}},t.splitIntoSegments=function(e,n,r){r=t.extend({},{increasingX:!1,fillHoles:!1},r);for(var i=[],o=!0,a=0;a<e.length;a+=2)void 0===t.getMultiValue(n[a/2].value)?r.fillHoles||(o=!0):((o=!!(r.increasingX&&2<=a&&e[a]<=e[a-2])||o)&&(i.push({pathCoordinates:[],valueData:[]}),o=!1),i[i.length-1].pathCoordinates.push(e[a],e[a+1]),i[i.length-1].valueData.push(n[a/2]));return i}}(this||global,e),function(e){"use strict";e.Interpolation={},e.Interpolation.none=function(t){return t=e.extend({},{fillHoles:!1},t),function(n,r){for(var i=new e.Svg.Path,o=!0,a=0;a<n.length;a+=2){var s=n[a],c=n[a+1],u=r[a/2];void 0!==e.getMultiValue(u.value)?(o?i.move(s,c,!1,u):i.line(s,c,!1,u),o=!1):t.fillHoles||(o=!0)}return i}},e.Interpolation.simple=function(t){t=e.extend({},{divisor:2,fillHoles:!1},t);var n=1/Math.max(1,t.divisor);return function(r,i){for(var o,a,s,c=new e.Svg.Path,u=0;u<r.length;u+=2){var l=r[u],d=r[u+1],p=(l-o)*n,f=i[u/2];void 0!==f.value?(void 0===s?c.move(l,d,!1,f):c.curve(o+p,a,l-p,d,l,d,!1,f),o=l,a=d,s=f):t.fillHoles||(o=l=s=void 0)}return c}},e.Interpolation.cardinal=function(t){t=e.extend({},{tension:1,fillHoles:!1},t);var n=Math.min(1,Math.max(0,t.tension)),r=1-n;return function i(o,a){var s=e.splitIntoSegments(o,a,{fillHoles:t.fillHoles});if(s.length){if(1<s.length){var c=[];return s.forEach(function(e){c.push(i(e.pathCoordinates,e.valueData))}),e.Svg.Path.join(c)}if(o=s[0].pathCoordinates,a=s[0].valueData,o.length<=4)return e.Interpolation.none()(o,a);for(var u=(new e.Svg.Path).move(o[0],o[1],!1,a[0]),l=0,d=o.length;l<d-2;l+=2){var p=[{x:+o[l-2],y:+o[l-1]},{x:+o[l],y:+o[l+1]},{x:+o[l+2],y:+o[l+3]},{x:+o[l+4],y:+o[l+5]}];d-4===l?p[3]=p[2]:l||(p[0]={x:+o[l],y:+o[l+1]}),u.curve(n*(-p[0].x+6*p[1].x+p[2].x)/6+r*p[2].x,n*(-p[0].y+6*p[1].y+p[2].y)/6+r*p[2].y,n*(p[1].x+6*p[2].x-p[3].x)/6+r*p[2].x,n*(p[1].y+6*p[2].y-p[3].y)/6+r*p[2].y,p[2].x,p[2].y,!1,a[(l+2)/2])}return u}return e.Interpolation.none()([])}},e.Interpolation.monotoneCubic=function(t){return t=e.extend({},{fillHoles:!1},t),function n(r,i){var o=e.splitIntoSegments(r,i,{fillHoles:t.fillHoles,increasingX:!0});if(o.length){if(1<o.length){var a=[];return o.forEach(function(e){a.push(n(e.pathCoordinates,e.valueData))}),e.Svg.Path.join(a)}if(r=o[0].pathCoordinates,i=o[0].valueData,r.length<=4)return e.Interpolation.none()(r,i);for(var s,c=[],u=[],l=r.length/2,d=[],p=[],f=[],h=[],g=0;g<l;g++)c[g]=r[2*g],u[g]=r[2*g+1];for(g=0;g<l-1;g++)f[g]=u[g+1]-u[g],h[g]=c[g+1]-c[g],p[g]=f[g]/h[g];for(d[0]=p[0],d[l-1]=p[l-2],g=1;g<l-1;g++)0===p[g]||0===p[g-1]||0<p[g-1]!=0<p[g]?d[g]=0:(d[g]=3*(h[g-1]+h[g])/((2*h[g]+h[g-1])/p[g-1]+(h[g]+2*h[g-1])/p[g]),isFinite(d[g])||(d[g]=0));for(s=(new e.Svg.Path).move(c[0],u[0],!1,i[0]),g=0;g<l-1;g++)s.curve(c[g]+h[g]/3,u[g]+d[g]*h[g]/3,c[g+1]-h[g]/3,u[g+1]-d[g+1]*h[g]/3,c[g+1],u[g+1],!1,i[g+1]);return s}return e.Interpolation.none()([])}},e.Interpolation.step=function(t){return t=e.extend({},{postpone:!0,fillHoles:!1},t),function(n,r){for(var i,o,a,s=new e.Svg.Path,c=0;c<n.length;c+=2){var u=n[c],l=n[c+1],d=r[c/2];void 0!==d.value?(void 0===a?s.move(u,l,!1,d):(t.postpone?s.line(u,o,!1,a):s.line(i,l,!1,d),s.line(u,l,!1,d)),i=u,o=l,a=d):t.fillHoles||(i=o=a=void 0)}return s}}}((this||global,e)),function(){"use strict";e.EventEmitter=function(){var e=[];return{addEventHandler:function(t,n){e[t]=e[t]||[],e[t].push(n)},removeEventHandler:function(t,n){e[t]&&(n?(e[t].splice(e[t].indexOf(n),1),0===e[t].length&&delete e[t]):delete e[t])},emit:function(t,n){e[t]&&e[t].forEach(function(e){e(n)}),e["*"]&&e["*"].forEach(function(e){e(t,n)})}}}}(this||global),function(e){"use strict";e.Class={extend:function(t,n){var n=n||this.prototype||e.Class,r=Object.create(n);return e.Class.cloneDefinitions(r,t),(t=function(){var t=r.constructor||function(){},n=this===e?Object.create(r):this;return t.apply(n,Array.prototype.slice.call(arguments,0)),n}).prototype=r,t.super=n,t.extend=this.extend,t},cloneDefinitions:function(){var e=function(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}),t}}}((this||global,e)),function(e,t){"use strict";var n=e.window;t.Base=t.Class.extend({constructor:function(e,r,i,o,a){this.container=t.querySelector(e),this.data=r||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=i,this.options=o,this.responsiveOptions=a,this.eventEmitter=t.EventEmitter(),this.supportsForeignObject=t.Svg.isSupported("Extensibility"),this.supportsAnimations=t.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(function(){n.addEventListener("resize",this.resizeListener),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(e,n,r){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=t.extend({},r?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?n.clearTimeout(this.initializeTimeoutId):(n.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(e,t){return this.eventEmitter.addEventHandler(e,t),this},off:function(e,t){return this.eventEmitter.removeEventHandler(e,t),this},version:t.version,supportsForeignObject:!1})}(this||global,e),function(e,t){"use strict";var n=e.document;t.Svg=t.Class.extend({constructor:function(e,r,i,o,a){e instanceof Element?this._node=e:(this._node=n.createElementNS(t.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":t.namespaces.ct})),r&&this.attr(r),i&&this.addClass(i),o&&(a&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))},attr:function(e,n){return"string"==typeof e?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(n){var r;void 0!==e[n]&&(-1!==n.indexOf(":")?(r=n.split(":"),this._node.setAttributeNS(t.namespaces[r[0]],n,e[n])):this._node.setAttribute(n,e[n]))}.bind(this)),this)},elem:function(e,n,r,i){return new t.Svg(e,n,r,this,i)},parent:function(){return this._node.parentNode instanceof SVGElement?new t.Svg(this._node.parentNode):null},root:function(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new t.Svg(e)},querySelector:function(e){return(e=this._node.querySelector(e))?new t.Svg(e):null},querySelectorAll:function(e){return(e=this._node.querySelectorAll(e)).length?new t.Svg.List(e):null},getNode:function(){return this._node},foreignObject:function(e,r,i,o){var a;return"string"==typeof e&&((a=n.createElement("div")).innerHTML=e,e=a.firstChild),e.setAttribute("xmlns",t.namespaces.xmlns),(o=this.elem("foreignObject",r,i,o))._node.appendChild(e),o},text:function(e){return this._node.appendChild(n.createTextNode(e)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(e){return this._node.parentNode.replaceChild(e._node,this._node),e},append:function(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,n){return n.indexOf(e)===t}).join(" ")),this},removeClass:function(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return-1===t.indexOf(e)}).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(e,n,r){return void 0===n&&(n=!0),Object.keys(e).forEach(function(i){function o(e,n){var o,a,s,c={};e.easing&&(s=e.easing instanceof Array?e.easing:t.Svg.Easing[e.easing],delete e.easing),e.begin=t.ensureUnit(e.begin,"ms"),e.dur=t.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),n&&(e.fill="freeze",c[i]=e.from,this.attr(c),a=t.quantity(e.begin||0).value,e.begin="indefinite"),o=this.elem("animate",t.extend({attributeName:i},e)),n&&setTimeout(function(){try{o._node.beginElement()}catch(t){c[i]=e.to,this.attr(c),o.remove()}}.bind(this),a),r&&o._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:o._node,params:e})}.bind(this)),o._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:o._node,params:e}),n&&(c[i]=e.to,this.attr(c),o.remove())}.bind(this))}e[i]instanceof Array?e[i].forEach(function(e){o.bind(this)(e,!1)}.bind(this)):o.bind(this)(e[i],n)}.bind(this)),this}}),t.Svg.isSupported=function(e){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")},t.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},t.Svg.List=t.Class.extend({constructor:function(e){var n=this;this.svgElements=[];for(var r=0;r<e.length;r++)this.svgElements.push(new t.Svg(e[r]));Object.keys(t.Svg.prototype).filter(function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)}).forEach(function(e){n[e]=function(){var r=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach(function(n){t.Svg.prototype[e].apply(n,r)}),n}})}})}(this||global,e),function(e){"use strict";function t(t,n,r,i,o,a){a=e.extend({command:o?t.toLowerCase():t.toUpperCase()},n,a?{data:a}:{}),r.splice(i,0,a)}function n(e,t){e.forEach(function(n,i){r[n.command.toLowerCase()].forEach(function(r,o){t(n,r,i,o,e)})})}var r={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},i={accuracy:3};e.Svg.Path=e.Class.extend({constructor:function(t,n){this.pathElements=[],this.pos=0,this.close=t,this.options=e.extend({},i,n)},position:function(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos},remove:function(e){return this.pathElements.splice(this.pos,e),this},move:function(e,n,r,i){return t("M",{x:+e,y:+n},this.pathElements,this.pos++,r,i),this},line:function(e,n,r,i){return t("L",{x:+e,y:+n},this.pathElements,this.pos++,r,i),this},curve:function(e,n,r,i,o,a,s,c){return t("C",{x1:+e,y1:+n,x2:+r,y2:+i,x:+o,y:+a},this.pathElements,this.pos++,s,c),this},arc:function(e,n,r,i,o,a,s,c,u){return t("A",{rx:+e,ry:+n,xAr:+r,lAf:+i,sf:+o,x:+a,y:+s},this.pathElements,this.pos++,c,u),this},scale:function(e,t){return n(this.pathElements,function(n,r){n[r]*="x"===r[0]?e:t}),this},translate:function(e,t){return n(this.pathElements,function(n,r){n[r]+="x"===r[0]?e:t}),this},transform:function(e){return n(this.pathElements,function(t,n,r,i,o){!(o=e(t,n,r,i,o))&&0!==o||(t[n]=o)}),this},parse:function(t){var n=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);return"Z"===n[n.length-1][0].toUpperCase()&&n.pop(),t=n.map(function(t){var n=t.shift(),i=r[n.toLowerCase()];return e.extend({command:n},i.reduce(function(e,n,r){return e[n]=+t[r],e},{}))}),n=[this.pos,0],Array.prototype.push.apply(n,t),Array.prototype.splice.apply(this.pathElements,n),this.pos+=t.length,this},stringify:function(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var i=r[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(t){return(t=new e.Svg.Path(t||this.close)).pos=this.pos,t.pathElements=this.pathElements.slice().map(function(t){return e.extend({},t)}),t.options=e.extend({},this.options),t},splitByCommand:function(t){var n=[new e.Svg.Path];return this.pathElements.forEach(function(r){r.command===t.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new e.Svg.Path),n[n.length-1].pathElements.push(r)}),n}}),e.Svg.Path.elementDescriptions=r,e.Svg.Path.join=function(t,n,r){for(var i=new e.Svg.Path(n,r),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.pathElements.length;s++)i.pathElements.push(a.pathElements[s]);return i}}((this||global,e)),function(e,t){"use strict";e.window,e.document;var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};t.Axis=t.Class.extend({constructor:function(e,t,r,i){this.units=e,this.counterUnits=e===n.x?n.y:n.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=r,this.options=i},createGridAndLabels:function(e,n,r,i,o){var a=i["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),c=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(u,l){var d={x:0,y:0},p=s[l+1]?s[l+1]-u:Math.max(this.axisLength-u,30);t.isFalseyButZero(c[l])&&""!==c[l]||("x"===this.units.pos?(u=this.chartRect.x1+u,d.x=i.axisX.labelOffset.x,"start"===i.axisX.position?d.y=this.chartRect.padding.top+i.axisX.labelOffset.y+(r?5:20):d.y=this.chartRect.y1+i.axisX.labelOffset.y+(r?5:20)):(u=this.chartRect.y1-u,d.y=i.axisY.labelOffset.y-(r?p:0),"start"===i.axisY.position?d.x=r?this.chartRect.padding.left+i.axisY.labelOffset.x:this.chartRect.x1-10:d.x=this.chartRect.x2+i.axisY.labelOffset.x+10),a.showGrid&&t.createGrid(u,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[i.classNames.grid,i.classNames[this.units.dir]],o),a.showLabel&&t.createLabel(u,p,l,c,this,a.offset,d,n,[i.classNames.label,i.classNames[this.units.dir],"start"===a.position?i.classNames[a.position]:i.classNames.end],r,o))}.bind(this))},projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),t.Axis.units=n}(this||global,e),function(e,t){"use strict";e.window,e.document,t.AutoScaleAxis=t.Axis.extend({constructor:function(e,n,r,i){n=i.highLow||t.getHighLow(n,i,e.pos),this.bounds=t.getBounds(r[e.rectEnd]-r[e.rectStart],n,i.scaleMinSpace||20,i.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},t.AutoScaleAxis.super.constructor.call(this,e,r,this.bounds.values,i)},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}})}(this||global,e),function(e,t){"use strict";e.window,e.document,t.FixedScaleAxis=t.Axis.extend({constructor:function(e,n,r,i){var o=i.highLow||t.getHighLow(n,i,e.pos);this.divisor=i.divisor||1,this.ticks=i.ticks||t.times(this.divisor).map(function(e,t){return o.low+(o.high-o.low)/this.divisor*t}.bind(this)),this.ticks.sort(function(e,t){return e-t}),this.range={min:o.low,max:o.high},t.FixedScaleAxis.super.constructor.call(this,e,r,this.ticks,i),this.stepLength=this.axisLength/this.divisor},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(this||global,e),function(e,t){"use strict";e.window,e.document,t.StepAxis=t.Axis.extend({constructor:function(e,n,r,i){t.StepAxis.super.constructor.call(this,e,r,i.ticks,i),i=Math.max(1,i.ticks.length-(i.stretch?1:0)),this.stepLength=this.axisLength/i},projectValue:function(e,t){return this.stepLength*t}})}(this||global,e),function(e,t){"use strict";e.window,e.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Line=t.Base.extend({constructor:function(e,r,i,o){t.Line.super.constructor.call(this,e,r,n,t.extend({},n,i),o)},createChart:function(e){var r=t.normalizeData(this.data,e.reverseData,!0);this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart);var i=this.svg.elem("g").addClass(e.classNames.gridGroup),o=this.svg.elem("g"),a=this.svg.elem("g").addClass(e.classNames.labelGroup),s=t.createChartRect(this.svg,e,n.padding),c=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,r.normalized.series,s,t.extend({},e.axisX,{ticks:r.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(t,t.Axis.units.x,r.normalized.series,s,e.axisX),u=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,r.normalized.series,s,t.extend({},e.axisY,{high:(t.isNumeric(e.high)?e:e.axisY).high,low:(t.isNumeric(e.low)?e:e.axisY).low})):e.axisY.type.call(t,t.Axis.units.y,r.normalized.series,s,e.axisY);c.createGridAndLabels(i,a,this.supportsForeignObject,e,this.eventEmitter),u.createGridAndLabels(i,a,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(i,s,e.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,i){var a=o.elem("g");a.attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),a.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(i)].join(" "));var l=[],d=[];r.normalized.series[i].forEach(function(e,o){var a={x:s.x1+c.projectValue(e,o,r.normalized.series[i]),y:s.y1-u.projectValue(e,o,r.normalized.series[i])};l.push(a.x,a.y),d.push({value:e,valueIndex:o,meta:t.getMetaData(n,o)})}.bind(this));var p,f,h={lineSmooth:t.getSeriesOption(n,e,"lineSmooth"),showPoint:t.getSeriesOption(n,e,"showPoint"),showLine:t.getSeriesOption(n,e,"showLine"),showArea:t.getSeriesOption(n,e,"showArea"),areaBase:t.getSeriesOption(n,e,"areaBase")},g=("function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?t.Interpolation.monotoneCubic():t.Interpolation.none())(l,d);h.showPoint&&g.pathElements.forEach(function(r){var o=a.elem("line",{x1:r.x,y1:r.y,x2:r.x+.01,y2:r.y},e.classNames.point).attr({"ct:value":[r.data.value.x,r.data.value.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(r.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:r.data.value,index:r.data.valueIndex,meta:r.data.meta,series:n,seriesIndex:i,axisX:c,axisY:u,group:a,element:o,x:r.x,y:r.y})}.bind(this)),h.showLine&&(p=a.elem("path",{d:g.stringify()},e.classNames.line,!0),this.eventEmitter.emit("draw",{type:"line",values:r.normalized.series[i],path:g.clone(),chartRect:s,index:i,series:n,seriesIndex:i,seriesMeta:n.meta,axisX:c,axisY:u,group:a,element:p})),h.showArea&&u.range&&(h=Math.max(Math.min(h.areaBase,u.range.max),u.range.min),f=s.y1-u.projectValue(h),g.splitByCommand("M").filter(function(e){return 1<e.pathElements.length}).map(function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,f).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,f)}).forEach(function(t){var o=a.elem("path",{d:t.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:r.normalized.series[i],path:t.clone(),series:n,seriesIndex:i,axisX:c,axisY:u,chartRect:s,index:i,group:a,element:o})}.bind(this)))}.bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:s,axisX:c,axisY:u,svg:this.svg,options:e})}})}(this||global,e),function(e,t){"use strict";e.window,e.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Bar=t.Base.extend({constructor:function(e,r,i,o){t.Bar.super.constructor.call(this,e,r,n,t.extend({},n,i),o)},createChart:function(e){var r;e.distributeSeries?(r=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=r.normalized.series.map(function(e){return[e]}):r=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var i,o=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);(i=e.stackBars&&0!==r.normalized.series.length?(f=t.serialMap(r.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}},{x:0,y:0})}),t.getHighLow([f],e,e.horizontalBars?"x":"y")):t.getHighLow(r.normalized.series,e,e.horizontalBars?"x":"y")).high=+e.high||(0===e.high?0:i.high),i.low=+e.low||(0===e.low?0:i.low);var c,u,l,d,p=t.createChartRect(this.svg,e,n.padding),f=e.distributeSeries&&e.stackBars?r.normalized.labels.slice(0,1):r.normalized.labels;e.horizontalBars?(c=l=void 0===e.axisX.type?new t.AutoScaleAxis(t.Axis.units.x,r.normalized.series,p,t.extend({},e.axisX,{highLow:i,referenceValue:0})):e.axisX.type.call(t,t.Axis.units.x,r.normalized.series,p,t.extend({},e.axisX,{highLow:i,referenceValue:0})),u=d=void 0===e.axisY.type?new t.StepAxis(t.Axis.units.y,r.normalized.series,p,{ticks:f}):e.axisY.type.call(t,t.Axis.units.y,r.normalized.series,p,e.axisY)):(u=l=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,r.normalized.series,p,{ticks:f}):e.axisX.type.call(t,t.Axis.units.x,r.normalized.series,p,e.axisX),c=d=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,r.normalized.series,p,t.extend({},e.axisY,{highLow:i,referenceValue:0
})):e.axisY.type.call(t,t.Axis.units.y,r.normalized.series,p,t.extend({},e.axisY,{highLow:i,referenceValue:0})));var h=e.horizontalBars?p.x1+c.projectValue(0):p.y1-c.projectValue(0),g=[];u.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(o,p,e.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,i){var o=i-(r.raw.series.length-1)/2,s=e.distributeSeries&&!e.stackBars?u.axisLength/r.normalized.series.length/2:e.distributeSeries&&e.stackBars?u.axisLength/2:u.axisLength/r.normalized.series[i].length/2,f=a.elem("g");f.attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),f.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(i)].join(" ")),r.normalized.series[i].forEach(function(a,m){var v,y=e.distributeSeries&&!e.stackBars?i:e.distributeSeries&&e.stackBars?0:m,w=e.horizontalBars?{x:p.x1+c.projectValue(a&&a.x?a.x:0,m,r.normalized.series[i]),y:p.y1-u.projectValue(a&&a.y?a.y:0,y,r.normalized.series[i])}:{x:p.x1+u.projectValue(a&&a.x?a.x:0,y,r.normalized.series[i]),y:p.y1-c.projectValue(a&&a.y?a.y:0,m,r.normalized.series[i])};u instanceof t.StepAxis&&(u.options.stretch||(w[u.units.pos]+=s*(e.horizontalBars?-1:1)),w[u.units.pos]+=e.stackBars||e.distributeSeries?0:o*e.seriesBarDistance*(e.horizontalBars?-1:1)),v=g[m]||h,g[m]=v-(h-w[u.counterUnits.pos]),void 0!==a&&((y={})[u.units.pos+"1"]=w[u.units.pos],y[u.units.pos+"2"]=w[u.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(y[u.counterUnits.pos+"1"]=h,y[u.counterUnits.pos+"2"]=w[u.counterUnits.pos]):(y[u.counterUnits.pos+"1"]=v,y[u.counterUnits.pos+"2"]=g[m]),y.x1=Math.min(Math.max(y.x1,p.x1),p.x2),y.x2=Math.min(Math.max(y.x2,p.x1),p.x2),y.y1=Math.min(Math.max(y.y1,p.y2),p.y1),y.y2=Math.min(Math.max(y.y2,p.y2),p.y1),w=t.getMetaData(n,m),v=f.elem("line",y,e.classNames.bar).attr({"ct:value":[a.x,a.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(w)}),this.eventEmitter.emit("draw",t.extend({type:"bar",value:a,index:m,meta:w,series:n,seriesIndex:i,axisX:l,axisY:d,chartRect:p,group:f,element:v},y)))}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:p,axisX:l,axisY:d,svg:this.svg,options:e})}})}(this||global,e),function(e,t){"use strict";function n(e,t,n){return e=t.x>e.x,e&&"explode"===n||!e&&"implode"===n?"start":e&&"implode"===n||!e&&"explode"===n?"end":"middle"}e.window,e.document;var r={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:t.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};t.Pie=t.Base.extend({constructor:function(e,n,i,o){t.Pie.super.constructor.call(this,e,n,r,t.extend({},r,i),o)},createChart:function(e){var i,o,a,s,c,u=t.normalizeData(this.data),l=[],d=e.startAngle;this.svg=t.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),o=t.createChartRect(this.svg,e,r.padding),a=Math.min(o.width()/2,o.height()/2),c=e.total||u.normalized.series.reduce(function(e,t){return e+t},0);var p=t.quantity(e.donutWidth);"%"===p.unit&&(p.value*=a/100),a-=e.donut&&!e.donutSolid?p.value/2:0,s="outside"===e.labelPosition||e.donut&&!e.donutSolid?a:"center"===e.labelPosition?0:e.donutSolid?a-p.value/2:a/2,s+=e.labelOffset;var f={x:o.x1+o.width()/2,y:o.y2+o.height()/2},h=1===u.raw.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;u.raw.series.forEach(function(e,t){l[t]=this.svg.elem("g",null,null)}.bind(this)),e.showLabel&&(i=this.svg.elem("g",null,null)),u.raw.series.forEach(function(r,o){var g,m,v,y,w;0===u.normalized.series[o]&&e.ignoreEmptyValues||(l[o].attr({"ct:series-name":r.name}),l[o].addClass([e.classNames.series,r.className||e.classNames.series+"-"+t.alphaNumerate(o)].join(" ")),359.99<=(g=0<c?d+u.normalized.series[o]/c*360:0)-(y=Math.max(0,d-(0===o||h?0:.2)))&&(g=y+359.99),m=t.polarToCartesian(f.x,f.y,a,y),v=t.polarToCartesian(f.x,f.y,a,g),y=new t.Svg.Path(!e.donut||e.donutSolid).move(v.x,v.y).arc(a,a,0,180<g-d,0,m.x,m.y),e.donut?e.donutSolid&&(v=a-p.value,m=t.polarToCartesian(f.x,f.y,v,d-(0===o||h?0:.2)),w=t.polarToCartesian(f.x,f.y,v,g),y.line(m.x,m.y),y.arc(v,v,0,180<g-d,1,w.x,w.y)):y.line(f.x,f.y),w=e.classNames.slicePie,e.donut&&(w=e.classNames.sliceDonut,e.donutSolid&&(w=e.classNames.sliceDonutSolid)),(w=l[o].elem("path",{d:y.stringify()},w)).attr({"ct:value":u.normalized.series[o],"ct:meta":t.serialize(r.meta)}),e.donut&&!e.donutSolid&&(w._node.style.strokeWidth=p.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:u.normalized.series[o],totalDataSum:c,index:o,meta:r.meta,series:r,group:l[o],element:w,path:y.clone(),center:f,radius:a,startAngle:d,endAngle:g}),e.showLabel&&(r=1===u.raw.series.length?{x:f.x,y:f.y}:t.polarToCartesian(f.x,f.y,s,d+(g-d)/2),w=(u.normalized.labels&&!t.isFalseyButZero(u.normalized.labels[o])?u.normalized.labels:u.normalized.series)[o],!(y=e.labelInterpolationFnc(w,o))&&0!==y||(w=i.elem("text",{dx:r.x,dy:r.y,"text-anchor":n(f,r,e.labelDirection)},e.classNames.label).text(""+y),this.eventEmitter.emit("draw",{type:"label",index:o,group:i,element:w,text:""+y,x:r.x,y:r.y}))),d=g)}.bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:e})},determineAnchorPosition:n})}(this||global,e),e}),function(){angular.module("ct.widgets",["ng","ngTouch","facebook","debounce","ui.bootstrap.typeahead","ngSanitize"]).constant("ctWidgetEventName","ct-widget-event")}.call(this),angular.module("ct.widgets").run(["$templateCache",function(e){e.put("/account_overview/v1/account_overview.html",'<div id="account-overview" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div class="user-container"><div class="user-info"><img ng-src="{{ user.photoUrl(50, 50) }}" alt="Profile Picture" class="bp0 profile-pic"/><img ng-src="{{ user.photoUrl(50, 50) }}" alt="Profile Picture" class="bp1 profile-pic"/><img ng-src="{{ user.photoUrl(80, 80) }}" alt="Profile Picture" class="bp2 profile-pic"/></div><div class="points-info"><div class="name">{{ user.first_name }} {{ user.last_name }}</div><div class="redeemable-points ct-points-color"><span ng-bind-html="\'text.redeemable points acct overview widget\' | ctText:{points:(user.redeemable_points | number)} " class="flash-points"></span></div><div class="points ct-points-color flash-points">{{ user.redeemable_points | ctPoints }}</div><div class="fan-level"><img ng-src="{{ user.fanLevelInfo(fanLevels).image_url }}" alt="Fan Level" class="icon"/><div class="small">{{ user.fanLevel(fanLevels) }}</div><div ng-if="user.fanLevelInfo(fanLevels).velocity &gt; 1" class="velocity ct-points-color">{{ user.fanLevelInfo(fanLevels).velocity | ctPoints:{isMultiplier: true} }}</div></div><a ng-click="logout()" title="Log out" class="logout-link ct-link-color mini">{{ \'link.log out link\' | ctText }}<i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" class="fa logout-spinner"></i></a></div></div><div class="progress-bar-container"><div ng-bind-html="\'text.lifetime points\' | ctText" class="lifetime-points"></div><ct-progress-bar flash-expression="user.total_points" percentage="user.percentageOfNextFanLevelComplete(fanLevels)"><span>{{ user.getScore() | number }}</span></ct-progress-bar><div class="fan-level-progress-details"><span class="fan-level small">{{ user.fanLevel(fanLevels) }}<span ng-if="user.isMaxFanLevel(fanLevels)" class="max-level">({{ \'text.max fan level\' | ctText }})</span></span><span ng-if="!user.isMaxFanLevel(fanLevels)" class="fan-level-progress"><span class="ct-points-color">{{ user.pointsTilNextFanLevel(fanLevels) | ctPoints }}&nbsp;</span><span ng-bind-html="\'word.to\' | ctText"></span><span>&nbsp;</span><span>{{ user.nextFanLevel(fanLevels) }}</span></span><span class="fan-level-is-max"></span></div><div class="logout-link-container"><a ng-click="logout()" title="Log out" class="logout-link ct-link-color">{{ \'link.log out link\' | ctText }}<i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" class="fa logout-spinner"></i></a></div></div></div></div>'),e.put("/account_overview/v2/account_overview.html",'<div id="account-overview-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><section class="user-container"><div class="user-info"><img ng-src="{{ user.photoUrl(50, 50) }}" alt="Profile Picture" class="bp0 profile-pic"/><img ng-src="{{ user.photoUrl(50, 50) }}" alt="Profile Picture" class="bp1 profile-pic"/><img ng-src="{{ user.photoUrl(80, 80) }}" alt="Profile Picture" class="bp2 profile-pic"/></div><div class="points-info"><div class="name">{{ user.first_name }} {{ user.last_name }}</div><div class="redeemable-points ct-points-color"><span ng-bind-html="\'text.redeemable points acct overview widget\' | ctText:{points:(user.redeemable_points | number)} " class="flash-points"></span></div><div class="points ct-points-color flash-points">{{ user.redeemable_points | ctPoints }}</div><div class="fan-level"><img ng-src="{{ user.fanLevelInfo(fanLevels).image_url }}" alt="Fan Level" class="icon"/><div class="small">{{ user.fanLevel(fanLevels) }}</div><div ng-if="user.fanLevelInfo(fanLevels).velocity &gt; 1" class="velocity ct-points-color">{{ user.fanLevelInfo(fanLevels).velocity | ctPoints:{isMultiplier: true} }}</div></div><a ng-click="logout()" title="Log out" href="#" class="logout-link ct-link-color mini">{{ \'link.log out link\' | ctText }}<i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" aria-hidden="true" class="fa logout-spinner"></i></a></div></section><section aria-labelledby="title-lifetime-points" class="progress-bar-container"><div ng-bind-html="\'text.lifetime points\' | ctText" id="title-lifetime-points" class="lifetime-points"></div><ct-progress-bar flash-expression="user.total_points" percentage="user.percentageOfNextFanLevelComplete(fanLevels)" aria-hidden="true">{{ user.getScore() | number }}</ct-progress-bar><div class="fan-level-progress-details"><span class="fan-level small">{{ user.fanLevel(fanLevels) }}<span ng-if="user.isMaxFanLevel(fanLevels)" class="max-level">{{ \'text.max fan level\' | ctText }}</span></span><span ng-if="!user.isMaxFanLevel(fanLevels)" class="fan-level-progress"><span class="ct-points-color">{{ user.pointsTilNextFanLevel(fanLevels) | ctPoints }}&nbsp;</span><span ng-bind-html="\'word.to\' | ctText"></span><span>&nbsp;</span><span>{{ user.nextFanLevel(fanLevels) }}</span></span><span class="fan-level-is-max"></span></div><div class="logout-link-container"><a ng-click="logout()" title="Log out" href="#" class="logout-link ct-link-color">{{ \'link.log out link\' | ctText }}<i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" aria-hidden="true" class="fa logout-spinner"></i></a></div></section></div></div>'),e.put("/account_settings/v1/account_settings.html",'<div id="account-settings" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div class="account-settings"><form name="profileForm" ng-submit="saveProfileDetails()" novalidate="novalidate" class="primary-settings"><button type="button" ng-disabled="profileEditEnabled || passwordEditEnabled" ng-click="toggleProfileEdit()" ng-bind-html="\'word.edit\' | ctText" class="edit"></button><div class="input-group first-name"><label for="first-name" ng-bind-html="\'label.first name\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.first_name }}</p><input id="first-name" name="firstName" ng-show="profileEditEnabled" ng-model="user.first_name" required="required"/><div ng-if="profileForm.firstName.$dirty &amp;&amp; profileForm.firstName.$error.required" ng-bind-html="\'error.first name required\' | ctText" class="error"></div></div><div class="input-group last-name"><label for="last-name" ng-bind-html="\'label.last name\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.last_name }}</p><input id="last-name" name="lastName" ng-show="profileEditEnabled" ng-model="user.last_name" required="required"/><div ng-if="profileForm.lastName.$dirty &amp;&amp; profileForm.lastName.$error.required" ng-bind-html="\'error.last name required\' | ctText" class="error"></div></div><div class="input-group username"><label for="username" ng-bind-html="\'label.username\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.username }}</p><input id="username" name="userName" ng-show="profileEditEnabled" ng-model="user.username" required="required"/><div ng-if="profileForm.userName.$dirty &amp;&amp; profileForm.userName.$error.required" ng-bind-html="\'error.username required\' | ctText" class="error"></div></div><div class="input-group email"><label ng-bind-html="\'label.email address\' | ctText"></label><p>{{ user.email_address }}<em ng-if="!user.email_is_verified" ng-bind-html="\' (\' + (\'word.unverified\' | ctText) + \')\'"></em></p></div><div class="input-group phone"><label for="phone" ng-bind-html="\'label.mobile phone number\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.mobile_phone_number | ctPhone }}</p><input id="phone" ng-show="profileEditEnabled" ng-model="user.mobile_phone_number" type="tel"/></div><div class="input-group birthday"><label ng-bind-html="\'label.date of birth\' | ctText"></label><p ng-hide="profileEditEnabled">{{ formatBirthday() }}</p><div ng-show="profileEditEnabled" class="birthday-fields"><select ng-model="user.date_of_birth.month" title="Month" class="month"><option value="" ng-selected="true" ng-bind-html="\'label.select month\' | ctText"></option><option ng-value="1">{{ 1 | ctMonth }}</option><option ng-value="2">{{ 2 | ctMonth }}</option><option ng-value="3">{{ 3 | ctMonth }}</option><option ng-value="4">{{ 4 | ctMonth }}</option><option ng-value="5">{{ 5 | ctMonth }}</option><option ng-value="6">{{ 6 | ctMonth }}</option><option ng-value="7">{{ 7 | ctMonth }}</option><option ng-value="8">{{ 8 | ctMonth }}</option><option ng-value="9">{{ 9 | ctMonth }}</option><option ng-value="10">{{ 10 | ctMonth }}</option><option ng-value="11">{{ 11 | ctMonth }}</option><option ng-value="12">{{ 12 | ctMonth }}</option></select><input name="day" type="number" min="1" max="31" ng-model="user.date_of_birth.day" placeholder="Day" title="Day" class="day"/><input name="year" type="number" min="1900" ng-model="user.date_of_birth.year" placeholder="Year" title="Year" class="year"/></div><div ng-if="(profileForm.day.$dirty || profileForm.year.$dirty) &amp;&amp; (profileForm.day.$invalid || profileForm.year.$invalid)" ng-bind-html="\'error.invalid date\' | ctText" class="error"></div></div><div ng-if="!client.enable_us_only" class="input-group country"><label for="country" ng-bind-html="\'label.country\' | ctText"></label><p ng-hide="profileEditEnabled">{{ location.getCountryName(user.country_id) }}</p><select id="country" ng-show="profileEditEnabled" ng-model="user.country_id" ng-change="clearCityFields()" ng-options="convertToInt(country.country_id) as country.country_name for country in location.countries"></select></div><div ng-if="showPostalCode()" class="input-group postal-code"><label for="postal-code" ng-bind-html="\'label.postal code\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.postal_code }}</p><input id="postal-code" ng-show="profileEditEnabled" ng-model="user.postal_code"/></div><div ng-if="showCity()" class="input-group city"><label ng-bind-html="\'label.city\' | ctText"></label><p ng-hide="profileEditEnabled">{{ user.city }}</p><ct-suggest ng-show="profileEditEnabled" ng-model="city" on-select-callback="setCity(city)" url="/location/city?cid={{user.country_id}}&amp;query=" show-property="name" limit="3"></ct-suggest></div><div ng-if="languagePref.getSize() &gt; 1" class="input-group language"><label for="language" ng-bind-html="\'label.language preference\' | ctText"></label><p ng-hide="profileEditEnabled">{{ languagePref.getLanguageName(user.language) }}</p><select id="language" ng-show="profileEditEnabled &amp;&amp; languagePref.getSize() &gt; 1" ng-model="user.language" ng-options="language.language_id as language.language_name for language in languagePref.conf"><option value="" disabled="true" ng-selected="true" ng-bind-html="\'label.select language\' | ctText"></option></select></div><div ng-if="profileEditEnabled" class="error-container"><div ng-if="profileUpdateErrors.postal_code === \'state_restricted\'" ng-bind-html="\'error.postal code update restricted\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.postal_code === \'invalid\'" ng-bind-html="\'error.postal code invalid\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.mobile_phone_number === \'required\'" ng-bind-html="\'error.mobile phone number required\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.mobile_phone_number === \'taken\'" ng-bind-html="\'error.mobile phone number taken\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.date_of_birth" ng-bind-html="\'error.date of birth required\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.city_id &amp;&amp; !user.is_domestic" ng-bind-html="\'error.city invalid\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.username === \'taken\'" ng-bind-html="\'error.username taken\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.username === \'required\'" ng-bind-html="\'error.username required\' | ctText" class="error"></div><div ng-if="profileUpdateErrors.username === \'invalid\'" ng-bind-html="\'error.username invalid\' | ctText" class="error"></div></div><div ng-if="profileUpdatedSuccessfully" ng-bind-html="\'success.changes saved\' | ctText" class="notification notification-success"></div><div ng-if="profileEditEnabled" class="button-container"><button ng-click="resetUserModel()" ng-bind-html="\'word.cancel\' | ctText" class="cancel btn btn-secondary"></button><button type="submit" ng-disabled="profileForm.$invalid" ng-bind-html="\'word.save\' | ctText" class="save btn ct-button"><i ng-if="updatingProfile" class="fa fa-refresh fa-spin"></i></button></div></form><form ng-if="showPasswordForm" name="passwordForm" ng-submit="savePasswordDetails()" novalidate="novalidate" class="secondary-settings"><hr/><button ng-disabled="profileEditEnabled || passwordEditEnabled" ng-click="togglePasswordEdit()" ng-bind-html="\'word.edit\' | ctText" class="edit"></button><div ng-hide="passwordEditEnabled" class="input-group password"><label ng-bind-html="\'label.password\' | ctText"></label><p ng-hide="passwordEditEnabled">*******</p></div><div ng-show="passwordEditEnabled" class="input-group current-password"><label for="current-password" ng-bind-html="\'label.current password\' | ctText"></label><input id="current-password" ng-model="user.old_password" type="password" required="required"/></div><div ng-show="passwordEditEnabled" class="input-group new-password"><label for="new-password" ng-bind-html="\'label.new password\' | ctText"></label><input id="new-password" ng-model="user.password" type="password" required="required"/></div><div ng-show="passwordEditEnabled" class="input-group confirm-password"><label for="confirm-password" ng-bind-html="\'label.confirm new password\' | ctText"></label><input id="confirm-password" name="confirmPassword" ng-model="user.confirm_password" type="password" required="required"/><div ng-if="passwordForm.confirmPassword.$dirty &amp;&amp; user.confirm_password !== user.password" ng-bind-html="\'error.password mismatch\' | ctText" class="error"></div></div><div ng-if="passwordEditEnabled" class="error-container"><div ng-if="passwordUpdateErrors.old_password" ng-bind-html="\'error.old password incorrect\' | ctText" class="error"></div><div ng-if="passwordUpdateErrors.password === \'mismatch\'" ng-bind-html="\'error.password mismatch\' | ctText" class="error"></div></div><div ng-if="passwordUpdatedSuccessfully" ng-bind-html="\'success.password changed\' | ctText" class="notification notification-success"></div><div ng-if="passwordEditEnabled" class="button-container"><button ng-click="resetUserModel()" ng-bind-html="\'word.cancel\' | ctText" class="cancel btn btn-secondary"></button><button type="submit" ng-disabled="passwordForm.$invalid || user.confirm_password !== user.password" ng-bind-html="\'word.save\' | ctText" class="save btn ct-button"><i ng-if="updatingPassword" class="fa fa-refresh fa-spin"></i></button></div></form></div></div></div>'),e.put("/account_overview_two/v1/account_overview_two.html",'<div id="account-overview-two" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div class="user-container"><div class="user-info"><img ng-src="{{ user.photoUrl(80, 80) }}" alt="Profile Picture" class="profile-pic"/></div><div class="profile-info"><div class="name">{{ user.first_name }} {{ user.last_name }}</div><div class="tier"><div class="tier-name ct-points-color">{{ user.fanLevel(tierConf) }}</div><img ng-src="{{ user.getTierImage(tierConf) }}" alt="Fan Level" class="icon"/></div><div ng-if="getTierType() === TIER_TYPES.TIMEFRAME" class="valid description">{{ \'text.valid through\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</div></div></div><div class="point-container"><div ng-if="getTierType() === TIER_TYPES.TIMEFRAME &amp;&amp; showMaintenanceScore()" class="timeframe-score"><div class="total-score ct-points-color">{{ user.tier.scoreNeededToMaintain | truncateDecimal: tierScore.scale | number: tierScore.scale }}</div><div class="score-info"><div class="title">{{ \'title.additional score needed to maintain\' | ctText }} {{ user.fanLevel(tierConf) }}</div><div class="description">{{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</div></div></div><div ng-if="getTierType() === TIER_TYPES.TIMEFRAME &amp;&amp; !showMaintenanceScore()" class="timeframe-score"><div class="total-score ct-points-color">{{ user.tier.scoreNeededToReach | truncateDecimal: tierScore.scale | number: tierScore.scale }}</div><div ng-if="hasNextLevel()" class="score-info"><div class="title">{{ \'text.score needed to reach\' | ctText }} {{ user.tier.nextLevel.title }}</div><div class="description">{{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</div></div><div ng-if="!hasNextLevel()" class="score-info"><div class="title">{{ \'text.reached the highest level title\' | ctText }}</div><div class="description">{{ \'text.reached the highest level\' | ctText }}</div></div></div><div ng-if="getTierType() === TIER_TYPES.LIFETIME" class="progress-bar-container"><div ng-bind-html="\'text.lifetime points\' | ctText" class="lifetime-points"></div><ct-progress-bar flash-expression="user.total_points" percentage="user.percentageOfNextFanLevelComplete(tierConf)">{{ user.getScore() | number }}</ct-progress-bar><div class="fan-level-progress-details"><span class="fan-level small">{{ user.fanLevel(tierConf) }}<span ng-if="user.isMaxFanLevel(tierConf)" class="max-level">&nbsp;({{ \'text.max fan level\' | ctText }})</span></span><span ng-if="!user.isMaxFanLevel(tierConf)" class="fan-level-progress"><span class="ct-points-color">{{ user.pointsTilNextFanLevel(tierConf) | ctPoints }}&nbsp;</span><span ng-bind-html="\'word.to\' | ctText"></span><span>&nbsp;</span><span>{{ user.nextFanLevel(tierConf) }}</span></span><span class="fan-level-is-max"></span></div></div><div class="redeemable-points"><div class="total-points ct-points-color">{{ user.redeemable_points | number }}</div><div class="point-details"><div class="title">{{ \'text.currency\' | ctText }}</div><div class="description"> {{ \'text.spend currency\' | ctText }}</div></div></div></div><div class="logout-link-container"><a ng-click="logout()" title="Log out" class="logout-link ct-link-color">{{ \'link.log out link\' | ctText }}<i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" class="fa logout-spinner"></i></a></div><div ng-click="toggleInfo()" class="info-toggle"><i aria-hidden="true" aria-label="More Information" class="fa fa-info-circle"></i></div><div ng-if="showInfoPanel" class="info-panel"><div ng-click="toggleInfo()" class="info-toggle">x</div><div ng-if="getTierType() === TIER_TYPES.TIMEFRAME" class="info-current-tier info-section"><div class="title">{{ \'text.current tier\' | ctText }}</div><div class="description">{{ user.fanLevel(tierConf) }} ({{ \'text.valid through\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }})</div></div><div ng-if="getTierType() === TIER_TYPES.TIMEFRAME" class="info-maintenance info-section"><div class="title">{{ \'text.tier maintenance\' | ctText }}</div><div class="description">{{ user.tier.tierScore | truncateDecimal: tierScore.scale | number: tierScore.scale }} {{ \'text.score earned\' | ctText }}</div><div class="description">{{ (user.tier.scoreNeededToMaintain || 0) | truncateDecimal: tierScore.scale | number: tierScore.scale }} {{ \'text.additional score needed to maintain\' | ctText }} {{ user.fanLevel(tierConf) }} ({{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }})</div></div><div class="info-redeemable-points info-section"><div class="title">{{ \'text.currency\' | ctText }}</div><div class="points">{{ user.redeemable_points | number }}</div><div class="description">{{ \'text.spend currency\' | ctText }} {{ \'text.spend currency note\' | ctText }}</div></div><div class="info-tier-structure"><hr/><div class="title">{{ \'text.tiers\' | ctText }}</div><div ng-repeat="tier in getTiers()" class="tier-overview"><div class="name">{{ getTierName(tier) }}</div><div class="range">{{ getTierRange($index) }}</div></div></div></div></div></div>'),
e.put("/account_overview_two/v2/account_overview_two.html",'<div id="account-overview-two-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div class="user-container"><section class="user-info"><img ng-src="{{ user.photoUrl(80, 80) }}" alt="Profile Picture" class="profile-pic"/></section><section class="profile-info"><p class="name">{{ user.first_name }} {{ user.last_name }}</p><p class="tier"><span class="tier-name ct-points-color">{{ user.fanLevel(tierConf) }}</span><img ng-src="{{ user.getTierImage(tierConf) }}" alt="Fan Level" class="icon"/></p><p ng-if="getTierType() === TIER_TYPES.TIMEFRAME" class="valid description">{{ \'text.valid through\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</p></section></div><div class="point-container"><section ng-if="getTierType() === TIER_TYPES.TIMEFRAME &amp;&amp; showMaintenanceScore()" aria-labelledby="title-score-to-maintain" class="timeframe-score"><span class="total-score ct-points-color">{{ user.tier.scoreNeededToMaintain | truncateDecimal: tierScore.scale | number: tierScore.scale }}</span><span class="score-info"><h2 id="title-score-to-maintain" class="title">{{ \'title.additional score needed to maintain\' | ctText }} {{ user.fanLevel(tierConf) }}</h2><span class="description">{{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</span></span></section><section ng-if="getTierType() === TIER_TYPES.TIMEFRAME &amp;&amp; !showMaintenanceScore()" class="timeframe-score"><span class="total-score ct-points-color">{{ user.tier.scoreNeededToReach | truncateDecimal: tierScore.scale | number: tierScore.scale }}</span><span ng-if="hasNextLevel()" class="score-info"><h2 id="title-score-to-next-tier" class="title">{{ \'text.score needed to reach\' | ctText }} {{ user.tier.nextLevel.title }}</h2><span class="description">{{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }}</span></span><span ng-if="!hasNextLevel()" class="score-info"><h2 id="title-highest-tier" class="title">{{\'text.reached the highest level title\' | ctText }}</h2><span class="description">{{ \'text.reached the highest level\' | ctText }}</span></span></section><section ng-if="getTierType() === TIER_TYPES.LIFETIME" aria-labelledby="title-lifetime-points" class="progress-bar-container"><span ng-bind-html="\'text.lifetime points\' | ctText" id="title-lifetime-points" class="lifetime-points"></span><ct-progress-bar flash-expression="user.total_points" percentage="user.percentageOfNextFanLevelComplete(tierConf)" aria-hidden="true">{{ user.getScore() | number }}</ct-progress-bar><span class="fan-level-progress-details"><span class="fan-level small">{{ user.fanLevel(tierConf) }}<span ng-if="user.isMaxFanLevel(tierConf)" class="max-level">&nbsp;({{ \'text.max fan level\' | ctText }})</span></span><span ng-if="!user.isMaxFanLevel(tierConf)" class="fan-level-progress"><span class="ct-points-color">{{ user.pointsTilNextFanLevel(tierConf) | ctPoints }}&nbsp;</span><span ng-bind-html="\'word.to\' | ctText"></span><span>&nbsp;</span><span>{{ user.nextFanLevel(tierConf) }}</span></span><span class="fan-level-is-max"></span></span></section><section aria-labelledby="title-currency" class="redeemable-points"><span class="total-points ct-points-color">{{ user.redeemable_points | number }}</span><span class="point-details"><h2 id="title-currency" class="title">{{ \'text.currency\' | ctText }}</h2><span class="description"> {{ \'text.spend currency\' | ctText }}</span></span></section></div><button ng-click="toggleInfo()" type="button" aria-label="Show Information Panel" ng-disabled="showInfoPanel" aria-expanded="{{ showInfoPanel ? \'true\' : \'false\' }}" class="info-toggle"><i aria-hidden="true" class="fa fa-info-circle"></i></button><div class="logout-link-container"><a ng-click="logout()" title="Log out" href="#" ng-attr-tabindex="{{ showInfoPanel === true ? -1 : 0 }}" ng-attr-aria-hidden="{{ showInfoPanel === true ? \'true\' : \'false\'}}" class="logout-link ct-link-color">{{ \'link.log out link\' | ctText }}<span aria-label="Logging Out"><i ng-if="loggingOut" ng-class="{\'fa-refresh\': loggingOut, \'fa-spin\': loggingOut}" aria-hidden="true" class="fa logout-spinner"></i></span></a></div><div ng-if="showInfoPanel" aria-label="Information Panel" class="info-panel"><button ng-click="toggleInfo()" type="button" aria-label="Close Information Panel" ng-disabled="!showInfoPanel" aria-expanded="{{ showInfoPanel ? \'true\' : \'false\' }}" class="info-toggle">x</button><section ng-if="getTierType() === TIER_TYPES.TIMEFRAME" aria-labelledby="info-title-current-tier" class="info-current-tier info-section"><h2 id="info-title-current-tier" class="title">{{ \'text.current tier\' | ctText }}</h2><span class="description">{{ user.fanLevel(tierConf) }} ({{ \'text.valid through\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }})</span></section><section ng-if="getTierType() === TIER_TYPES.TIMEFRAME" aria-labelledby="info-title-tier-maintenance" class="info-maintenance info-section"><h2 id="info-title-tier-maintenance" class="title">{{ \'text.tier maintenance\' | ctText }}</h2><p class="description">{{ user.tier.tierScore | truncateDecimal: tierScore.scale | number: tierScore.scale }} {{ \'text.score earned\' | ctText }}</p><p class="description">{{ (user.tier.scoreNeededToMaintain || 0) | truncateDecimal: tierScore.scale | number: tierScore.scale }} {{ \'text.additional score needed to maintain\' | ctText }} {{ user.fanLevel(tierConf) }} ({{ \'text.earn by\' | ctText }} {{ getTierExpirationDate() | date : \'MM/dd/yyyy\' }})</p></section><section aria-labelledby="info-title-points" class="info-redeemable-points info-section"><h2 id="info-title-points" class="title">{{ \'text.currency\' | ctText }}</h2><p class="points">{{ user.redeemable_points | number }}</p><p class="description">{{ \'text.spend currency\' | ctText }} {{ \'text.spend currency note\' | ctText }}</p></section><section aria-labelledby="info-title-tiers" class="info-tier-structure"><h2 id="info-title-tiers" class="title">{{ \'text.tiers\' | ctText }}</h2><span ng-repeat="tier in getTiers()" class="tier-overview"><span class="name">{{ getTierName(tier) }}</span><span class="range">{{ getTierRange($index) }}</span></span></section></div></div></div>'),e.put("/activity_history/v1/activity_history.html",'<div id="activity-history" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><table summary="Activity History"><thead><tr><th ng-bind-html="\'label.date\' | ctText"></th><th ng-bind-html="\'label.activity\' | ctText "></th><th ng-bind-html="\'word.transaction\' | ctText" class="desktop"></th></tr></thead><tbody><tr ng-repeat="activity in activities"><td class="date">{{ activity.date() | date:\'M/d/yyyy\' }}</td><td><p class="title"><strong ng-if="activity.isAutomaticCampaign()">{{ \'text.auto campaign history prefix\' | ctText }}\n{{ activity.event_title }}:&nbsp;</strong><span>{{ activity.getTitle() }}</span><strong ng-if="activity.additional_points &gt; 0" class="bonus">  ({{ \'label.bonus campaign\' | ctText }})</strong></p><p ng-if="activity.points() &gt;= 0" class="mobile points ct-points-color"><span ng-if="activity.points() &gt;= 0" class="ct-points-color">{{ activity.points() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span><span ng-if="activity.points_withheld_by_cap &gt; 0" class="cap-reached">{{ \'label.point cap reached\' | ctText }}</span></p><p ng-if="activity.points() &lt; 0" class="mobile points points-negative ct-points-color"><span>{{ activity.points() | ctPoints }}</span></p></td><td ng-if="activity.points() &gt;= 0" class="desktop points ct-points-color"><em ng-if="activity.additional_points &gt; 0" class="bonus">({{activity.points() - activity.additional_points}} + {{ activity.additional_points }} {{ \'label.bonus details\' | ctText}}):</em><span>{{ activity.points() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span><span ng-if="activity.points_withheld_by_cap &gt; 0" class="cap-reached">{{ \'label.point cap reached\' | ctText }}</span></td><td ng-if="activity.points() &lt; 0" class="desktop points points-negative ct-points-color"><span>{{ activity.points() | ctPoints }}</span></td></tr></tbody></table><div ng-click="loadMore()" ng-if="showLoadMoreButton" class="btn show-more">{{ \'button.show more\' | ctText }}</div></div></div>'),e.put("/activity_history/v2/activity_history.html",'<div id="activity-history-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><table summary="{{ \'heading.activity-history widget title\' | ctText }}" class="activity-history"><caption class="visually-hidden">{{ \'heading.activity-history widget title\' | ctText }}</caption><thead><tr><th scope="col" ng-bind-html="\'label.date\' | ctText"></th><th scope="col" ng-bind-html="\'label.activity\' | ctText"></th><th ng-bind-html="\'word.transaction\' | ctText" class="desktop"></th></tr></thead><tbody><tr ng-repeat="activity in activities"><td class="date">{{ activity.date() | date:\'M/d/yyyy\' }}</td><td><p class="title"><span ng-if="activity.isAutomaticCampaign()" class="bonus">{{ \'text.auto campaign history prefix\' | ctText }}\n{{ activity.event_title }}:&nbsp;</span><span>{{ activity.getTitle() }}</span><span ng-if="activity.additional_points &gt; 0" class="bonus">  ({{ \'label.bonus campaign\' | ctText }})</span></p><p ng-if="activity.points() &gt;= 0" class="mobile points ct-points-color"><span ng-if="activity.points() &gt;= 0" class="ct-points-color">{{ activity.points() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span><span ng-if="activity.points_withheld_by_cap &gt; 0" class="cap-reached">{{ \'label.point cap reached\' | ctText }}</span></p><p ng-if="activity.points() &lt; 0" class="mobile points points-negative ct-points-color"><span>{{ activity.points() | ctPoints }}</span></p></td><td ng-if="activity.points() &gt;= 0" class="desktop points ct-points-color"><span ng-if="activity.additional_points &gt; 0" class="bonus">({{activity.points() - activity.additional_points}} + {{ activity.additional_points }} {{ \'label.bonus details\' | ctText}}):</span><span>{{ activity.points() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span><span ng-if="activity.points_withheld_by_cap &gt; 0" class="cap-reached">{{ \'label.point cap reached\' | ctText }}</span></td><td ng-if="activity.points() &lt; 0" class="desktop points points-negative ct-points-color"><span>{{ activity.points() | ctPoints }}</span></td></tr></tbody></table><button ng-click="loadMore()" ng-if="showLoadMoreButton" type="button" class="btn show-more">{{ \'button.show more\' | ctText }}</button></div></div>'),e.put("/activity/v1/activity_list.html",'<div id="activity-list" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><ul><li ng-repeat="activity in activities" ng-disabled="activity.isLocked()" ng-class="activity.domElementClasses" ng-click="activityClicked(activity)" class="activity"><div ng-if="activity.main_image_url" ct-theme-color="buttonColor" css-attr="background-color" class="image-container"><img width="50" height="50" ng-src="{{ activity.main_image_url }}" alt="{{ activity.title }}"/></div><div class="info-container"><div class="title ct-link-color">{{ activity.title }}</div><div ng-bind-html="activity.description" class="description"></div><div ng-if="activity.isUnavailable()" class="countdown"><i class="fa fa-clock-o"></i>{{ activity.remaining("text.activity widget available") }}</div></div><div class="points-container"><div ng-class="{completed: activity.isCompleted(), withBonus: activity.isBonusActive()}" class="point-value ct-points-color"><div ng-if="activity.isBonusActive()" class="points_without-bonus">{{ activity.pointsWithoutBonus() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()}  }}</div><span ng-if="activity.isBonusActive()" ng-hide="activity.isCompleted()" ng-bind-html="\'text.bonus\' | ctText " class="bonus-label"></span><i ng-if="activity.isCompleted()" class="fa fa-check-circle success"></i>{{ activity.totalPoints() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</div><div ng-if="activity.isPreReqLocked()" class="lock-info"><i class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: activity.preReqActivity().title}"></span></div><div ng-if="activity.isTierLocked()" class="lock-info tier-lock"><i class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(activity.min_tier_id)}"></span></div></div></li></ul></div></div>'),e.put("/activity/v1/variation_activity.html",'<div id="variation-activity" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ activity.title }}</h3></div><div class="container"><ul><li ng-repeat="variation in activity.variations" class="variation"><div ng-if="variation.image_url" class="variation-image-container"><img ng-src="{{ variation.image_url }}" alt="{{ variation.name }}" class="variation-image"/></div><div class="variation-name-container"><div class="variation-name">{{ variation.name }}</div><div class="ct-points-color point-value mobile">{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</div></div><div class="button-container"><a target="_blank" ng-href="{{ variation.link_href }}" class="btn cta ct-button">{{ \'button.go\' | ctText }}</a></div><div class="ct-points-color point-value desktop">{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</div></li></ul></div></div>'),e.put("/activity/v2/activity_list.html",'<div id="activity-list-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><ul><li ng-repeat="activity in activities" ng-disabled="activity.isLocked()" ng-class="activity.domElementClasses" ng-click="activityClicked(activity)" class="activity"><div ng-if="activity.main_image_url" ct-theme-color="buttonColor" css-attr="background-color" class="image-container"><img width="50" height="50" ng-src="{{ activity.main_image_url }}" alt="{{ activity.title }}"/></div><div class="info-container"><button name="view activity details" type="button" ng-disabled="activity.isLocked() || activity.isUnavailable()" class="title"><span class="ct-link-color">{{ activity.title }}</span></button><div ng-bind-html="activity.description" class="description"></div><div ng-if="activity.isUnavailable()" class="countdown"><i aria-hidden="true" class="fa fa-clock-o"></i>{{ activity.remaining("text.activity widget available") }}</div></div><div class="points-container"><div ng-class="{completed: activity.isCompleted(), withBonus: activity.isBonusActive()}" class="point-value ct-points-color"><span ng-if="activity.isBonusActive()" class="points_without-bonus">{{ activity.pointsWithoutBonus() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()}  }}</span><span ng-if="activity.isBonusActive()" ng-hide="activity.isCompleted()" ng-bind-html="\'text.bonus\' | ctText " class="bonus-label"></span><i ng-if="activity.isCompleted()" aria-hidden="true" class="fa fa-check-circle success"></i>{{ activity.totalPoints() | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</div><div ng-if="activity.isPreReqLocked()" class="lock-info"><i aria-hidden="true" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: activity.preReqActivity().title}"></span></div><div ng-if="activity.isTierLocked()" class="lock-info tier-lock"><i aria-hidden="true" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(activity.min_tier_id)}"></span></div></div></li></ul></div></div>'),e.put("/activity/v2/variation_activity.html",'<div id="variation-activity-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ activity.title }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><ul><li ng-repeat="variation in activity.variations" class="variation"><div ng-if="variation.image_url" class="variation-image-container"><img ng-src="{{ variation.image_url }}" alt="{{ variation.name }}" class="variation-image"/></div><div class="variation-name-container"><div class="variation-name">{{ variation.name }}</div><span class="ct-points-color point-value mobile">{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span></div><div class="button-container"><a target="_blank" ng-href="{{ variation.link_href }}" title="Open Activity" class="btn cta ct-button">{{ \'button.go\' | ctText }}</a></div><span class="ct-points-color point-value desktop">{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span></li></ul></div></div>'),e.put("/additional_info/v1/additional_info.html",'<div id="additional-info" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><form name="additionalInfoForm" novalidate="novalidate"><div ng-repeat="activity in activities"><div ng-switch="activity.name"><div ng-switch-when="added gender"><div ng-form="ng-form" name="genderForm"><dl class="form"><div class="left"><dt><label for="gender-input" ng-bind-html="\'label.gender\' | ctText"></label></dt><dd><select id="gender-input" name="gender-input" required="required" ng-model="gender.gender" class="full-width"><option value="" ng-bind-html="\'word.choose\' | ctText"></option><option value="male" ng-bind-html="\'word.male\' | ctText"></option><option value="female" ng-bind-html="\'word.female\' | ctText"></option></select></dd></div><div class="button-container"><i ng-if="user.gender" class="fa success fa-check-circle"></i><span ng-class="{completed: user.gender}" class="point-value ct-points-color">{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button ng-disabled="genderForm.$invalid" ng-click="submitGender(gender.gender)" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div></dl><div ng-show="genderSuccess &amp;&amp; !genderForm.$invalid" class="notification notification-success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update gender\' | ctText" class="msg"></span></div><div ng-show="genderError" class="notification notification-error"><i class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="genderError" class="msg"></span></div></div></div><div ng-switch-when="added date of birth"><div ng-form="ng-form" name="dobForm"><dl class="form"><div class="left"><dt><label for="dob-input" ng-bind-html="\'label.date of birth\' | ctText"></label></dt><dd><select name="month" required="required" ng-model="date_of_birth.month" class="month"><option selected="selected" ng-bind-html="\'text.month\' | ctText"></option><option ng-value="1">{{ 1 | ctMonth }}</option><option ng-value="2">{{ 2 | ctMonth }}</option><option ng-value="3">{{ 3 | ctMonth }}</option><option ng-value="4">{{ 4 | ctMonth }}</option><option ng-value="5">{{ 5 | ctMonth }}</option><option ng-value="6">{{ 6 | ctMonth }}</option><option ng-value="7">{{ 7 | ctMonth }}</option><option ng-value="8">{{ 8 | ctMonth }}</option><option ng-value="9">{{ 9 | ctMonth }}</option><option ng-value="10">{{ 10 | ctMonth }}</option><option ng-value="11">{{ 11 | ctMonth }}</option><option ng-value="12">{{ 12 | ctMonth }}</option></select><select name="day" required="required" ng-model="date_of_birth.day" class="day"><option selected="selected" ng-bind-html="\'text.day\' | ctText"></option><option ng-value="1">1</option><option ng-value="2">2</option><option ng-value="3">3</option><option ng-value="4">4</option><option ng-value="5">5</option><option ng-value="6">6</option><option ng-value="7">7</option><option ng-value="8">8</option><option ng-value="9">9</option><option ng-value="10">10</option><option ng-value="11">11</option><option ng-value="12">12</option><option ng-value="13">13</option><option ng-value="14">14</option><option ng-value="15">15</option><option ng-value="16">16</option><option ng-value="17">17</option><option ng-value="18">18</option><option ng-value="19">19</option><option ng-value="20">20</option><option ng-value="21">21</option><option ng-value="22">22</option><option ng-value="23">23</option><option ng-value="24">24</option><option ng-value="25">25</option><option ng-value="26">26</option><option ng-value="27">27</option><option ng-value="28">28</option><option ng-value="29">29</option><option ng-value="30">30</option><option ng-value="31">31</option></select><select name="year" required="required" ng-model="date_of_birth.year" class="year"><option selected="selected" ng-bind-html="\'text.year\' | ctText"></option><option ng-value="2022">2022</option><option ng-value="2021">2021</option><option ng-value="2020">2020</option><option ng-value="2019">2019</option><option ng-value="2018">2018</option><option ng-value="2017">2017</option><option ng-value="2016">2016</option><option ng-value="2015">2015</option><option ng-value="2014">2014</option><option ng-value="2013">2013</option><option ng-value="2012">2012</option><option ng-value="2011">2011</option><option ng-value="2010">2010</option><option ng-value="2009">2009</option><option ng-value="2008">2008</option><option ng-value="2007">2007</option><option ng-value="2006">2006</option><option ng-value="2005">2005</option><option ng-value="2004">2004</option><option ng-value="2003">2003</option><option ng-value="2002">2002</option><option ng-value="2001">2001</option><option ng-value="2000">2000</option><option ng-value="1999">1999</option><option ng-value="1998">1998</option><option ng-value="1997">1997</option><option ng-value="1996">1996</option><option ng-value="1995">1995</option><option ng-value="1994">1994</option><option ng-value="1993">1993</option><option ng-value="1992">1992</option><option ng-value="1991">1991</option><option ng-value="1990">1990</option><option ng-value="1989">1989</option><option ng-value="1988">1988</option><option ng-value="1987">1987</option><option ng-value="1986">1986</option><option ng-value="1985">1985</option><option ng-value="1984">1984</option><option ng-value="1983">1983</option><option ng-value="1982">1982</option><option ng-value="1981">1981</option><option ng-value="1980">1980</option><option ng-value="1979">1979</option><option ng-value="1978">1978</option><option ng-value="1977">1977</option><option ng-value="1976">1976</option><option ng-value="1975">1975</option><option ng-value="1974">1974</option><option ng-value="1973">1973</option><option ng-value="1972">1972</option><option ng-value="1971">1971</option><option ng-value="1970">1970</option><option ng-value="1969">1969</option><option ng-value="1968">1968</option><option ng-value="1967">1967</option><option ng-value="1966">1966</option><option ng-value="1965">1965</option><option ng-value="1964">1964</option><option ng-value="1963">1963</option><option ng-value="1962">1962</option><option ng-value="1961">1961</option><option ng-value="1960">1960</option><option ng-value="1959">1959</option><option ng-value="1958">1958</option><option ng-value="1957">1957</option><option ng-value="1956">1956</option><option ng-value="1955">1955</option><option ng-value="1954">1954</option><option ng-value="1953">1953</option><option ng-value="1952">1952</option><option ng-value="1951">1951</option><option ng-value="1950">1950</option><option ng-value="1949">1949</option><option ng-value="1948">1948</option><option ng-value="1947">1947</option><option ng-value="1946">1946</option><option ng-value="1945">1945</option><option ng-value="1944">1944</option><option ng-value="1943">1943</option><option ng-value="1942">1942</option><option ng-value="1941">1941</option><option ng-value="1940">1940</option><option ng-value="1939">1939</option><option ng-value="1938">1938</option><option ng-value="1937">1937</option><option ng-value="1936">1936</option><option ng-value="1935">1935</option><option ng-value="1934">1934</option><option ng-value="1933">1933</option><option ng-value="1932">1932</option><option ng-value="1931">1931</option><option ng-value="1930">1930</option><option ng-value="1929">1929</option><option ng-value="1928">1928</option><option ng-value="1927">1927</option><option ng-value="1926">1926</option><option ng-value="1925">1925</option><option ng-value="1924">1924</option><option ng-value="1923">1923</option><option ng-value="1922">1922</option><option ng-value="1921">1921</option><option ng-value="1920">1920</option><option ng-value="1919">1919</option><option ng-value="1918">1918</option><option ng-value="1917">1917</option><option ng-value="1916">1916</option><option ng-value="1915">1915</option><option ng-value="1914">1914</option><option ng-value="1913">1913</option><option ng-value="1912">1912</option><option ng-value="1911">1911</option><option ng-value="1910">1910</option><option ng-value="1909">1909</option><option ng-value="1908">1908</option><option ng-value="1907">1907</option><option ng-value="1906">1906</option><option ng-value="1905">1905</option><option ng-value="1904">1904</option><option ng-value="1903">1903</option><option ng-value="1902">1902</option><option ng-value="1901">1901</option><option ng-value="1900">1900</option></select></dd><dd ng-if="dobClicked &amp;&amp; (dobForm.day.$error.required || dobForm.month.$error.required || dobForm.year.$error.required)" ng-bind-html="\'error.date of birth select all\' | ctText" class="error"></dd></div><div class="button-container"><i ng-if="user.date_of_birth" class="fa success fa-check-circle"></i><span ng-class="{completed: user.date_of_birth}" class="point-value ct-points-color"> \n{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button ng-disabled="dobForm.$invalid" ng-click="submitDob(date_of_birth)" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div></dl><div ng-show="dobSuccess &amp;&amp; !dobForm.$invalid" class="notification notification-success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update dob\' | ctText" class="msg"></span></div><div ng-show="dobError" class="notification notification-error"><i class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="dobError" class="msg"></span></div></div></div><div ng-switch-when="mobile phone added"><div ng-form="ng-form" name="phoneForm"><dl class="form text-input"><div class="left"><dt><label for="phone-input" ng-bind-html="\'label.mobile phone number\' | ctText"></label></dt><dd><input id="phone-input" type="text" name="phoneInput" ng-minlength="10" ng-maxlength="21" ct-phone-number="ct-phone-number" required="required" ng-model="phone.mobile_phone_number" class="text-input"/></dd><dd ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" class="error"></dd><dd ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.minlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" class="error"></dd><dd ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.maxlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" class="error"></dd><dd ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.phoneNumber" ng-bind-html="\'error.explain mobile phone number invalid\' | ctText" class="error"></dd></div><div class="button-container"><i ng-if="user.mobile_phone_number" class="fa success fa-check-circle"></i><span ng-class="{completed: user.mobile_phone_number}" class="point-value ct-points-color">{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button ng-disabled="phoneForm.$invalid" ng-click="submitPhone(phone.mobile_phone_number)" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div></dl><div ng-show="phoneSuccess &amp;&amp; !phoneForm.$invalid" class="notification notification-success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update phone\' | ctText" class="msg"></span></div><div ng-show="phoneError" class="notification notification-error"><i class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="phoneError" class="msg"></span></div></div></div></div></div></form></div></div>'),
e.put("/additional_info/v2/additional_info.html",'<div id="additional-info-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><section ng-repeat="activity in activities" ng-switch="activity.name"><form ng-switch-when="added gender" name="genderForm" ng-submit="submitGender(gender.gender)" novalidate="novalidate"><fieldset class="left"><label for="gender-input" ng-bind-html="\'label.gender\' | ctText" class="input-label"></label><select id="gender-input" name="gender-input" ng-model="gender.gender" required="required" class="full-width"><option value="" ng-bind-html="\'word.choose\' | ctText"></option><option value="male" ng-bind-html="\'word.male\' | ctText"></option><option value="female" ng-bind-html="\'word.female\' | ctText"></option></select></fieldset><div class="button-container"><i ng-if="user.gender" aria-label="{{ \'text.your profile save success\' | ctText }}" class="fa success fa-check-circle"></i><span ng-class="{completed: user.gender}" class="point-value ct-points-color">{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button type="submit" ng-disabled="genderForm.$invalid" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div><div ng-show="genderSuccess &amp;&amp; !genderForm.$invalid" aria-atomic="true" role="status" class="notification notification-success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update gender\' | ctText" class="msg"></span></div><div ng-show="genderError" aria-atomic="true" role="alert" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="genderError" class="msg"></span></div></form><form ng-switch-when="added date of birth" name="dobForm" ng-submit="submitDob(date_of_birth)" novalidate="novalidate"><fieldset class="left"><legend ng-bind-html="\'label.date of birth\' | ctText" class="input-label"></legend><table role="presentation"><thead><tr><th class="month"><label for="dob-month" ng-bind-html="\'text.month\' | ctText" class="input-label"></label></th><th class="day"><label for="dob-day" ng-bind-html="\'text.day\' | ctText" class="input-label"></label></th><th class="year"><label for="dob-year" ng-bind-html="\'text.year\' | ctText" class="input-label"></label></th></tr></thead><tbody><tr><td><select id="dob-month" ng-model="date_of_birth.month" required="required"><option selected="selected" ng-bind-html="\'text.month\' | ctText"></option><option ng-value="1">{{ 1 | ctMonth }}</option><option ng-value="2">{{ 2 | ctMonth }}</option><option ng-value="3">{{ 3 | ctMonth }}</option><option ng-value="4">{{ 4 | ctMonth }}</option><option ng-value="5">{{ 5 | ctMonth }}</option><option ng-value="6">{{ 6 | ctMonth }}</option><option ng-value="7">{{ 7 | ctMonth }}</option><option ng-value="8">{{ 8 | ctMonth }}</option><option ng-value="9">{{ 9 | ctMonth }}</option><option ng-value="10">{{ 10 | ctMonth }}</option><option ng-value="11">{{ 11 | ctMonth }}</option><option ng-value="12">{{ 12 | ctMonth }}</option></select></td><td><select id="dob-day" ng-model="date_of_birth.day" required="required"><option selected="selected" ng-bind-html="\'text.day\' | ctText"></option><option ng-value="1">1</option><option ng-value="2">2</option><option ng-value="3">3</option><option ng-value="4">4</option><option ng-value="5">5</option><option ng-value="6">6</option><option ng-value="7">7</option><option ng-value="8">8</option><option ng-value="9">9</option><option ng-value="10">10</option><option ng-value="11">11</option><option ng-value="12">12</option><option ng-value="13">13</option><option ng-value="14">14</option><option ng-value="15">15</option><option ng-value="16">16</option><option ng-value="17">17</option><option ng-value="18">18</option><option ng-value="19">19</option><option ng-value="20">20</option><option ng-value="21">21</option><option ng-value="22">22</option><option ng-value="23">23</option><option ng-value="24">24</option><option ng-value="25">25</option><option ng-value="26">26</option><option ng-value="27">27</option><option ng-value="28">28</option><option ng-value="29">29</option><option ng-value="30">30</option><option ng-value="31">31</option></select></td><td><select id="dob-year" ng-model="date_of_birth.year" required="required"><option selected="selected" ng-bind-html="\'text.year\' | ctText"></option><option ng-value="2022">2022</option><option ng-value="2021">2021</option><option ng-value="2020">2020</option><option ng-value="2019">2019</option><option ng-value="2018">2018</option><option ng-value="2017">2017</option><option ng-value="2016">2016</option><option ng-value="2015">2015</option><option ng-value="2014">2014</option><option ng-value="2013">2013</option><option ng-value="2012">2012</option><option ng-value="2011">2011</option><option ng-value="2010">2010</option><option ng-value="2009">2009</option><option ng-value="2008">2008</option><option ng-value="2007">2007</option><option ng-value="2006">2006</option><option ng-value="2005">2005</option><option ng-value="2004">2004</option><option ng-value="2003">2003</option><option ng-value="2002">2002</option><option ng-value="2001">2001</option><option ng-value="2000">2000</option><option ng-value="1999">1999</option><option ng-value="1998">1998</option><option ng-value="1997">1997</option><option ng-value="1996">1996</option><option ng-value="1995">1995</option><option ng-value="1994">1994</option><option ng-value="1993">1993</option><option ng-value="1992">1992</option><option ng-value="1991">1991</option><option ng-value="1990">1990</option><option ng-value="1989">1989</option><option ng-value="1988">1988</option><option ng-value="1987">1987</option><option ng-value="1986">1986</option><option ng-value="1985">1985</option><option ng-value="1984">1984</option><option ng-value="1983">1983</option><option ng-value="1982">1982</option><option ng-value="1981">1981</option><option ng-value="1980">1980</option><option ng-value="1979">1979</option><option ng-value="1978">1978</option><option ng-value="1977">1977</option><option ng-value="1976">1976</option><option ng-value="1975">1975</option><option ng-value="1974">1974</option><option ng-value="1973">1973</option><option ng-value="1972">1972</option><option ng-value="1971">1971</option><option ng-value="1970">1970</option><option ng-value="1969">1969</option><option ng-value="1968">1968</option><option ng-value="1967">1967</option><option ng-value="1966">1966</option><option ng-value="1965">1965</option><option ng-value="1964">1964</option><option ng-value="1963">1963</option><option ng-value="1962">1962</option><option ng-value="1961">1961</option><option ng-value="1960">1960</option><option ng-value="1959">1959</option><option ng-value="1958">1958</option><option ng-value="1957">1957</option><option ng-value="1956">1956</option><option ng-value="1955">1955</option><option ng-value="1954">1954</option><option ng-value="1953">1953</option><option ng-value="1952">1952</option><option ng-value="1951">1951</option><option ng-value="1950">1950</option><option ng-value="1949">1949</option><option ng-value="1948">1948</option><option ng-value="1947">1947</option><option ng-value="1946">1946</option><option ng-value="1945">1945</option><option ng-value="1944">1944</option><option ng-value="1943">1943</option><option ng-value="1942">1942</option><option ng-value="1941">1941</option><option ng-value="1940">1940</option><option ng-value="1939">1939</option><option ng-value="1938">1938</option><option ng-value="1937">1937</option><option ng-value="1936">1936</option><option ng-value="1935">1935</option><option ng-value="1934">1934</option><option ng-value="1933">1933</option><option ng-value="1932">1932</option><option ng-value="1931">1931</option><option ng-value="1930">1930</option><option ng-value="1929">1929</option><option ng-value="1928">1928</option><option ng-value="1927">1927</option><option ng-value="1926">1926</option><option ng-value="1925">1925</option><option ng-value="1924">1924</option><option ng-value="1923">1923</option><option ng-value="1922">1922</option><option ng-value="1921">1921</option><option ng-value="1920">1920</option><option ng-value="1919">1919</option><option ng-value="1918">1918</option><option ng-value="1917">1917</option><option ng-value="1916">1916</option><option ng-value="1915">1915</option><option ng-value="1914">1914</option><option ng-value="1913">1913</option><option ng-value="1912">1912</option><option ng-value="1911">1911</option><option ng-value="1910">1910</option><option ng-value="1909">1909</option><option ng-value="1908">1908</option><option ng-value="1907">1907</option><option ng-value="1906">1906</option><option ng-value="1905">1905</option><option ng-value="1904">1904</option><option ng-value="1903">1903</option><option ng-value="1902">1902</option><option ng-value="1901">1901</option><option ng-value="1900">1900</option></select></td></tr></tbody></table><div ng-if="dobClicked &amp;&amp; (dobForm.day.$error.required || dobForm.month.$error.required || dobForm.year.$error.required)" ng-bind-html="\'error.date of birth select all\' | ctText" role="alert" class="error"></div></fieldset><div class="button-container"><i ng-if="user.date_of_birth" aria-label="{{ \'text.your profile save success\' | ctText }}" class="fa success fa-check-circle"></i><span ng-class="{completed: user.date_of_birth}" class="point-value ct-points-color">{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button type="submit" ng-disabled="dobForm.$invalid" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div><div ng-show="dobSuccess &amp;&amp; !dobForm.$invalid" aria-atomic="true" role="status" class="notification notification-success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update dob\' | ctText" class="msg"></span></div><div ng-show="dobError" aria-atomic="true" role="alert" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="dobError" class="msg"></span></div></form><form ng-switch-when="mobile phone added" name="phoneForm" ng-submit="submitPhone(phone.mobile_phone_number)" novalidate="novalidate"><fieldset class="left"><label for="phone-input" ng-bind-html="\'label.mobile phone number\' | ctText" class="input-label"></label><input id="phone-input" type="text" name="phoneInput" ng-minlength="10" ng-maxlength="21" ct-phone-number="ct-phone-number" required="required" ng-model="phone.mobile_phone_number" class="text-input"/><div ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" role="alert" class="error"></div><div ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.minlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:21}" role="alert" class="error"></div><div ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.maxlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:21}" role="alert" class="error"></div><div ng-if="phoneClicked &amp;&amp; phoneForm.phoneInput.$error.phoneNumber" ng-bind-html="\'error.explain mobile phone number invalid\' | ctText" role="alert" class="error"></div></fieldset><div class="button-container"><i ng-if="user.mobile_phone_number" aria-label="{{ \'text.your profile save success\' | ctText }}" class="fa success fa-check-circle"></i><span ng-class="{completed: user.mobile_phone_number}" class="point-value ct-points-color">{{ activity.num_points | ctPoints: { prefix: \'+\', hideOnZero: activity.hasPointsHidden() } }}</span><button type="submit" ng-disabled="phoneForm.$invalid" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div><div ng-show="phoneSuccess &amp;&amp; !phoneForm.$invalid" aria-atomic="true" role="status" class="notification notification-success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-bind-html="\'success.add info widget update phone\' | ctText" class="msg"></span></div><div ng-show="phoneError" aria-atomic="true" role="alert" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-bind-html="phoneError" class="msg"></span></div></form></section></div></div>'),e.put("/claim_purchase/v1/claim_purchase.html",'<div id="claim-purchase" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div class="claim-purchase"><p ng-if="!claimSuccess" ng-bind-html="\'text.explain claim purchase widget\' | ctText | ctTrustHtml" class="widget-description"></p><form ng-if="!claimSuccess" name="claimForm" novalidate="novalidate"><div ng-if="isClaimByOrderId()" class="order-number"><label for="orderNumber" class="field-text">{{ \'text.order number\' | ctText }}<div ng-bind-html="\'text.explain order number\' | ctText | ctTrustHtml" class="field-description"></div></label><input id="orderNumber" name="orderNumber" title="{{ \'text.order number\' | ctText }}" type="text" ng-model="claim.orderId" ng-required="true" class="text-input"/><div ng-if="claimForm.orderNumber.$dirty &amp;&amp; claimForm.orderNumber.$invalid" ng-bind-html="\'error.enter order number\' | ctText" class="error"></div></div><div ng-if="!isClaimByOrderId()" class="receipt-number"><label for="receiptNumber" class="field-text">{{ \'text.receipt number\' | ctText }}<div ng-bind-html="\'text.explain receipt number\' | ctText | ctTrustHtml" class="field-description"></div></label><input id="receiptNumber" name="receiptNumber" title="{{ \'text.receipt number\' | ctText }}" type="text" ng-model="claim.receiptNumber" ng-required="true" class="text-input"/><div ng-if="claimForm.receiptNumber.$dirty &amp;&amp; claimForm.receiptNumber.$invalid" ng-bind-html="\'error.enter receipt number\' | ctText" class="error"></div></div><div ng-if="!isClaimByOrderId() &amp;&amp; displayField(\'store_location\')" class="store-location"><label for="storeLocation" class="field-text">{{ \'text.store location\' | ctText }}<div ng-bind-html="\'text.explain store location\' | ctText | ctTrustHtml" class="field-description"></div></label><input id="storeLocation" name="storeLocation" title="{{ \'text.store location\' | ctText }}" type="text" ng-model="claim.storeLocation" ng-required="true" class="text-input"/><div ng-if="claimForm.storeLocation.$dirty &amp;&amp; claimForm.storeLocation.$invalid" ng-bind-html="\'error.enter store location\' | ctText" class="error"></div></div><div ng-if="!isClaimByOrderId() &amp;&amp; displayField(\'date_purchased\')" class="date-purchased"><label for="month" class="field-text">{{ \'text.purchase date\' | ctText }}<div ng-bind-html="\'text.explain purchase date\' | ctText | ctTrustHtml" class="field-description"></div></label><div id="datePurchased" class="date-purchased-fields"><select ng-model="claim.month" id="month" title="Month" ng-required="true" class="month"><option value="" ng-selected="true" ng-bind-html="\'label.select month\' | ctText"></option><option ng-value="1">{{ 1 | ctMonth }}</option><option ng-value="2">{{ 2 | ctMonth }}</option><option ng-value="3">{{ 3 | ctMonth }}</option><option ng-value="4">{{ 4 | ctMonth }}</option><option ng-value="5">{{ 5 | ctMonth }}</option><option ng-value="6">{{ 6 | ctMonth }}</option><option ng-value="7">{{ 7 | ctMonth }}</option><option ng-value="8">{{ 8 | ctMonth }}</option><option ng-value="9">{{ 9 | ctMonth }}</option><option ng-value="10">{{ 10 | ctMonth }}</option><option ng-value="11">{{ 11 | ctMonth }}</option><option ng-value="12">{{ 12 | ctMonth }}</option></select><input name="day" type="number" min="1" max="31" ng-model="claim.day" placeholder="Day" title="Day" ng-required="true" class="day"/><input name="year" type="number" min="1900" max="2030" ng-model="claim.year" placeholder="Year" title="Year" ng-required="true" class="year"/></div><div ng-if="(claimForm.day.$dirty || claimForm.year.$dirty) &amp;&amp; (claimForm.day.$invalid || claimForm.year.$invalid)" ng-bind-html="\'error.enter date\' | ctText" class="error"></div></div><div ng-if="!isClaimByOrderId() &amp;&amp; displayField(\'total\')" class="total"><label for="total" class="field-text">{{ \'text.total purchase amount\' | ctText }}<div ng-bind-html="\'text.explain total purchase amount\' | ctText | ctTrustHtml" class="field-description"></div></label><input id="total" name="total" title="{{ \'text.total purchase amount\' | ctText }}" placeholder="0.00" type="number" min="0" step="0.01" ng-model="claim.total" required="required" class="number-input"/><div ng-if="claimForm.total.$dirty &amp;&amp; claimForm.total.$invalid" ng-bind-html="\'error.enter total amount\' | ctText" class="error"></div></div><div class="submit-container"><div class="submit"><svg aria-label="Submitting claim" ng-show="submitting" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="spinner spinner--medium"><circle stroke="#532C6C" stroke-width="2" fill="none" fill-rule="nonzero" cx="10" cy="10" r="9" class="path"></circle></svg><button title="{{ \'button.submit\' | ctText }}" ng-disabled="claimForm.$invalid || submitting" ng-click="submitClaim()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div><div ng-if="claimFailed" role="alert" class="notification error">{{ error }}</div></div></form><div ng-if="claimSuccess" class="points-container"><div class="points"><div class="points-plus">+</div><div class="points-amount">{{ claimedPoints | number }}</div></div><div ng-bind-html="\'text.purchase claimed\' | ctText | ctTrustHtml" class="claim-success"></div><button ng-click="claimAnother()" class="btn btn-small ct-button">{{ \'button.claim another\' | ctText }}</button></div></div></div></div>'),e.put("/code_redemption/v1/code_redemption.html",'<div id="code-redemption" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div ng-init="showReceipt = false" class="code-redemption"><p ng-bind-html="campaign.description | ctTrustHtml" class="description"></p><div ct-dynamic-form="campaign.form"></div><div ng-show="campaign.receipt_image_url" class="receipt-image"><a ng-click="showReceipt = !showReceipt" title="Toggle Show Receipt" class="ct-link-color"><span ng-show="showReceipt" ng-bind-html="\'text.hide\' | ctText"></span><span ng-hide="showReceipt" ng-bind-html="\'text.show\' | ctText"></span><span>&nbsp;{{ "text.sample receipt" | ctText }}</span><i ng-class="{\'fa-caret-down\': showReceipt, \'fa-caret-right\': !showReceipt}" class="fa"></i></a><a ng-show="showReceipt" ng-href="{{campaign.receipt_image_url}}" target="_blank" title="Receipt Image" class="ct-link-color"><img ng-src="{{campaign.receipt_image_url}}" alt="Sample Receipt Image"/></a><a ng-show="showReceipt" ng-href="{{campaign.receipt_image_url}}" target="_blank" title="View Full Size Receipt Image" ng-bind-html="\'text.code redemption receipt image view full size\' | ctText" class="ct-link-color"></a></div><div ng-if="campaign.is_locked_by_tier" class="lock-mask"><div class="lock-info"><i class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(campaign.min_tier_id)}"></span></div></div></div></div></div>'),e.put("/code_redemption/v2/code_redemption.html",'<div id="code-redemption-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div ng-init="showReceipt = false" class="code-redemption-v2"><p ng-bind-html="campaign.description | ctTrustHtml" class="description"></p><div ct-dynamic-form-v2="campaign.form"></div><div ng-show="campaign.receipt_image_url" aria-label="Receipt Image" class="receipt-image"><a ng-click="showReceipt = !showReceipt" title="Toggle Show Receipt" ng-href="#" class="ct-link-color"><span ng-show="showReceipt" ng-bind-html="\'text.hide\' | ctText" class="receipt-display"></span><span ng-hide="showReceipt" ng-bind-html="\'text.show\' | ctText" class="receipt-display"></span><span class="receipt-display">&nbsp;{{ "text.sample receipt" | ctText }}</span><i ng-class="{\'fa-caret-down\': showReceipt, \'fa-caret-right\': !showReceipt}" aria-hidden="true" class="fa"></i></a><a ng-show="showReceipt" ng-href="{{campaign.receipt_image_url}}" target="_blank" title="Receipt Image" class="ct-link-color"><img ng-src="{{campaign.receipt_image_url}}" alt="Sample Receipt Image"/></a><a ng-show="showReceipt" ng-href="{{campaign.receipt_image_url}}" target="_blank" title="View Full Size Receipt Image" ng-bind-html="\'text.code redemption receipt image view full size\' | ctText" class="ct-link-color"></a></div><div ng-if="campaign.is_locked_by_tier" class="lock-mask"><div class="lock-info"><i aria-hidden="true" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(campaign.min_tier_id)}"></span></div></div></div></div></div>'),e.put("/common/date_dropdown/date_dropdown.html",'<div><select ng-model="month" ng-options="month.name for month in months"><option value="" ng-bind-html="\'text.month\' | ctText"></option></select><select ng-model="day" ng-options="day for day in days"><option value="" ng-bind-html="\'text.day\' | ctText"></option></select><select ng-model="year" ng-options="year for year in years"><option value="" ng-bind-html="\'text.year\' | ctText"></option></select></div>'),e.put("/common/date_dropdown_v2/date_dropdown.html",'<div class="date-dropdown-v2"><span class="date-wrapper month"><label for="date-dropdown-month">{{ \'text.month\' | ctText }}</label><select id="date-dropdown-month" ng-model="month" ng-options="month.name for month in months"><option value="" ng-bind-html="\'text.month\' | ctText"></option></select></span><span class="date-wrapper day"><label for="date-dropdown-day">{{ \'text.day\' | ctText }}</label><select id="date-dropdown-day" ng-model="day" ng-options="day for day in days"><option value="" ng-bind-html="\'text.day\' | ctText"></option></select></span><span class="date-wrapper year"><label for="date-dropdown-year">{{ \'text.year\' | ctText }}</label><select id="date-dropdown-year" ng-model="year" ng-options="year for year in years"><option value="" ng-bind-html="\'text.year\' | ctText"></option></select></span></div>'),e.put("/common/mixins/widget-v2.html",""),e.put("/common/mixins/widget.html",""),e.put("/common/notifications/notifications.html",'<section class="ct-notifications"><div ng-repeat="notification in notifications" class="notification-wrapper {{ notification.action }}"><div role="status" aria-atomic="true" class="notification"><h2 ng-if="notification.titleTextKey" ng-bind-html="notification.titleTextKey | ctText: notification.titleTextKeyCtx" class="status"></h2><p ng-if="notification.descTextKey" ng-bind-html="notification.descTextKey | ctText: notification.descTextKeyCtx" class="description"></p></div><button type="button" ng-click="$parent.close($index)" aria-label="{{ \'button.close\' | ctText }}" class="remove"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon-medium"><path fill="none" stroke="currentColor" stroke-width="2" d="M2 2l12 12M2 14L14 2"/></svg></button></div></section>'),e.put("/common/progress_bar/progress_bar.html",'<span ct-theme-color="pointsColor" css-attr="background-color" theme-color-template="rgba({% value | hexToRgbString %}, 0.3)" class="ct-progress-bar"><span ng-transclude="ng-transclude" ct-theme-color="pointsColor" css-attr="background-color" ng-style="{\'min-width\': percentage + \'%\'}" class="bar"></span></span>'),e.put("/common/questionnaire/questionnaire_question_input.html",'<div ng-class="containerClasses" class="question-container"><div ng-form="questionForm"><div class="question"><div id="{{ \'question-text-\' + question.questionId }}" ng-bind-html="question.questionTextKey | ctPrefixQuestionNumber:displayNumber | ctTrustHtml" class="question-text"></div><div ng-if="getQuestionType() === \'multi-answer\'" ng-bind-html="\'text.survey question type checkbox\' | ctText" class="directions"></div></div><div ng-switch="getQuestionType()" class="answer-container"><input ng-switch-when="freehand" id="{{ \'q\' + question.questionId }}" type="text" ng-model="answer.responseText" ng-required="question.required" aria-labelledby="{{ \'question-text-\' + question.questionId }}" class="text-input"/><ul ng-switch-when="multi-answer" role="group" aria-labelledby="{{ \'question-text-\' + question.questionId }}" class="answer-options"><li ng-repeat="a in question.answerOptions | orderBy:\'displayOrder\'" ng-class="a.imageLink ? \'has-image\' : \'\'" class="answer-option"><div class="answer-option-wrapper"><input id="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" type="checkbox" ng-model="checkboxes[a.answerId]" ng-required="question.required &amp;&amp; !anySelected()" class="checkbox-item"/><label for="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" class="answer-option-text"><div ng-if="a.imageLink" class="image-wrapper"><img ng-src="{{ a.imageLink }}" alt="{{ a.answerTextKey }}" class="option-image"/></div><span>{{ a.answerTextKey }}</span></label></div></li><li ng-if="includeOtherOption" class="answer-option"><div class="answer-option-other-wrapper"><div class="answer-option-wrapper"><input aria-label="select other" id="{{ \'q\' + question.questionId + \'-other\' }}" type="checkbox" ng-model="checkboxes[\'OTHER\']" ng-required="question.required &amp;&amp; !anySelected()" class="checkbox-item"/><label for="{{ \'q\' + question.questionId + \'-other\' }}" class="answer-option-text">{{ \'survey.other\' | ctText }}</label></div><input aria-label="other input" id="{{ \'q\' + question.questionId + \'-other-value\' }}" type="text" ng-model="answer.responseText" ng-required="isOtherSelected()" ng-disabled="!isOtherSelected()" class="text-input other-field"/></div></li></ul><ul ng-switch-when="multi-choice" role="radiogroup" aria-labelledby="{{ \'question-text-\' + question.questionId }}" class="answer-options"><li ng-repeat="a in question.answerOptions | orderBy:\'displayOrder\'" ng-class="a.imageLink ? \'has-image\' : \'\'" class="answer-option"><div class="answer-option-wrapper"><input id="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" type="radio" name="question-{{question.questionId}}-answer-group" ng-required="question.required" ng-value="a.answerId.toString()" ng-model="radioChoice.value" class="radio-item"/><label for="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" class="answer-option-text"><div ng-if="a.imageLink" class="image-wrapper"><img ng-src="{{ a.imageLink }}" alt="{{ a.answerTextKey }}" class="option-image"/></div><span>{{ a.answerTextKey }}</span></label></div></li><li ng-if="includeOtherOption" class="answer-option"><div class="answer-option-other-wrapper"><div class="answer-option-wrapper"><input aria-label="select other" id="{{ \'q\' + question.questionId + \'-other\' }}" type="radio" name="question-{{question.questionId}}-answer-group" value="OTHER" ng-model="radioChoice.value" ng-required="question.required" class="radio-item"/><label for="{{ \'q\' + question.questionId + \'-other\' }}" class="answer-option-text">{{ \'survey.other\' | ctText }}</label></div><input aria-label="other input" id="{{ \'q\' + question.questionId + \'-other-value\' }}" type="text" ng-model="answer.responseText" ng-required="isOtherSelected()" ng-disabled="!isOtherSelected()" class="text-input other-field"/></div></li></ul></div><div ng-if="questionForm.$dirty &amp;&amp; questionForm.$invalid" ng-bind-html="\'error.info required\' | ctText" role="alert" aria-atomic="true" class="error"></div></div></div>'),e.put("/common/suggest/match.html",'<script type="text/ng-template" id="template/typeahead/typeahead-match.html"><a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a><\/script>'),e.put("/common/suggest/popup.html",'<script type="text/ng-template" id="template/typeahead/typeahead-popup.html"><ul ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}" class="dropdown-menu"><li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index)}" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}"><div typeahead-match="typeahead-match" index="$index" match="match" query="query" template-url="templateUrl"></div></li></ul><\/script>'),e.put("/common/suggest/suggest.html",'<div class="ct-suggest-field typeahead"><script type="text/ng-template" id="template/typeahead/typeahead-popup.html"><ul ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}" class="dropdown-menu"><li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index)}" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}"><div typeahead-match="typeahead-match" index="$index" match="match" query="query" template-url="templateUrl"></div></li></ul><\/script><script type="text/ng-template" id="template/typeahead/typeahead-match.html"><a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a><\/script><input type="text" ng-model="suggest.label" placeholder="{{suggest.placeholder}}" typeahead="(showProperty ? item[showProperty] : item) for item in getSuggests($viewValue)" typeahead-on-select="onSelect($item, $model, $label)" class="form-control"/></div>'),e.put("/common/toggletip/ct-info-toggletip.html",'<ct-toggletip text-key="{{ textKey }}" direction="{{ direction }}"><svg class="toggletip-info-icon svg-sprite--icon"><g fill="none" fill-rule="evenodd"><circle cx="8" cy="8" r="7.5"/><path d="M7 7h2v5H7zM7 4h2v2H7z"/></g></svg></ct-toggletip>'),e.put("/common/toggletip/ct-toggletip.html",'<div class="ct-toggletip-container"><button type="button" ng-click="displayToggleTipBubble()" ng-keydown="handleKeyPress($event)" aria-label="{{ \'text.more info\' | ctText }}" data-toggletip-content="{{ textKey | ctText }}"><ng-transclude></ng-transclude></button><span role="status"><span ng-if="state.displayToggletip" ng-class="\'toggletip-bubble--\' + state.direction" ng-keydown="handleKeyPress($event)" class="toggletip-bubble">{{ textKey | ctText }}</span></span></div>'),
e.put("/email_verification/v1/email_verification.html",'<div id="email-verification" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-show="loading" ng-bind-html="\'label.loading\' | ctText" class="explanation"></p><p ng-show="success" ng-bind-html="\'text.email verification explanation\' | ctText:{clientName: client.name + \' \' + client.program_name}" class="explanation"></p><div ng-show="error" class="notification notification-error"><span ng-bind-html="\'error.email verification\' | ctText" class="msg"></span></div></div></div>'),e.put("/household/v2/household.html",'<div id="household-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><ct-notifications ng-if="notifications.length" notifications="notifications"></ct-notifications><section ng-if="household === undefined" class="loading"><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" class="spinner spinner--large"><circle stroke="currentColor" cx="20" cy="20" r="19" class="path"></circle></svg></section><section ng-if="currentState === \'normal\' &amp;&amp; household === null" class="non-member"><ct-household-invitation-list ng-if="pendingInvites.length" invitations="pendingInvites"></ct-household-invitation-list><div class="household-creation"><p ng-if="!pendingInvites.length">{{ \'text.household no invites notice\' | ctText }}</p><p>{{ \'text.household create household notice\' | ctText }}</p><button ng-click="createHousehold()" ng-class="{ \'btn-secondary\': pendingInvites.length }" class="btn ct-button">{{ \'button.create a group\' | ctText }}</button></div></section><section ng-if="currentState === \'normal\' &amp;&amp; household" class="member"><section class="household-header"><ct-household-point-total household="household"></ct-household-point-total><ct-household-nav household="household" current-page="currentPage"></ct-household-nav></section><ct-household-nav household="household" current-page="currentPage" class="narrow-only"></ct-household-nav><div class="data-container"><section class="points-breakdown"><ct-household-member-list household="household" is-management="currentPage === \'MGMT\'"></ct-household-member-list></section><section class="active-household-page"><section ng-if="currentPage === \'POINTS\'" class="narrow-only"><ct-household-point-total household="household"></ct-household-point-total><ct-household-member-list household="household" is-management="false"></ct-household-member-list></section><ct-household-history ng-if="currentPage === \'ACTIVITIES\'" history-collection="householdHistories.activityHistories"></ct-household-history><ct-household-history ng-if="currentPage === \'REWARDS\'" history-collection="householdHistories.rewardHistories"></ct-household-history><ct-household-management ng-if="currentPage === \'MGMT\'" household="household" declined-invites="declinedInvites"></ct-household-management><ct-household-about ng-if="currentPage === \'ABOUT\'" household="household"></ct-household-about></section></div></section><section ng-if="currentState === \'confirm-leave\'" class="full-screen"><div class="confirm-leave"><p>{{ \'text.household confirm leave\' | ctText:{householdName: household.name} }}</p><p>{{ \'text.household confirm leave notice\' | ctText }}</p><div class="buttons"><button ng-click="cancelFullScreen()" class="btn btn-secondary uppercase">{{ \'word.cancel\' | ctText }}</button><button ng-click="confirmLeaveHousehold()" class="btn uppercase ct-button">{{ \'word.leave\' | ctText }}</button></div></div></section><section ng-if="currentState === \'confirm-delete\'" class="full-screen"><div class="confirm-delete"><p>{{ \'text.household confirm delete\' | ctText }}</p><p>{{ \'text.household confirm delete notice\' | ctText }}</p><div class="buttons"><button ng-click="cancelFullScreen()" class="btn btn-secondary uppercase">{{ \'word.cancel\' | ctText }}</button><button ng-click="confirmDeleteHousehold()" class="btn uppercase ct-button">{{ \'button.leave and delete\' | ctText }}</button></div></div></section><section ng-if="currentState === \'create-house\' || currentState === \'invite-members\'" class="full-screen"><ct-household-invite-form household="household"></ct-household-invite-form></section><section ng-if="currentState === \'confirm-remove\'" class="full-screen"><div class="confirm-remove"><p>{{ \'text.household remove member prompt\' | ctText:{memberName: memberToRemove.name} }}</p><p ng-if="memberToRemove.isActive" class="quiet">{{ \'text.household remove member explanation\' | ctText:{memberName: memberToRemove.name} }}</p><div class="buttons"><button ng-click="cancelFullScreen()" class="btn btn-secondary">{{ \'word.cancel\' | ctText }}</button><button ng-click="confirmRemoveMember()" class="btn ct-button">{{ \'word.remove\' | ctText }}</button></div><div ng-if="removeMemberError" role="alert" aria-atomic="true" class="notification error">{{ removeMemberError }}</div></div></section></div></div>'),e.put("/invite_friends/v1/invite_friends.html",'<div id="invite-friends" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div class="explanation"><p ng-bind-html="\'text.explain invite points earning 2\' | ctText:{totalPointsEarned: (totalPointsEarned | ctPoints), pointsPerJoin: (pointsPerInvite | ctPoints:{prefix: \'+\'})}"></p></div><div ng-if="client.enable_fb_login" class="facebook channel first"><div class="details"><p ng-bind-html="\'title.share on facebook\' | ctText" class="title"></p><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.facebook.points_earned | ctPoints)})"></p></div><div class="button-container"><a ct-fb-share="ct-fb-share" aria-label="Share on Facebook" class="btn btn-facebook"><i class="fa-facebook fa"></i>{{ \'word.share\' | ctText }}</a></div><div ng-if="fbShareComplete" class="notification notification-success"><span ng-bind-html="\'success.invite friends\' | ctText" class="msg"></span></div></div><div ng-if="client.enable_twit_login" class="twitter channel"><div class="details"><p ng-bind-html="\'title.share on twitter\' | ctText" class="title"></p><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.twitter.points_earned | ctPoints)})"></p></div><div class="button-container"><a ct-twitter-share="ct-twitter-share" aria-label="Share on Twitter" class="btn btn-twitter"><i class="fa-twitter fa"></i>{{ \'word.share\' | ctText }}</a></div><div ng-if="twitterShareComplete" class="notification notification-success"><span ng-bind-html="\'success.invite friends\' | ctText" class="msg"></span></div></div><div class="share-link channel"><div class="details"><p ng-bind-html="\'heading.invite using link\' | ctText" class="title"></p><pre ng-click="selectText()" class="link">{{ user.referral_code }}</pre><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.link.points_earned | ctPoints)})"></p></div><p ng-bind-html="\'text.explain referral link\' | ctText" class="referral-explanation"></p></div></div></div>'),e.put("/invite_friends/v2/invite_friends.html",'<div id="invite-friends-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div role="note" class="explanation"><p ng-bind-html="\'text.explain invite points earning 2\' | ctText:{totalPointsEarned: (totalPointsEarned | ctPoints), pointsPerJoin: (pointsPerInvite | ctPoints:{prefix: \'+\'})}"></p></div><div ng-if="client.enable_fb_login" aria-labelledby="facebook-header" class="facebook channel first"><div class="details"><h2 id="facebook-header" ng-bind-html="\'title.share on facebook\' | ctText" class="title"></h2><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.facebook.points_earned | ctPoints)})" class="points-earned"></p></div><div class="button-container"><a ct-fb-share="ct-fb-share" aria-label="Share on Facebook" href="#" class="btn btn-facebook"><i aria-hidden="true" class="fa-facebook fa"></i>{{ \'word.share\' | ctText }}</a></div><div ng-if="fbShareComplete" class="notification notification-success"><span role="status" ng-bind-html="\'success.invite friends\' | ctText" class="msg"></span></div></div><div ng-if="client.enable_twit_login" aria-labelledby="twitter-header" class="twitter channel"><div class="details"><h2 id="twitter-header" ng-bind-html="\'title.share on twitter\' | ctText" class="title"></h2><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.twitter.points_earned | ctPoints)})" class="points-earned"></p></div><div class="button-container"><a ct-twitter-share="ct-twitter-share" aria-label="Share on Twitter" href="#" class="btn btn-twitter"><i aria-hidden="true" class="fa-twitter fa"></i>{{ \'word.share\' | ctText }}</a></div><div ng-if="twitterShareComplete" class="notification notification-success"><span role="status" ng-bind-html="\'success.invite friends\' | ctText" class="msg"></span></div></div><div aria-labelledby="share-link-header" class="share-link channel"><div class="details"><h2 id="share-link-header" ng-bind-html="\'heading.invite using link\' | ctText" class="title"></h2><button type="button" ng-click="selectText()" aria-label="Select Share Code Text" class="selectable-link"><pre class="link">{{ user.referral_code }}</pre></button><p ng-bind-html="(\'text.points earned\' | ctText:{pointsEarned: (user.referral_stats.channels.link.points_earned | ctPoints)})" class="points-earned"></p></div><p ng-bind-html="\'text.explain referral link\' | ctText" class="referral-explanation"></p></div></div></div>'),e.put("/points_expiration/v1/points_expiration.html",'<div id="points-expiration" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><section class="intro"><p ng-bind-html="\'text.widget explain points expiration\' | ctText " class="explain"></p></section><section><h5 ng-bind-html="\'heading.expired points\' | ctText"></h5><ul><li ng-repeat="period in (pointsExpirationUserStatus.fifo_periods | filter:{expired:true})" ng-class="{\'before-start-date\': period.is_before_start_date}" class="period-container"><span class="date">{{ period.period_expiration_date | addDays: -1 | date: \'M\' | ctMonth }}\n{{ period.period_expiration_date | addDays: -1 | date: \'yyyy\' }}</span><span ng-bind-html="\'label.num points widgets\' | ctText:{points:(-1 * period.points_expired | number)}" ng-class="{negative: period.points_expired !== 0}" class="points"></span></li></ul></section><section><h5 ng-bind-html="\'heading.expiring points\' | ctText"></h5><ul><li ng-repeat="period in (pointsExpirationUserStatus.fifo_periods | filter:{expired:false})" class="period-container"><span class="date">{{ period.period_expiration_date | addDays: -1 | date: \'M\' | ctMonth }}\n{{ period.period_expiration_date | addDays: -1 | date: \'yyyy\' }}</span><span ng-bind-html="\'label.num points widgets\' | ctText:{points:(period.points_expiring | number)}" class="points"></span></li></ul></section></div></div>'),e.put("/points_expiration/v2/points_expiration.html",'<div id="points-expiration-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><section class="intro"><p ng-bind-html="\'text.widget explain points expiration\' | ctText " class="explain"></p></section><section aria-labelledby="expired-points" class="expired-points"><h2 id="expired-points" class="title">{{ \'heading.expired points\' | ctText }}</h2><ul class="period-container-list"><li ng-repeat="period in (pointsExpirationUserStatus.fifo_periods | filter:{expired:true})" ng-class="{\'before-start-date\': period.is_before_start_date}" class="period-container"><span class="date">{{ period.period_expiration_date  | date: \'M\' | ctMonth }}\n{{ period.period_expiration_date  | date: \'yyyy\' }}</span><span ng-bind-html="\'label.num points widgets\' | ctText:{points:(-1 * period.points_expired | number)}" ng-class="{negative: period.points_expired !== 0}" class="points"></span></li></ul></section><section aria-labelledby="expiring-points" class="expiring-points"><h2 id="expiring-points" class="title">{{ \'heading.expiring points\' | ctText }}</h2><ul class="period-container-list"><li ng-repeat="period in (pointsExpirationUserStatus.fifo_periods | filter:{expired:false})" class="period-container"><span class="date">{{ period.period_expiration_date | date: \'M\' | ctMonth }}\n{{ period.period_expiration_date | date: \'yyyy\' }}</span><span ng-bind-html="\'label.num points widgets\' | ctText:{points:(period.points_expiring | number)}" class="points"></span></li></ul></section></div></div>'),e.put("/poll/v2/poll.html",'<div id="poll-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><p ng-bind-html="poll.descriptionTextKey | ctTrustHtml" class="description"></p><hr/><form name="pollForm" novalidate="novalidate" ng-class="getMinHeight()" ng-if="!completed"><fieldset ng-disabled="isPollDisabled()" class="poll-container"><div class="question-container question-type-radio"><div ng-form="questionForm"><div id="question-text" class="question"><div ng-bind-html="question.questionTextKey | ctTrustHtml" class="question-text"></div></div><div aria-labelledby="question-text" role="radiogroup" class="answer-container"><span><ul class="answer-options"><li ng-repeat="a in question.answerOptions | orderBy:\'displayOrder\'" ng-class="a.imageLink ? \'has-image\' : \'\'" class="answer-option"><label class="answer-option-wrapper"><input aria-labelledby="{{ \'a\' + a.answerId + \'text\' }}" id="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" type="radio" name="question-{{question.questionId}}-answer-group" ng-required="question.required" ng-value="a.answerId.toString()" ng-model="radioChoice.value" ng-disabled="poll.isLockedByTier || poll.isLockedByPrereq" class="radio-item"/><div ng-if="a.imageLink" class="image-wrapper"><img ng-src="{{ a.imageLink }}" alt="{{ a.answerTextKey }}" class="option-image"/></div><span id="{{ \'a\' + a.answerId + \'text\' }}" class="answer-option-text">{{ a.answerTextKey }}</span></label></li></ul></span></div><div ng-if="questionForm.$dirty &amp;&amp; questionForm.$invalid" ng-bind-html="\'error.info required\' | ctText" role="alert" aria-atomic="true" class="error"></div></div></div><div class="submit-container"><p class="points ct-points-color">{{ poll.numPoints | ctPoints:{prefix: \'+\', hideOnZero: poll.numPoints} }}</p><button ng-disabled="pollForm.$invalid || isPollDisabled()" ng-click="onSubmit()" class="btn btn-small ct-button">{{ \'button.vote\' | ctText }}</button></div></fieldset></form><div ng-show="completed" class="success-container"><p class="success-message">{{ \'text.poll thanks for your vote\' | ctText }}<span>{{ \' \' }}</span><span ng-if="pointsEarned &gt; 0">{{ \'text.poll points earned\' | ctText }}</span><span>{{ \' \' }}</span><span ng-if="pointsEarned &gt; 0" class="points ct-points-color">{{ pointsEarned | number }}</span><span ng-if="pointsEarned &gt; 0"> {{ (pointsEarned > 1 ? \'text.points\' : \'text.point\') | ctText }}.</span></p><p ng-if="poll.displayResults" class="success-message"><span ng-if="poll.dateEnd != null" ng-bind-html="\'text.poll closes\' | ctText:{pollEndDate:pollEndDate, pollEndTime:pollEndTime}"></span><span ng-if="poll.dateEnd != null"> {{ \' \' }}</span><span ng-bind-html="\'text.poll results title\' | ctText"></span></p><div id="chartContainer" ng-if="poll.displayResults" class="ct-chart"></div><p ng-if="!poll.displayResults" class="success-message">{{ poll.successMessage }}</p></div><div ng-if="poll.isLockedByTier || poll.isLockedByPrereq" role="status" class="lock-mask"><div class="lock-container"><div ng-if="poll.isLockedByPrereq" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by prereq\' | ctText:{activity: poll.prereqActivityTitle} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: poll.prereqActivityTitle}" class="unlock-explain"></span></div><div ng-if="poll.isLockedByTier" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by tier\' | ctText:{tier: getTierNameById(poll.minTierId)} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(poll.minTierId)}" class="min-tier-explain"></span></div></div></div></div></div>'),e.put("/purchase_history/v1/purchase_history.html",'<div id="purchase-history" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><table cellspacing="0" summary="Purchase History" class="purchase-history-table"><thead><tr><th ng-bind-html=" \'text.purchase date\' | ctText "></th><th ng-bind-html=" \'text.purchase\' | ctText "></th></tr></thead><tbody><tr ng-show="orders.length == 0"><td colspan="100%" class="center"><span ng-bind-html="\'text.no date available\' | ctText" class="empty"></span></td></tr><tr ng-repeat="order in orders | orderBy: \'-lastDatePurchased\'"><td class="date">{{ order.lastDatePurchased | uppercase | date:\'M/d/yyyy\' }}</td><td class="purchase"><div class="heading"><div ng-click="expandOrder(order)" class="title">{{ \'text.receipt number\' | ctText }}: {{ order.purchaseId }}<div aria-label="{{ order.expanded ? \'Collapse Purchase\' : \'Expand Purchase\' }}" ng-bind-html="order.expanded ? \'-\' : \'+\'" class="expand-collapse">+</div></div><div class="points"><div>{{ \'text.awarded\' | ctText }}: +{{ order.totalPointsAwarded }} {{ \'text.points\' | ctText }}</div><i ng-if="order.totalPointsPending &gt; 0" class="pending">{{ \'text.pending\' | ctText }}: {{ order.totalPointsPending }} {{ \'text.points\' | ctText }}</i><i ng-if="pointCapReached(order)" ng-bind-html=" \'text.point cap reached\' | ctText " class="pending"></i></div></div><div ng-if="order.expanded" ng-repeat="item in orderItems[order.purchaseId]" class="details"><div ng-if="item.type == \'pending\'" class="title pending">{{ \'text.pending\' | ctText }}: {{ item.sku }} {{ formatQuantity(item.quantity) }}</div><div ng-if="item.type == \'purchased\' || item.type == \'fulfilled\'" class="title">{{ \'word.purchased\' | ctText }}: {{ item.sku }} {{ formatQuantity(item.quantity) }}</div><div ng-if="item.type == \'pending\'" class="points pending">{{ item.pointsAwaitingFulfillment }} {{ \'text.points\' | ctText }}</div><div ng-if="item.type == \'purchased\' || item.type == \'fulfilled\'" class="points">+{{ item.pointsAwarded }} {{ \'text.points\' | ctText }}</div><div ng-if="item.type == \'returned\'" ng-repeat="return in item.returns" class="details"><div class="title">{{ \'text.returned\' | ctText }}: {{ return.dateOccurred | date }} {{ item.sku }} {{ formatQuantity(return.quantityReturned) }}</div><div class="points">-{{ return.pointsDeducted }} {{ \'text.points\' | ctText }}</div></div><div ng-if="item.type == \'cancelled\'" ng-repeat="fulfillment in item.fulfillments" class="details"><div class="title">{{ \'text.cancelled\' | ctText }}: {{ fulfillment.dateOccurred | date }} {{ item.sku }} {{ formatQuantity(return.quantityReturned) }}</div><div class="points">{{ fulfillment.pointsCancelled }} {{ \'text.points\' | ctText }}</div></div></div></td></tr></tbody></table></div></div>'),e.put("/purchase_history/v2/purchase_history.html",'<div id="purchase-history-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><table summary="{{ \'heading.purchase-history widget title\' | ctText }}" class="purchase-history-table"><caption class="visually-hidden">{{ \'heading.purchase-history widget title\' | ctText }}</caption><thead><tr><th scope="col" ng-bind-html="\'text.purchase date\' | ctText"></th><th scope="col" ng-bind-html="\'text.purchase\' | ctText"></th></tr></thead><tbody><tr ng-hide="orders.length"><td colspan="100%" class="center"><span role="status" ng-bind-html="\'text.no date available\' | ctText" class="empty"></span></td></tr><tr ng-repeat-start="order in orders | orderBy: \'-lastDatePurchased\'"><td class="date">{{ order.lastDatePurchased | uppercase | date:\'M/d/yyyy\' }}</td><td class="purchase"><div class="heading"><button type="button" ng-click="expandOrder(order)" aria-expanded="{{ order.expanded ? \'true\' : \'false\' }}" class="title">{{ \'text.receipt number\' | ctText }}: {{ order.purchaseId }}<div aria-label="{{ order.expanded ? \'Hide Receipt Details\' : \'Expand Receipt Details To See Items\' }}" class="expand-collapse">{{ order.expanded ? \'-\' : \'+\' }}</div></button><div class="title-points">+{{ order.totalPointsAwarded }} {{ \'text.points\' | ctText }}<div ng-if="order.totalPointsPending &gt; 0" class="title-pending">{{ \'text.pending\' | ctText }}: {{ order.totalPointsPending }} {{ \'text.points\' | ctText }}</div><div ng-if="pointCapReached(order)" ng-bind-html="\'text.point cap reached\' | ctText" class="point-cap-reached"></div><div ng-if="isTierBySpendEnabled() &amp;&amp; !isPointsAndSpendSame(order)" class="title-price">{{ order.tierEligibleTotal | currency:getBaseCurrency() }} {{ \'text.eligible for tier\' | ctText }}</div></div><tr ng-if="order.expanded" ng-repeat="item in orderItems[order.purchaseId]" ng-repeat-end="ng-repeat-end" class="itemrow"><td class="noborder"></td><td class="noborder"><div ng-if="item.type == \'pending\'" aria-label="Pending Items" aria-atomic="true" class="pending-items"><span class="title pending">{{ \'text.pending\' | ctText }}: {{ item.sku }} {{ formatQuantity(item.quantity) }}</span><span class="points pending">{{ item.pointsAwaitingFulfillment }} {{ \'text.points\' | ctText }}</span><br/><span ng-if="item.isExcluded &amp;&amp; isTierBySpendEnabled()" class="not-tier-eligible">{{ \'text.not tier eligible\' | ctText }}</span></div><div ng-if="item.type == \'purchased\' || item.type == \'fulfilled\'" aria-label="Purchased Items" aria-atomic="true" class="purchased-items"><span class="title">{{ \'word.purchased\' | ctText }}: {{ item.sku }} {{ formatQuantity(item.quantity) }}</span><span class="points">+{{ item.pointsAwarded }} {{ \'text.points\' | ctText }}</span><br/><span ng-if="item.isExcluded &amp;&amp; isTierBySpendEnabled()" class="not-tier-eligible">{{ \'text.not tier eligible\' | ctText }}</span></div><div ng-if="item.type == \'returned\'" ng-repeat="return in item.returns" aria-label="Returned Items" aria-atomic="true" class="returned-items details"><span class="title">{{ \'text.returned\' | ctText }}: {{ return.dateOccurred | date }} {{ item.sku }} {{ formatQuantity(return.quantityReturned) }}</span><span class="points">-{{ return.pointsDeducted }} {{ \'text.points\' | ctText }}</span><br/><span ng-if="item.isExcluded &amp;&amp; isTierBySpendEnabled()" class="not-tier-eligible">{{ \'text.not tier eligible\' | ctText }}</span></div><div ng-if="item.type == \'cancelled\'" ng-repeat="fulfillment in item.fulfillments" aria-label="Cancelled Items" aria-atomic="true" class="cancelled-items details"><span class="title">{{ \'text.cancelled\' | ctText }}: {{ fulfillment.dateOccurred | date }} {{ item.sku }} {{ formatQuantity(return.quantityReturned) }}</span><span class="points">{{ fulfillment.pointsCancelled }} {{ \'text.points\' | ctText }}</span><br/><span ng-if="item.isExcluded &amp;&amp; isTierBySpendEnabled()" class="not-tier-eligible">{{ \'text.not tier eligible\' | ctText }}</span></div></td></tr></div></td></tr></tbody></table></div></div>'),e.put("/quiz/v2/questionnaire_pagination_bar.html",'\x3c!-- TODO(jblacker)|CTEPR-1542: Relocate directive to be shared with other questionnaire components--\x3e<div class="buttons"><div class="buttons__left"><button ng-disabled="currentQuestion === 0" ng-click="toPreviousPage()" ng-bind-html="\'button.back\' | ctText" class="btn btn-small ct-button"></button></div><div aria-live="polite" aria-label="{{ \'Question \' + (pagination.current+1) + \' of \' + pagination.max }}" class="buttons__progress progress"><div ng-style="{\'width\': progressWidth }" class="progress__filled"></div></div><div class="buttons__right"><button ng-if="!isLastPage()" ng-click="toNextPage()" ng-disabled="!canGoToNextPage" ng-bind-html="\'link.next\' | ctText" class="btn btn-small ct-button"></button><button ng-if="isLastPage()" ng-disabled="!canGoToNextPage" ng-bind-html="\'button.submit\' | ctText" ng-click="submit()" class="btn btn-small ct-button"></button></div></div>'),e.put("/quiz/v2/quiz.html",'<div id="quiz-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><p ng-if="completed" ng-bind-html="quiz.resultsMessage | ctTrustHtml" class="description"></p><p ng-if="!completed" ng-bind-html="quiz.descriptionTextKey | ctTrustHtml" class="description"></p><div ng-if="!completed" class="points-header"><p class="points ct-points-color">{{ quiz.numPoints | ctPoints:{prefix: \'+\', hideOnZero: quiz.numPoints} }}<span ng-if="quiz.quizGradingTextKey" ng-bind-html="quiz.quizGradingTextKey | ctText: quiz.quizGradingTextKeyContext" class="points-description"></span></p></div><hr/><form name="quizForm" novalidate="novalidate" ng-class="getMinHeight()" ng-if="!completed"><fieldset ng-disabled="isQuizDisabled()" class="quiz-container"><ul ng-class="{\'questions--paginated\': pagination.paginated}" class="questions"><li ng-repeat="q in questions | orderBy:\'displayOrder\'"><ct-questionnaire-question-input question="q" answer="answers[q.questionId.toString()]" ng-show="!pagination.paginated || pagination.currentPage == $index"></ct-questionnaire-question-input></li></ul><div ng-if="!pagination.paginated" class="submit-container"><button ng-disabled="quizForm.$invalid || isQuizDisabled()" ng-click="onSubmit()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div><ct-questionnaire-pagination-bar ng-if="pagination.paginated" question-count="quiz.questions.length" current-question="pagination.currentPage" can-go-to-next-page="isAnswered(pagination.currentPage+1)" on-submit="onSubmit()"></ct-questionnaire-pagination-bar></fieldset></form><div ng-show="completed" class="notification-container"><div ng-if="submitSuccess" class="points-container"><div ng-if="passed" class="points"><div class="points-plus">+</div><div class="points-amount">{{ pointsEarned | number }}</div></div><div class="success-message">{{ quizFailedGradeRequiredTextKey ? (quizFailedGradeRequiredTextKey | ctText: quizCompletedTextKeyContext) : \'\' }}\n{{ quizCompletedScoreTextKey | ctText: quizCompletedTextKeyContext }}</div></div><div ng-if="notification === \'error\'" role="alert" aria-atomic="true" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'text.survey save error status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save error\' | ctText" class="msg"></span></div><ct-quiz-question-results ng-if="shouldDisplayResultsSummary()" questions="questions" answers="userResponse.answers"></ct-quiz-question-results></div><div ng-if="quiz.isLockedByTier || quiz.isLockedByPrereq" role="status" class="lock-mask"><div class="lock-container"><div ng-if="quiz.isLockedByPrereq" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by prereq\' | ctText:{activity: quiz.prereqActivityTitle} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: quiz.prereqActivityTitle}" class="unlock-explain"></span></div><div ng-if="quiz.isLockedByTier" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by tier\' | ctText:{tier: getTierNameById(quiz.minTierId)} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(quiz.minTierId)}" class="min-tier-explain"></span></div></div></div></div></div>'),e.put("/quiz/v2/quiz_question_result.html",'<div class="quiz-summary-container"><div ng-repeat="question in questions | orderBy: displayOrder" ng-class="getQuestionClass(question)" aria-label="Question {{$index + 1}}" class="question-summary"><div ng-bind-html="question.questionTextKey | ctTrustHtml" class="question-text"></div><div class="answer-options"><div ng-repeat="option in question.answerOptions | orderBy: displayOrder" class="answer-option-wrapper"><div ng-class="getAnswerOptionIconClasses(question, option)" aria-label="{{ getAnswerOptionIconAriaLabel(question, option) }}" class="answer-option-icon"></div><div ng-class="getAnswerOptionTextClasses(question, option)" class="answer-option-text">{{ option.answerTextKey }}\n{{ isCorrectAnswer(question, option) ? \' (\' + (\'text.quiz correct answer\' | ctText) + \')\' : \'\' }}</div></div></div></div></div>'),
e.put("/redeem/v1/confirmation.html",'<div id="confirmation"><div class="reward-title">{{ reward.title }}</div><div class="left"><div ng-style="{\'background-image\':\'url(\' + mainImageUrl+ \')\'}" class="reward-image"></div><div ng-if="reward.additional_images" class="additional-images"><div ng-style="{\'background-image\':\'url(\' + reward.img_url + \')\'}" ng-click="setMainImage(reward.img_url)" class="image-thumb"></div><div ng-repeat="image in reward.additional_images" ng-style="{\'background-image\':\'url(\' + image.imageUrl + \')\'}" ng-click="setMainImage(image.imageUrl)" class="image-thumb"></div></div></div><div class="right"><div ng-if="successType === \'download\'" class="explain-redeem-success"><div ng-bind-html="\'text.widget explain redeemed download\' | ctText"></div><div><span class="no-emphasis">{{ user.email_address }}</span></div></div><div ng-if="successType === \'coupon\'" class="explain-redeem-success"><div ng-bind-html="\'text.widget explain redeemed coupon\' | ctText" class="explain-coupon"></div><div ng-repeat="coupon in couponCodes" ng-if="couponTypes[$index] == textCouponTypeId" class="coupon-code no-emphasis">{{ coupon }}</div><div ng-repeat="coupon in couponCodes" ng-if="couponTypes[$index] == urlCouponTypeId" class="coupon-code no-emphasis"><a href="{{coupon}}" target="_blank">{{ \'text.reward redemption coupon code\' | ctText: {coupon: coupon} }}</a></div><div ng-if="couponCodesExpireDate" class="expiresAt">{{ \'text.expiration date\' | ctText }} {{couponCodesExpireDate}}</div><div ng-bind-html="\'&amp;nbsp;\' + reward.explain_confirmation_sent + \'&amp;nbsp;\' | ctTrustHtml" class="confirmation-sent-to"></div><div class="no-emphasis">{{ user.email_address }}</div></div><div ng-if="successType === \'standard\' || successType === \'sweepstakes\'" class="explain-redeem-success"><span ng-bind-html="(\'text.widget explain redeemed standard reward\' | ctText)"></span><span ng-bind-html="\'&amp;nbsp;\' + reward.explain_confirmation_sent + \'&amp;nbsp;\' | ctTrustHtml"></span><div class="address"><span class="no-emphasis">{{ user.email_address }}</span></div></div><div ng-if="reward.is_shipping_required" class="show-ship-info"><p ng-bind-html="\'text.redeem widget explain ship address\' | ctText"></p><div class="address"><div>{{ address.ship_address.full_name }}</div><div>{{ address.ship_address.street_address_1 }}</div><div ng-if="address.ship_address.street_address_2.length">{{ address.ship_address.street_address_2 }}</div><div>{{ user.ship_info.ship_address.city }},\n{{ user.ship_info.ship_address.state }}\n{{ user.ship_info.ship_address.postal_code }}\n{{ user.ship_info.ship_address.country }}</div><div>{{ user.ship_info.phone_number }}</div></div></div><div class="numeric-details"><div ng-if="!reward.isDownload()" class="row"><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label><div>{{ vals.quantity }}</div></div><div class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() * vals.quantity | ctPoints }}</div></div></div><div class="close-container"><a ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</a><a target="_blank" href="{{ downloadUrl }}" ng-if="downloadUrl" class="btn ct-button">{{ \'button.download\' | ctText }}</a></div></div></div>'),e.put("/redeem/v1/details.html",'<div id="details"><div class="reward-title">{{ reward.title }}</div><div class="left"><div ng-style="{\'background-image\':\'url(\' + mainImageUrl+ \')\'}" class="reward-image"></div><div ng-if="reward.additional_images" class="additional-images"><div ng-style="{\'background-image\':\'url(\' + reward.img_url + \')\'}" ng-click="setMainImage(reward.img_url)" class="image-thumb"></div><div ng-repeat="image in reward.additional_images" ng-style="{\'background-image\':\'url(\' + image.imageUrl + \')\'}" ng-click="setMainImage(image.imageUrl)" class="image-thumb"></div></div><div class="numeric-details"><div ng-if="!reward.isExternal()" class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() | ctPoints }}</div></div><div class="row"><label ng-bind-html="\'label.redeemable points redeem widget\' | ctText"></label><div class="ct-points-color">{{ user.points() | ctPoints }}</div></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}"></span><span ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')}"></span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="sold-out"></span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div></div><div class="right"><div ng-bind-html="reward.description | ctTrustHtml" class="description"></div><div ng-if="state === \'ended\'" class="reward-ended-explanation"><p ng-bind-html="\'text.explain reward has ended\' | ctText"></p></div><div ng-if="state === \'underage\'" class="underage-explanation"><p ng-bind-html="\'text.explain reward too young\' | ctText:{minAge: reward.minAge()}"></p></div><div ng-if="state === \'locked-age\'" class="must-set-age locked-container"><div class="locked-heading"><div class="fa fa-lock"></div><span ng-bind-html="\'word.locked\' | ctText"></span></div><p ng-bind-html="\'text.explain birthday required widget\' | ctText"></p></div><div ng-if="state === \'sold-out\'" class="sold-out"><p ng-bind-html="\'text.explain reward sold out\' | ctText"></p></div><div ng-if="state === \'email-not-verified\'" class="verify-email-explanation"><div ng-bind-html="\'heading.verify your email\' | ctText" class="heading"></div><p ng-bind-html="\'text.explain email verification required\' | ctText:{email:user.lastEmailAddressVerifyEmailWasSentTo()}"></p><form name="verifyEmailForm"><dl class="form"><dt><label ng-bind-html="\'label.email address\' | ctText"></label></dt><dd><input type="email" name="email" ng-model="lastEmailAddress"/></dd></dl><div><button ng-click="resendVerificationEmail(lastEmailAddress)" class="btn ct-button">{{ \'button.resend email\' | ctText }}</button></div><div ng-if="resendEmailSuccess" ng-bind-html="\'success.verify new email\' | ctText:{email:lastEmailAddress}" class="notification success"></div><div ng-if="resendEmailError" class="notification error">{{ resendEmailError }}</div></form></div><div ng-if="state === \'exceeded-limit\'" class="exceeded-limit-container"><div ng-bind-html="\'text.redeem widget explain reached max red\' | ctText"></div><div class="buttons"><button ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div ng-if="state === \'exceeded-frequency-cap\'" class="exceeded-frequency-cap-container"><div class="exceeded-frequency-cap-heading"><div class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget redemption frequency cap reached\' | ctText"></span></div><div ng-if="reward.isNotEndingBeforeFrequencyPeriod()" ng-bind-html="\'text.redeem widget explain reached freq cap\' | ctText:{datePart:(reward.getNextDateRedeemable() | date : \'fullDate\'),timePart:(reward.getNextDateRedeemable() | date : \'shortTime\')}" class="text"></div><div ng-if="!reward.isNotEndingBeforeFrequencyPeriod()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></div></div><div ng-if="state === \'group-point-cap-reached\'" class="exceeded-category-cap-container"><h3 class="exceeded-category-cap-heading"><div class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget reward category point cap reached\' | ctText"></span></h3><p ng-if="reward.isNotEndingBeforeCategoryCapPeriod()" ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><p ng-if="!reward.isNotEndingBeforeCategoryCapPeriod() &amp;&amp; reward.dateEndAsDate()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></p></div><div ng-if="state === \'group-point-and-frequency-cap-reached\'" class="exceeded-category-and-frequency-cap-container"><h3 class="exceeded-category-and-frequency-cap-heading"><div role="presentation" class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget reward category and group point cap reached\' | ctText"></span></h3><p ng-if="reward.isNotEndingBeforeCategoryCapPeriod()" ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><p ng-if="!reward.isNotEndingBeforeCategoryCapPeriod() &amp;&amp; reward.dateEndAsDate()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></p></div><div ng-if="state === \'locked\'" class="locked-container"><div class="locked-heading"><div class="fa fa-lock"></div><span ng-bind-html="\'word.locked\' | ctText"></span></div><div ng-switch="locker" class="unlock-holder"><div ng-switch-when="multiple" class="unlock-multiple"><div><img ng-src="{{ minimumFanLevel.image_url }}" alt="{{ minimumFanLevel.name }}"/><div ng-bind-html="\'text.need both level and activity text\' | ctText:{ levelName: minimumFanLevel.name }" class="text"></div></div><ul class="unlock-activities"><li ng-repeat="unlockAct in reward.unlocked_by" class="unlock-activity">- {{ unlockAct.activity_title }}</li></ul></div><div ng-switch-when="level" class="unlock-with-level"><img ng-src="{{ minimumFanLevel.image_url }}" alt="{{ minimumFanLevel.name }}"/><div ng-bind-html="\'text.need level text\' | ctText:{ levelName: minimumFanLevel.name }" class="text"></div></div><div ng-switch-when="activity" class="unlock-with-activity"><p ng-bind-html="\'text.explain unlock reward redeem widget\' | ctText"></p><ul class="unlock-activities"><li ng-repeat="unlockAct in reward.unlocked_by" class="unlock-activity">- {{ unlockAct.activity_title }}</li></ul></div></div></div><div ng-if="state === \'not-enough-points\'" class="not-enough-points-container"><p ng-bind-html="\'text.explain redeem not enough points\' | ctText:{pointsAway: (reward.cost() - user.points() | number)}"></p></div><div ng-if="state === \'not-enough-points-in-category\' &amp;&amp; reward.getCategoryCapLimit() &lt; reward.cost()" class="not-enough-points-in-category-container"><p ng-bind-html="\'text.explain redeem not enough points in category can not redeem\' | ctText:{maxPoints: (reward.getCategoryCapLimit() | number)}"></p><div class="buttons"><button ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div ng-if="state === \'not-enough-points-in-category\' &amp;&amp; reward.getCategoryCapLimit() &gt;= reward.cost()" class="not-enough-points-in-category-container"><p ng-bind-html="\'text.explain redeem not enough points in category\' | ctText:{balancePoints: (reward.getCategoryCapBalance() | number)}"></p><p ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><div class="buttons"><button ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div ng-if="state === \'allow-redemption\'" class="redemption-details"><form name="redeemForm" novalidate="novalidate"><dl ng-if="reward.hasColors()" class="form"><dt><label ng-bind-html="\'label.color name\' | ctText"></label></dt><dd><select required="required" name="color" ng-model="vals.color" ng-change="updateQuantity()" ng-options="color as color for color in reward.getColors()"></select></dd></dl><dl ng-if="reward.hasSizes()" class="form"><dt><label ng-bind-html="\'label.size new\' | ctText"></label></dt><dd><select required="required" name="size" ng-disabled="reward.hasColors() &amp;&amp; !vals.color" ng-model="vals.size" ng-change="updateQuantity()" ng-options="size as size for size in reward.getSizes(vals.color)"></select></dd></dl><dl ng-if="!reward.isDownload()" class="form"><dt><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label></dt><dd ng-init="updateQuantity()"><select required="required" ng-disabled="(reward.hasColors() &amp;&amp; !vals.color) || (reward.hasSizes() &amp;&amp; !vals.size)" ng-model="vals.quantity" ng-options="quantity for quantity in selectQuantity"></select></dd><dd ng-if="maxQuantityError" class="error">{{ maxQuantityError }}</dd></dl><dl ng-if="reward.isDownload()" class="form"><dt><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label></dt><dd ng-init="vals.quantity = 1" ng-bind-html="\'text.redemption automatically quantity\' | ctText"></dd><dd ng-if="maxQuantityError" class="error">{{ maxQuantityError }}</dd></dl><dl ng-if="reward.tos_url" class="form checkbox"><dt><input id="input-agree-tos" type="checkbox" ng-model="vals.agreeTos" required="required" name="agreeTos"/></dt><dd><label for="input-agree-tos" ng-bind-html="\'label.agree tos\' | ctText:{tosUrl: reward.tos_url}" ng-model="vals.tos"></label></dd></dl><div ng-if="isVerified &amp;&amp; reward.is_shipping_required" class="dl form submit"><button ng-disabled="redeemForm.$invalid" ng-click="moveToVerification()" class="btn ct-button">{{ \'button.continue\' | ctText }}</button></div><div ng-if="!isVerified || !reward.is_shipping_required" class="dl form submit"><button ng-disabled="redeemForm.$invalid" ng-click="nextStep()" class="btn ct-button">{{ \'button.continue\' | ctText }}</button></div></form></div><div ng-if="state === \'exceeded-frequency-cap\'" class="close-container"><a ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</a></div></div></div>'),e.put("/redeem/v1/redeem.html",'<div ng-if="step === 1"><div id="redeem" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget\' | ctText }}</h3></div><div class="container"><div ng-include="\'/redeem/v1/details.html\'"></div></div></div></div><div ng-if="step === 2"><div id="redeem" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget review info\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v1/review.html\'"></div></div></div></div><div ng-if="step === 3"><div id="redeem" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget review info\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v1/verification.html\'"></div></div></div></div><div ng-if="step === 4"><div id="redeem" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget confirmation\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v1/confirmation.html\'"></div></div></div></div>'),e.put("/redeem/v1/review.html",'<div id="review"><div class="reward-title">{{ reward.title }}</div><div class="left"><div ng-style="{\'background-image\':\'url(\' + mainImageUrl+ \')\'}" class="reward-image"></div><div ng-if="reward.additional_images" class="additional-images"><div ng-style="{\'background-image\':\'url(\' + reward.img_url + \')\'}" ng-click="setMainImage(reward.img_url)" class="image-thumb"></div><div ng-repeat="image in reward.additional_images" ng-style="{\'background-image\':\'url(\' + image.imageUrl + \')\'}" ng-click="setMainImage(image.imageUrl)" class="image-thumb"></div></div></div><div class="right"><div class="numeric-details"><div ng-if="reward.hasColors()" class="row"><label ng-bind-html="\'label.color name\' | ctText"></label><div>{{ vals.color }}</div></div><div ng-if="reward.hasSizes()" class="row"><label ng-bind-html="\'label.size new\' | ctText"></label><div>{{ vals.size }}</div></div><div ng-if="!reward.isDownload()" class="row"><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label><div>{{ vals.quantity }}</div></div><div ng-if="reward.isDownload()" class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() | ctPoints }}</div></div><div ng-if="!reward.isDownload()" class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() * vals.quantity | ctPoints }}</div></div><div class="row"><label ng-bind-html="\'label.redeemable points redeem widget\' | ctText"></label><div class="ct-points-color">{{ user.points() | ctPoints }}</div></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()">{{ \'label.ends in days\' | ctText:{days: reward.daysTilEnd()} }}</span><span ng-if="reward.hasEnded()">{{ \'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')} }}</span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" class="sold-out">{{ \'text.sold out\' | ctText }}</span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div><div class="email-address-info"><label ng-bind-html="\'label.email address\' | ctText"></label><div class="email-address">{{ user.email_address }}</div><p ng-bind-html="\'text.redemption confirm email\' | ctText"></p></div><div ng-if="reward.is_shipping_required || reward.is_phone_number_required" class="shipping-info"><div ng-if="reward.is_shipping_required" ng-bind-html="\'heading.shipping address\' | ctText" class="ship-info-heading"></div><form name="shipInfoForm" novalidate="novalidate"><div ng-if="reward.is_shipping_required" class="shipping-info-form"><dl class="form side-by-side"><dt><label ng-bind-html="\'label.first name\' | ctText"></label></dt><dd><input name="firstName" required="required" type="text" ng-model="user.ship_info.ship_address.first_name"/></dd><dd ng-if="shipInfoForm.firstName.$dirty &amp;&amp; shipInfoForm.firstName.$error.required" ng-bind-html="\'error.first name required\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dt><label ng-bind-html="\'label.last name\' | ctText"></label></dt><dd><input name="lastName" required="required" type="text" ng-model="user.ship_info.ship_address.last_name"/></dd><dd ng-if="shipInfoForm.lastName.$dirty &amp;&amp; shipInfoForm.lastName.$error.required" ng-bind-html="\'error.last name required\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dt><label ng-bind-html="\'label.address line 1\' | ctText"></label></dt><dd><input type="text" name="streetAddress1" ng-model="user.ship_info.ship_address.street_address_1" ng-maxlength="250" required="required"/></dd><dd ng-if="shipInfoForm.streetAddress1.$dirty &amp;&amp; shipInfoForm.streetAddress1.$error.required" ng-bind-html="\'error.street address 1 required\' | ctText" class="error"></dd><dd ng-if="shipInfoForm.streetAddress1.$dirty &amp;&amp; shipInfoForm.streetAddress1.$error.maxlength" ng-bind-html="\'error.street address max length exceeded\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dt><label ng-bind-html="\'label.address line 2\' | ctText"></label></dt><dd><input type="text" name="streetAddress2" ng-model="user.ship_info.ship_address.street_address_2" ng-maxlength="250"/></dd><dd ng-if="shipInfoForm.streetAddress2.$dirty &amp;&amp; shipInfoForm.streetAddress2.$error.maxlength" ng-bind-html="\'error.street address max length exceeded\' | ctText" class="error"></dd></dl><dl ng-if="!isUsAddress" class="form side-by-side select"><dt><a ng-if="client.is_us_allowed" ng-click="updateUsAddress()" ng-bind-html="\'link.live in the us\' | ctText" href="#" class="country-link"></a><label ng-bind-html="\'label.country\' | ctText"></label></dt><dd><select name="country" ng-model="user.ship_info.ship_address.country" required="required" ng-options="country.country_name as country.country_name for country in location.countries"></select></dd><dd ng-if="shipInfoForm.country.$dirty &amp;&amp; shipInfoForm.country.$error.required" ng-bind-html="\'error.country required\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dt><a ng-click="updateUsAddress()" ng-if="isUsAddress &amp;&amp; !client.is_only_us_allowed" href="#" class="country-link">{{ \'link.live outside us\' | ctText }}</a><label ng-if="isUsAddress" ng-bind-html="\'label.zip code\' | ctText"></label><label ng-if="!isUsAddress" ng-bind-html="\'label.postal code\' | ctText"></label></dt><dd><input type="text" name="zip" required="required" ng-model="user.ship_info.ship_address.postal_code"/></dd><dd ng-if="shipInfoForm.zip.$dirty &amp;&amp; shipInfoForm.zip.$error.required" ng-bind-html="\'error.postal code required\' | ctText" class="error"></dd><dd ng-if="shipInfoForm.zip.$error.invalid" ng-bind-html="\'error.invalid postal code\' | ctText" class="error"></dd><dd ng-if="shipInfoForm.zip.$error.state_restricted" ng-bind-html="\'error.postal code restricted\' | ctText" class="error"></dd><dd ng-if="postal_code_error" class="error">{{ postal_code_error }}</dd></dl><dl ng-class="{\'clear-left\': isUsAddress}" class="form side-by-side"><dt><label ng-bind-html="\'label.city\' | ctText"></label></dt><dd><input type="text" required="required" name="city" ng-model="user.ship_info.ship_address.city"/></dd><dd ng-if="shipInfoForm.city.$dirty &amp;&amp; shipInfoForm.city.$error.required" ng-bind-html="\'error.city required\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dt><label ng-if="isUsAddress" ng-bind-html="\'label.state\' | ctText"></label><label ng-if="!isUsAddress" ng-bind-html="\'label.state province region\' | ctText"></label></dt><dd><input type="text" name="state" required="required" ng-model="user.ship_info.ship_address.state"/></dd><dd ng-if="shipInfoForm.state.$dirty &amp;&amp; shipInfoForm.state.$error.required" ng-bind-html="\'error.state required\' | ctText" class="error"></dd></dl><div ng-if="isUsAddress" class="buttons"><i ng-if="isVerifying" class="fa fa-spinner fa-spin"></i><button ng-disabled="shipInfoForm.$invalid" ng-click="doVerification()" class="btn btn-secondary">{{ \'text.verify address\' | ctText }}</button></div></div><div ng-if="reward.is_phone_number_required" class="phone-info"><dl class="form side-by-side"><dt><label ng-bind-html="\'label.mobile phone number\' | ctText"></label></dt><dd><input type="text" name="phone" ng-required="!isUsAddress" ng-model="user.ship_info.phone_number"/></dd><dd ng-if="shipInfoForm.phone.$dirty &amp;&amp; shipInfoForm.phone.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" class="error"></dd></dl></div><div class="buttons"><button ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button ng-click="doRedeem()" ng-disabled="isUsAddress || shipInfoForm.$invalid" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div></form></div><div ng-if="!reward.is_shipping_required &amp;&amp; !reward.is_phone_number_required" class="buttons"><button ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button ng-click="doRedeem()" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div><div ng-if="(redeemError || redeemErrorInfo) &amp;&amp; !maxQuantityError" class="notifcation-container"><div class="notification error"><i class="fa fa-exclamation"></i><span ng-if="redeemErrorInfo.postal_code === \'invalid\'" ng-bind-html="\'error.invalid postal code\' | ctText" class="msg"></span><span ng-if="redeemErrorInfo.postal_code === \'state_restricted\'" ng-bind-html="\'error.shipping postal code restricted\' | ctText" class="msg"></span><span ng-if="redeemErrorInfo.country === \'invalid\'" class="msg">{{ \'error.invalid country\' | ctText }}</span><span ng-if="countryError &amp;&amp; redeemErrorInfo.country === \'country_restricted\'" class="msg">{{ \'error.shipping country restricted\' | ctText: { countryError: countryError } }}</span><span ng-if="redeemError" class="msg">{{ redeemError }}</span></div></div></div></div>'),e.put("/redeem/v1/verification.html",'<div id="review"><div class="reward-title">{{ reward.title }}</div><div class="left"><div ng-style="{\'background-image\':\'url(\' + mainImageUrl+ \')\'}" class="reward-image"></div><div ng-if="reward.additional_images" class="additional-images"><div ng-style="{\'background-image\':\'url(\' + reward.img_url + \')\'}" ng-click="setMainImage(reward.img_url)" class="image-thumb"></div><div ng-repeat="image in reward.additional_images" ng-style="{\'background-image\':\'url(\' + image.imageUrl + \')\'}" ng-click="setMainImage(image.imageUrl)" class="image-thumb"></div></div></div><div class="right"><div class="numeric-details"><div ng-if="!reward.isDownload()" class="row"><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label><div>{{ vals.quantity }}</div></div><div ng-if="reward.isDownload()" class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() | ctPoints }}</div></div><div ng-if="!reward.isDownload()" class="row"><label ng-bind-html="\'label.cost\' | ctText"></label><div class="ct-points-color">{{ reward.cost() * vals.quantity | ctPoints }}</div></div><div class="row"><label ng-bind-html="\'label.redeemable points redeem widget\' | ctText"></label><div class="ct-points-color">{{ user.points() | ctPoints }}</div></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}"></span><span ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')}"></span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="sold-out"></span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div><div class="email-address-info"><label ng-bind-html="\'label.email address\' | ctText"></label><div class="email-address">{{ user.email_address }}</div><p ng-bind-html="\'text.redemption confirm email\' | ctText"></p></div><div class="shipping-info"><div ng-if="reward.is_shipping_required" ng-bind-html="\'heading.shipping address\' | ctText" class="ship-info-heading"></div><form name="shipInfoForm" novalidate="novalidate"><div ng-class="{\'has-suggested\': !isValid}" class="ship-info-body"><div class="ship-info-block"> <dl ng-hide="isValid" class="form radio"><dd><input type="radio" name="originalAddress" value="1" id="saveOriginalAddress" ng-model="user.useOriginalAddress" ng-change="addressChanged()"/></dd><dt><label for="saveOriginalAddress" ng-bind-html="\'label.original\' | ctText"></label><a ng-click="prevStep()" href="#" class="edit-link">{{ \'button.edit\' | ctText }}</a></dt></dl><div ng-if="isValid" class="ship-info-block-verified"><span ng-if="isValid &amp;&amp; isVerified"><i class="fa fa-check-circle success"></i><span ng-bind-html="\'text.verified\' | ctText" class="completed"></span></span><a ng-click="prevStep()" href="#" class="edit-link">{{ \'button.edit\' | ctText }}</a></div><div class="ship-info-block-details"><p>{{ originalAddress.ship_address.first_name }} {{ originalAddress.ship_address.last_name }}</p><p>{{ originalAddress.ship_address.street_address_1 }} {{ originalAddress.ship_address.street_address_2 }}</p>{{ originalAddress.ship_address.city }},\n{{ originalAddress.ship_address.state }}\n{{ originalAddress.ship_address.postal_code }}\n{{ originalAddress.ship_address.country }}</div></div><div ng-show="!isValid &amp;&amp; suggestedAddress != null" class="ship-info-block"><dl class="form radio"><dd><input type="radio" name="originalAddress" value="2" id="useSuggestedAddress" ng-model="user.useOriginalAddress" ng-change="addressChanged()"/></dd><dt><label for="useSuggestedAddress" ng-bind-html="\'label.suggested\' | ctText"></label></dt></dl><div class="ship-info-block-details"><p>{{ suggestedAddress.ship_address.first_name }} {{ suggestedAddress.ship_address.last_name }}</p><p><span ng-class="{\'ct-points-color\': isChanged(\'street_address_1\')}">{{ suggestedAddress.ship_address.street_address_1 }} \n{{ suggestedAddress.ship_address.street_address_2 }} </span></p><span ng-class="{\'ct-points-color\': isChanged(\'city\')}">{{ suggestedAddress.ship_address.city }}, </span><span ng-class="{\'ct-points-color\': isChanged(\'state\')}">{{ suggestedAddress.ship_address.state }} </span><span ng-class="{\'ct-points-color\': isChanged(\'postal_code\')}">{{ suggestedAddress.ship_address.postal_code }} </span><span ng-class="{\'ct-points-color\': isChanged(\'country\')}">{{ suggestedAddress.ship_address.country }} </span></div></div></div><div ng-if="reward.is_phone_number_required" class="phone-info"><dl class="form side-by-side"><dt><label ng-bind-html="\'label.mobile phone number\' | ctText"></label></dt><dd><input type="text" name="phone" required="required" ng-model="user.ship_info.phone_number"/></dd><dd ng-if="shipInfoForm.phone.$dirty &amp;&amp; shipInfoForm.phone.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" class="error"></dd></dl></div></form></div><div class="buttons"><button ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button ng-click="doRedeem()" ng-disabled="shipInfoForm.$invalid" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div><div ng-if="(redeemError || redeemErrorInfo) &amp;&amp; !maxQuantityError" class="notifcation-container"><div class="notification error"><i class="fa fa-exclamation"></i><span ng-if="redeemErrorInfo.country === \'invalid\'" class="msg">{{ \'error.invalid country\' | ctText }}</span><span ng-if="countryError &amp;&amp; redeemErrorInfo.country === \'country_restricted\'" class="msg">{{ \'error.shipping country restricted\' | ctText: { countryError: countryError } }}</span><span ng-if="redeemError" class="msg">{{ redeemError }}</span></div></div></div></div>'),
e.put("/redeem/v2/confirmation.html",'<div id="confirmation"><h2 class="reward-title">{{ reward.title }}</h2><div aria-label="Reward Images" class="left"><img ng-src="{{ mainImageUrl }}" alt="Selected Reward Image" class="reward-image"/><ul ng-if="reward.additional_images" class="additional-images"><li class="reward-thumb"><a href="#" ng-click="setMainImage(reward.img_url)" aria-label="set selected reward image"><img ng-src="{{ reward.img_url }}" alt="Reward Main Image thumbnail" class="image-thumb"/></a></li><li ng-repeat="image in reward.additional_images" class="reward-thumb"><a href="#" ng-click="setMainImage(image.img_url)" aria-label="set selected reward image"><img ng-src="{{ image.imageUrl }}" alt="Reward Additional Image thumbnail" class="image-thumb"/></a></li></ul></div><div aria-label="Reward Redemption Details" class="right"><div ng-if="successType === \'download\'" class="explain-redeem-success"><span ng-bind-html="\'text.widget explain redeemed download\' | ctText"></span><span class="no-emphasis">{{ user.email_address }}</span></div><div ng-if="successType === \'coupon\'" class="explain-redeem-success"><p id="explain-redeemed-coupon" ng-bind-html="\'text.widget explain redeemed coupon\' | ctText" class="explain-coupon"></p><span aria-describedby="explain-redeemed-coupon" ng-repeat="coupon in couponCodes" ng-if="couponTypes[$index] == textCouponTypeId" class="coupon-code no-emphasis">{{ coupon }}</span><span aria-describedby="explain-redeemed-coupon" ng-repeat="coupon in couponCodes" ng-if="couponTypes[$index] == urlCouponTypeId" class="coupon-code no-emphasis"><a ng-href="{{coupon}}" target="_blank">{{ \'text.reward redemption coupon code\' | ctText: {coupon: coupon} }}</a></span><span ng-if="couponCodesExpireDate" class="expiresAt">{{ \'text.expiration date\' | ctText }} {{couponCodesExpireDate}}</span><span ng-bind-html="\'&amp;nbsp;\' + reward.explain_confirmation_sent + \'&amp;nbsp;\' | ctTrustHtml" class="confirmation-sent-to"></span><span class="no-emphasis">{{ user.email_address }}</span></div><div ng-if="successType === \'standard\' || successType === \'sweepstakes\'" class="explain-redeem-success"><span ng-bind-html="(\'text.widget explain redeemed standard reward\' | ctText)"></span><span ng-bind-html="\'&amp;nbsp;\' + reward.explain_confirmation_sent + \'&amp;nbsp;\' | ctTrustHtml"></span><span class="no-emphasis address">{{ user.email_address }}</span></div><div ng-if="reward.is_shipping_required" class="show-ship-info"><p id="widget-explain-ship-address" ng-bind-html="\'text.redeem widget explain ship address\' | ctText"></p><div aria-describedby="widget-explain-ship-address" class="address"><span>{{ address.ship_address.full_name }}</span><span>{{ address.ship_address.street_address_1 }}</span><span ng-if="address.ship_address.street_address_2.length">{{ address.ship_address.street_address_2 }}</span><span>{{ user.ship_info.ship_address.city }},\n{{ user.ship_info.ship_address.state }}\n{{ user.ship_info.ship_address.postal_code }}\n{{ user.ship_info.ship_address.country }}</span><span>{{ user.ship_info.phone_number }}</span></div></div><div class="numeric-details"><div ng-if="!reward.isDownload()" class="row"><span id="reward-quantity" ng-bind-html="\'label.quantity (no value)\' | ctText" class="label"></span><span aria-labelledby="reward-quantity">{{ vals.quantity }}</span></div><div class="row"><span id="reward-cost" ng-bind-html="\'label.cost\' | ctText" class="label"></span><span aria-labelledby="reward-cost" class="ct-points-color">{{ reward.cost() * vals.quantity | ctPoints }}</span></div></div><div class="close-container"><button type="button" ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button><a target="_blank" href="{{ downloadUrl }}" ng-if="downloadUrl" class="btn ct-button">{{ \'button.download\' | ctText }}</a></div></div></div>'),e.put("/redeem/v2/details.html",'<div id="details"><h2>{{ reward.title }}</h2><div aria-label="Reward Details" class="left"><img ng-src="{{ mainImageUrl }}" alt="Selected Reward Image" class="reward-image"/><ul ng-if="reward.additional_images" class="additional-images"><li class="reward-thumb"><a href="#" ng-click="setMainImage(reward.img_url)" aria-label="set selected reward image"><img ng-src="{{ reward.img_url }}" alt="Reward Main Image thumbnail" class="image-thumb"/></a></li><li ng-repeat="image in reward.additional_images" class="reward-thumb"><a href="#" ng-click="setMainImage(image.imageUrl)" aria-label="set selected reward image"><img ng-src="{{ image.imageUrl }}" alt="Reward Additional Image thumbnail" class="image-thumb"/></a></li></ul><div class="numeric-details"><div ng-if="!reward.isExternal()" class="row"><span id="cost-label" ng-bind-html="\'label.cost\' | ctText" class="label"></span><span aria-labelledby="cost-label" class="ct-points-color">{{ reward.cost() | ctPoints }}</span></div><div class="row"><span id="points-label" ng-bind-html="\'label.redeemable points redeem widget\' | ctText" class="label"></span><span aria-labelledby="points-label" class="ct-points-color">{{ user.points() | ctPoints }}</span></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}"></span><span ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')}"></span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="sold-out"></span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div></div><div aria-label="Reward Description" class="right"><p ng-bind-html="reward.description | ctTrustHtml" class="description"></p><div role="alert" aria-atomic="true" ng-if="state === \'ended\'" class="reward-ended-explanation"><p ng-bind-html="\'text.explain reward has ended\' | ctText"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'underage\'" class="underage-explanation"><p ng-bind-html="\'text.explain reward too young\' | ctText:{minAge: reward.minAge()}"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'locked-age\'" class="must-set-age locked-container"><div class="locked-heading"><div aria-hidden="true" class="fa fa-lock"></div><span ng-bind-html="\'word.locked\' | ctText"></span></div><p ng-bind-html="\'text.explain birthday required widget\' | ctText"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'sold-out\'" class="sold-out"><p ng-bind-html="\'text.explain reward sold out\' | ctText"></p></div><section role="alert" aria-atomic="true" ng-if="state === \'email-not-verified\'" aria-labelledby="verification-header" class="verify-email-explanation"><h3 id="verification-header" ng-bind-html="\'heading.verify your email\' | ctText" class="heading"></h3><p ng-bind-html="\'text.explain email verification required\' | ctText:{email:user.lastEmailAddressVerifyEmailWasSentTo()}"></p><form name="verifyEmailForm" ng-submit="resendVerificationEmail(lastEmailAddress)"><fieldset class="form"><label ng-bind-html="\'label.email address\' | ctText" for="email-address"></label><input id="email-address" type="email" name="email" ng-model="lastEmailAddress"/></fieldset><button type="submit" class="btn ct-button">{{ \'button.resend email\' | ctText }}</button><div ng-if="resendEmailSuccess" ng-bind-html="\'success.verify new email\' | ctText:{email:lastEmailAddress}" class="notification success"></div><div ng-if="resendEmailError" class="notification error">{{ resendEmailError }}</div></form></section><div role="alert" aria-atomic="true" ng-if="state === \'exceeded-limit\'" class="exceeded-limit-container"><p ng-bind-html="\'text.redeem widget explain reached max red\' | ctText"></p><div class="buttons"><button type="button" ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div role="alert" aria-atomic="true" ng-if="state === \'exceeded-frequency-cap\'" class="exceeded-frequency-cap-container"><h3 class="exceeded-frequency-cap-heading"><div aria-hidden="true" class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget redemption frequency cap reached\' | ctText"></span></h3><p ng-if="reward.isNotEndingBeforeFrequencyPeriod()" ng-bind-html="\'text.redeem widget explain reached freq cap\' | ctText:{datePart:(reward.getNextDateRedeemable() | date : \'fullDate\'),timePart:(reward.getNextDateRedeemable() | date : \'shortTime\')}" class="text"></p><p ng-if="!reward.isNotEndingBeforeFrequencyPeriod()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'group-point-cap-reached\'" class="exceeded-category-cap-container"><h3 class="exceeded-category-cap-heading"><div aria-hidden="true" class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget reward category point cap reached\' | ctText"></span></h3><p ng-if="reward.isNotEndingBeforeCategoryCapPeriod()" ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><p ng-if="!reward.isNotEndingBeforeCategoryCapPeriod() &amp;&amp; reward.dateEndAsDate()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'group-point-and-frequency-cap-reached\'" class="exceeded-category-and-frequency-cap-container"><h3 class="exceeded-category-and-frequency-cap-heading"><div aria-hidden="true" class="fa fa-clock-o"></div><span ng-bind-html="\'heading.redeem widget reward category and group point cap reached\' | ctText"></span></h3><p ng-if="reward.isNotEndingBeforeCategoryCapPeriod()" ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><p ng-if="!reward.isNotEndingBeforeCategoryCapPeriod() &amp;&amp; reward.dateEndAsDate()" ng-bind-html="\'text.reward ends on\'| ctText:{date: (reward.dateEndAsDate() | date:\'fullDate\')}" class="text"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'locked\'" class="locked-container"><h3 class="locked-heading"><div aria-hidden="true" class="fa fa-lock"></div><span ng-bind-html="\'word.locked\' | ctText"></span></h3><div ng-switch="locker" class="unlock-holder"><div ng-switch-when="multiple" class="unlock-multiple"><img ng-src="{{ minimumFanLevel.image_url }}" alt="{{ minimumFanLevel.name }}"/><span ng-bind-html="\'text.need both level and activity text\' | ctText:{ levelName: minimumFanLevel.name }" class="text"></span><ul aria-label="Activities necessary to unlock reward" class="unlock-activities"><li ng-repeat="unlockAct in reward.unlocked_by" class="unlock-activity">- {{ unlockAct.activity_title }}</li></ul></div><div ng-switch-when="level" class="unlock-with-level"><img ng-src="{{ minimumFanLevel.image_url }}" alt="{{ minimumFanLevel.name }}"/><span ng-bind-html="\'text.need level text\' | ctText:{ levelName: minimumFanLevel.name }" class="text"></span></div><div ng-switch-when="activity" class="unlock-with-activity"><p ng-bind-html="\'text.explain unlock reward redeem widget\' | ctText"></p><ul class="unlock-activities"><li ng-repeat="unlockAct in reward.unlocked_by" class="unlock-activity">- {{ unlockAct.activity_title }}</li></ul></div></div></div><div role="alert" aria-atomic="true" ng-if="state === \'not-enough-points\'" class="not-enough-points-container"><p ng-bind-html="\'text.explain redeem not enough points\' | ctText:{pointsAway: (reward.cost() - user.points() | number)}"></p></div><div role="alert" aria-atomic="true" ng-if="state === \'not-enough-points-in-category\' &amp;&amp; reward.getCategoryCapLimit() &lt; reward.cost()" class="not-enough-points-in-category-container"><p ng-bind-html="\'text.explain redeem not enough points in category can not redeem\' | ctText:{maxPoints: (reward.getCategoryCapLimit() | number)}"></p><div class="buttons"><button type="button" ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div role="alert" aria-atomic="true" ng-if="state === \'not-enough-points-in-category\' &amp;&amp; reward.getCategoryCapLimit() &gt;= reward.cost()" class="not-enough-points-in-category-container"><p ng-bind-html="\'text.explain redeem not enough points in category\' | ctText:{balancePoints: (reward.getCategoryCapBalance() | number)}"></p><p ng-bind-html="\'text.redeem widget explain reached category point cap\' | ctText:{datePart:(reward.getCategoryCapNextDateAvailable() | date : \'fullDate\'),timePart:(reward.getCategoryCapNextDateAvailable() | date : \'shortTime\')}" class="text"></p><div class="buttons"><button type="button" ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div><div ng-if="state === \'allow-redemption\'" class="redemption-details"><form name="redeemForm" novalidate="novalidate" ng-submit="(isVerified &amp;&amp; reward.is_shipping_required) ? moveToVerification() : nextStep()"><fieldset ng-if="reward.hasColors()" class="form"><label ng-bind-html="\'label.color name\' | ctText" for="color"></label><select id="color" required="required" name="color" ng-model="vals.color" ng-change="updateQuantity()" ng-options="color for color in reward.getColors()"></select></fieldset><fieldset ng-if="reward.hasSizes()" class="form"><label ng-bind-html="\'label.size new\' | ctText" for="size"></label><select id="size" required="required" name="size" ng-disabled="reward.hasColors() &amp;&amp; !vals.color" ng-model="vals.size" ng-change="updateQuantity()" ng-options="size for size in reward.getSizes(vals.color)"></select></fieldset><fieldset ng-if="!reward.isDownload()" ng-init="updateQuantity()" class="form"><label ng-bind-html="\'label.quantity (no value)\' | ctText" for="quantity"></label><select id="quantity" required="required" ng-disabled="(reward.hasColors() &amp;&amp; !vals.color) || (reward.hasSizes() &amp;&amp; !vals.size)" ng-model="vals.quantity" ng-options="quantity for quantity in selectQuantity"></select><div ng-if="maxQuantityError" role="alert" aria-atomic="true" class="error">{{ maxQuantityError }}</div></fieldset><fieldset ng-if="reward.isDownload()" class="form"><label ng-bind-html="\'label.quantity (no value)\' | ctText"></label><p ng-init="vals.quantity = 1" ng-bind-html="\'text.redemption automatically quantity\' | ctText"></p><div ng-if="maxQuantityError" role="alert" aria-atomic="true" class="error">{{ maxQuantityError }}</div></fieldset><fieldset ng-if="reward.tos_url" class="form checkbox"><input id="input-agree-tos" type="checkbox" ng-model="vals.agreeTos" required="required" name="agreeTos"/><label for="input-agree-tos" ng-bind-html="\'label.agree tos\' | ctText:{tosUrl: reward.tos_url}"></label><div ng-if="redeemForm.agreeTos.$dirty &amp;&amp; redeemForm.agreeTos.$invalid" role="alert" aria-atomic="true" ng-bind-html="\'error.continue agree to tos\' | ctText" class="error"></div></fieldset><div class="dl form submit"><button type="submit" ng-disabled="redeemForm.$invalid" class="btn ct-button">{{ \'button.continue\' | ctText }}</button></div></form></div><div ng-if="state === \'exceeded-frequency-cap\'" class="close-container"><button type="button" ng-click="close()" class="btn btn-secondary">{{ \'button.close\' | ctText }}</button></div></div></div>'),e.put("/redeem/v2/redeem.html",'<div ng-if="step === 1"><div id="redeem-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget\' | ctText }}</h3></div><div class="container"><div ng-include="\'/redeem/v2/details.html\'"></div></div></div></div><div ng-if="step === 2"><div id="redeem-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget review info\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v2/review.html\'"></div></div></div></div><div ng-if="step === 3"><div id="redeem-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget review info\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v2/verification.html\'"></div></div></div></div><div ng-if="step === 4"><div id="redeem-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ \'heading.redeem widget confirmation\' | ctText}}</h3></div><div class="container"><div ng-include="\'/redeem/v2/confirmation.html\'"></div></div></div></div>'),e.put("/redeem/v2/review.html",'<div id="review"><h2 class="reward-title">{{ reward.title }}</h2><div aria-label="Reward Images" class="left"><img ng-src="{{ mainImageUrl }}" alt="Selected Reward Image" class="reward-image"/><ul ng-if="reward.additional_images" class="additional-images"><li class="reward-thumb"><a href="#" ng-click="setMainImage(reward.img_url)" aria-label="set selected reward image"><img ng-src="{{ reward.img_url }}" alt="Reward Main Image thumbnail" class="image-thumb"/></a></li><li ng-repeat="image in reward.additional_images" class="reward-thumb"><a href="#" ng-click="setMainImage(image.img_url)" aria-label="set selected reward image"><img ng-src="{{ image.imageUrl }}" alt="Reward Additional Image thumbnail" class="image-thumb"/></a></li></ul></div><div aria-label="Reward Details" class="right"><div class="numeric-details"><div ng-if="reward.hasColors()" class="row"><span id="color-label" ng-bind-html="\'label.color name\' | ctText" class="label"></span><span aria-labelledby="color-label">{{ vals.color }}</span></div><div ng-if="reward.hasSizes()" class="row"><span id="size-label" ng-bind-html="\'label.size new\' | ctText" class="label"></span><span aria-labelledby="size-label">{{ vals.size }}</span></div><div ng-if="!reward.isDownload()" class="row"><span id="quantity-label" ng-bind-html="\'label.quantity (no value)\' | ctText" class="label"></span><span aria-labelledby="quantity-label">{{ vals.quantity }}</span></div><div class="row"><span id="cost-label" ng-bind-html="\'label.cost\' | ctText" class="label"></span><span aria-labelledby="cost-label" class="ct-points-color">{{ reward.isDownload() ? reward.cost() : reward.cost() * vals.quantity | ctPoints }}</span></div><div class="row"><span id="user-points-label" ng-bind-html="\'label.redeemable points redeem widget\' | ctText" class="label"></span><span aria-labelledby="user-points-label" class="ct-points-color">{{ user.points() | ctPoints }}</span></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()">{{ \'label.ends in days\' | ctText:{days: reward.daysTilEnd()} }}</span><span ng-if="reward.hasEnded()">{{ \'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')} }}</span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" class="sold-out">{{ \'text.sold out\' | ctText }}</span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div><div class="email-address-info"><span id="email-address-label" ng-bind-html="\'label.email address\' | ctText" class="label"></span><span aria-details="redemption-confirm-email" aria-labelledby="email-address-label" class="email-address">{{ user.email_address }}</span><p id="redemption-confirm-email" ng-bind-html="\'text.redemption confirm email\' | ctText"></p></div><div ng-if="reward.is_shipping_required || reward.is_phone_number_required" class="shipping-info"><div ng-if="reward.is_shipping_required" ng-bind-html="\'heading.shipping address\' | ctText" class="ship-info-heading"></div><form name="shipInfoForm" novalidate="novalidate" ng-submit="doRedeem()"><div ng-if="reward.is_shipping_required" class="shipping-info-form"><fieldset class="form side-by-side"><label ng-bind-html="\'label.first name\' | ctText" for="first-name"></label><input id="first-name" name="firstName" required="required" type="text" ng-model="user.ship_info.ship_address.first_name"/><div ng-if="shipInfoForm.firstName.$dirty &amp;&amp; shipInfoForm.firstName.$error.required" ng-bind-html="\'error.first name required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset class="form side-by-side"><label ng-bind-html="\'label.last name\' | ctText" for="last-name"></label><input id="last-name" name="lastName" required="required" type="text" ng-model="user.ship_info.ship_address.last_name"/><div ng-if="shipInfoForm.lastName.$dirty &amp;&amp; shipInfoForm.lastName.$error.required" ng-bind-html="\'error.last name required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset class="form side-by-side"><label ng-bind-html="\'label.address line 1\' | ctText" for="street-address-1"></label><input id="street-address-1" type="text" name="streetAddress1" ng-model="user.ship_info.ship_address.street_address_1" ng-maxlength="250" required="required"/><div ng-if="shipInfoForm.streetAddress1.$dirty &amp;&amp; shipInfoForm.streetAddress1.$error.required" ng-bind-html="\'error.street address 1 required\' | ctText" role="alert" aria-atomic="true" class="error"></div><div ng-if="shipInfoForm.streetAddress1.$dirty &amp;&amp; shipInfoForm.streetAddress1.$error.maxlength" ng-bind-html="\'error.street address max length exceeded\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset class="form side-by-side"><label ng-bind-html="\'label.address line 2\' | ctText" for="street-address-2"></label><input id="street-address-2" type="text" name="streetAddress2" ng-model="user.ship_info.ship_address.street_address_2" ng-maxlength="250"/><div ng-if="shipInfoForm.streetAddress2.$dirty &amp;&amp; shipInfoForm.streetAddress2.$error.maxlength" ng-bind-html="\'error.street address max length exceeded\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset ng-if="!isUsAddress" class="form side-by-side select"><a ng-if="client.is_us_allowed" ng-click="updateUsAddress()" ng-bind-html="\'link.live in the us\' | ctText" href="#" aria-label="Set country to US" class="country-link"></a><label ng-bind-html="\'label.country\' | ctText" for="country"></label><select id="country" name="country" ng-model="user.ship_info.ship_address.country" required="required" ng-options="country.country_name as country.country_name for country in location.countries"></select><div ng-if="shipInfoForm.country.$dirty &amp;&amp; shipInfoForm.country.$error.required" ng-bind-html="\'error.country required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset class="form side-by-side"><a ng-click="updateUsAddress()" ng-if="isUsAddress &amp;&amp; !client.is_only_us_allowed" href="#" aria-label="Unset country" class="country-link">{{ \'link.live outside us\' | ctText }}</a><label ng-if="isUsAddress" ng-bind-html="\'label.zip code\' | ctText" for="zip-code"></label><label ng-if="!isUsAddress" ng-bind-html="\'label.postal code\' | ctText" for="zip-code"></label><input id="zip-code" type="text" name="zip" required="required" ng-model="user.ship_info.ship_address.postal_code"/><div ng-if="shipInfoForm.zip.$dirty &amp;&amp; shipInfoForm.zip.$error.required" ng-bind-html="\'error.postal code required\' | ctText" role="alert" aria-atomic="true" class="error"></div><div ng-if="shipInfoForm.zip.$error.invalid" ng-bind-html="\'error.invalid postal code\' | ctText" role="alert" aria-atomic="true" class="error"></div><div ng-if="shipInfoForm.zip.$error.state_restricted" ng-bind-html="\'error.postal code restricted\' | ctText" role="alert" aria-atomic="true" class="error"></div><div ng-if="postal_code_error" role="alert" aria-atomic="true" class="error">{{ postal_code_error }}</div></fieldset><fieldset ng-class="{\'clear-left\': isUsAddress}" class="form side-by-side"><label ng-bind-html="\'label.city\' | ctText" for="city"></label><input id="city" type="text" required="required" name="city" ng-model="user.ship_info.ship_address.city"/><div ng-if="shipInfoForm.city.$dirty &amp;&amp; shipInfoForm.city.$error.required" ng-bind-html="\'error.city required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><fieldset class="form side-by-side"><label ng-if="isUsAddress" ng-bind-html="\'label.state\' | ctText" for="state"></label><label ng-if="!isUsAddress" ng-bind-html="\'label.state province region\' | ctText" for="state"></label><input id="state" type="text" name="state" required="required" ng-model="user.ship_info.ship_address.state"/><div ng-if="shipInfoForm.state.$dirty &amp;&amp; shipInfoForm.state.$error.required" ng-bind-html="\'error.state required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset><div ng-if="isUsAddress" class="buttons"><i ng-if="isVerifying" aria-hidden="true" title="Verifying address" class="fa fa-spinner fa-spin"></i><button type="button" ng-disabled="shipInfoForm.$invalid" ng-click="doVerification()" class="btn btn-secondary">{{ \'text.verify address\' | ctText }}</button></div></div><div ng-if="reward.is_phone_number_required" class="phone-info"><fieldset class="form side-by-side"><label ng-bind-html="\'label.mobile phone number\' | ctText" for="mobile-phone"></label><input id="mobile-phone" type="text" name="phone" ng-required="!isUsAddress" ng-model="user.ship_info.phone_number"/><div ng-if="shipInfoForm.phone.$dirty &amp;&amp; shipInfoForm.phone.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset></div><div class="buttons"><button type="button" ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button type="submit" ng-disabled="isUsAddress || shipInfoForm.$invalid" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div></form></div><div ng-if="!reward.is_shipping_required &amp;&amp; !reward.is_phone_number_required" class="buttons"><button type="button" ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button type="submit" ng-click="doRedeem()" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div><div ng-if="(redeemError || redeemErrorInfo) &amp;&amp; !maxQuantityError" class="notifcation-container"><div role="alert" aria-atomic="true" class="notification error"><i aria-hidden="true" title="Error" class="fa fa-exclamation"></i><span ng-if="redeemErrorInfo.postal_code === \'invalid\'" ng-bind-html="\'error.invalid postal code\' | ctText" class="msg"></span><span ng-if="redeemErrorInfo.postal_code === \'state_restricted\'" ng-bind-html="\'error.shipping postal code restricted\' | ctText" class="msg"></span><span ng-if="redeemErrorInfo.country === \'invalid\'" class="msg">{{ \'error.invalid country\' | ctText }}</span><span ng-if="countryError &amp;&amp; redeemErrorInfo.country === \'country_restricted\'" class="msg">{{ \'error.shipping country restricted\' | ctText: { countryError: countryError } }}</span><span ng-if="redeemError" class="msg">{{ redeemError }}</span></div></div></div></div>'),
e.put("/redeem/v2/verification.html",'<div id="review"><h2 class="reward-title">{{ reward.title }}</h2><div aria-label="Reward Images" class="left"><img ng-src="{{ mainImageUrl }}" alt="Selected Reward Image" class="reward-image"/><ul ng-if="reward.additional_images" class="additional-images"><li class="reward-thumb"><a href="#" ng-click="setMainImage(reward.img_url)" aria-label="set selected reward image"><img ng-src="{{ reward.img_url }}" alt="Reward Main Image thumbnail" class="image-thumb"/></a></li><li ng-repeat="image in reward.additional_images" class="reward-thumb"><a href="#" ng-click="setMainImage(image.img_url)" aria-label="set selected reward image"><img ng-src="{{ image.imageUrl }}" alt="Reward Additional Image thumbnail" class="image-thumb"/></a></li></ul></div><div class="right"><div aria-label="Reward Details" class="numeric-details"><div ng-if="!reward.isDownload()" class="row"><span id="quantity-label" ng-bind-html="\'label.quantity (no value)\' | ctText" class="label"></span><span aria-labelledby="quantity-label">{{ vals.quantity }}</span></div><div class="row"><span id="cost-label" ng-bind-html="\'label.cost\' | ctText" class="label"></span><span aria-labelledby="cost-label" class="ct-points-color">{{ reward.isDownload() ? reward.cost() : reward.cost() * vals.quantity | ctPoints }}</span></div><div class="row"><span id="user-points-label" ng-bind-html="\'label.redeemable points redeem widget\' | ctText" class="label"></span><span aria-labelledby="user-points-label" class="ct-points-color">{{ user.points() | ctPoints }}</span></div><div class="row"><span ng-if="reward.daysTilEnd() &gt; 0 || reward.hasEnded()" class="days-remaining"><span ng-if="!reward.hasEnded()" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}"></span><span ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended on\' | ctText:{date: (reward.dateEndAsDate() | date:\'M/d/yy\')}"></span></span><div class="quantity-remaining"><span ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="sold-out"></span><span ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt; 50" class="not-sold-out"><span ng-if="reward.quantityRemaining() &gt; 5" ng-bind-html="\'text.quantity less than threshold\' | ctText:{quantity:50}"></span><span ng-if="reward.quantityRemaining() &lt;= 5" ng-bind-html="\'text.quantity left\' | ctText:{quantity: reward.quantityRemaining()}"></span></span></div></div></div><div class="email-address-info"><label ng-bind-html="\'label.email address\' | ctText"></label><div aria-details="redemption-confirm-email" class="email-address">{{ user.email_address }}</div><p id="redemption-confirm-email" ng-bind-html="\'text.redemption confirm email\' | ctText"></p></div><div class="shipping-info"><div ng-if="reward.is_shipping_required" ng-bind-html="\'heading.shipping address\' | ctText" class="ship-info-heading"></div><form name="shipInfoForm" novalidate="novalidate"><div ng-class="{\'has-suggested\': !isValid}" class="ship-info-body"><div class="ship-info-block"> <fieldset ng-hide="isValid" class="form radio"><input type="radio" name="originalAddress" value="1" id="saveOriginalAddress" ng-model="user.useOriginalAddress" ng-change="addressChanged()"/><label for="saveOriginalAddress" ng-bind-html="\'label.original\' | ctText"></label><a ng-click="prevStep()" href="#" class="edit-link">{{ \'button.edit\' | ctText }}</a></fieldset><div ng-if="isValid" class="ship-info-block-verified"><span ng-if="isValid &amp;&amp; isVerified"><i aria-hidden="true" title="Success" class="fa fa-check-circle success"></i><span ng-bind-html="\'text.verified\' | ctText" class="completed"></span></span><a ng-click="prevStep()" href="#" class="edit-link">{{ \'button.edit\' | ctText }}</a></div><div aria-label="Original Address" class="ship-info-block-details"><p>{{ originalAddress.ship_address.first_name }} {{ originalAddress.ship_address.last_name }}</p><p>{{ originalAddress.ship_address.street_address_1 }} {{ originalAddress.ship_address.street_address_2 }}</p>{{ originalAddress.ship_address.city }},\n{{ originalAddress.ship_address.state }}\n{{ originalAddress.ship_address.postal_code }}\n{{ originalAddress.ship_address.country }}</div></div><div ng-show="!isValid &amp;&amp; suggestedAddress != null" class="ship-info-block"><fieldset class="form radio"><input type="radio" name="originalAddress" value="2" id="useSuggestedAddress" ng-model="user.useOriginalAddress" ng-change="addressChanged()"/><label for="useSuggestedAddress" ng-bind-html="\'label.suggested\' | ctText"></label></fieldset><div aria-label="Suggested Address" class="ship-info-block-details"><p>{{ suggestedAddress.ship_address.first_name }} {{ suggestedAddress.ship_address.last_name }}</p><p><span ng-class="{\'ct-points-color\': isChanged(\'street_address_1\')}">{{ suggestedAddress.ship_address.street_address_1 }} \n{{ suggestedAddress.ship_address.street_address_2 }} </span></p><span ng-class="{\'ct-points-color\': isChanged(\'city\')}">{{ suggestedAddress.ship_address.city }}, </span><span ng-class="{\'ct-points-color\': isChanged(\'state\')}">{{ suggestedAddress.ship_address.state }} </span><span ng-class="{\'ct-points-color\': isChanged(\'postal_code\')}">{{ suggestedAddress.ship_address.postal_code }} </span><span ng-class="{\'ct-points-color\': isChanged(\'country\')}">{{ suggestedAddress.ship_address.country }} </span></div></div></div><div ng-if="reward.is_phone_number_required" class="phone-info"><fieldset class="form side-by-side"><label ng-bind-html="\'label.mobile phone number\' | ctText" for="phone-number"></label><input id="phone-number" type="text" name="phone" required="required" ng-model="user.ship_info.phone_number"/><div ng-if="shipInfoForm.phone.$dirty &amp;&amp; shipInfoForm.phone.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" role="alert" aria-atomic="true" class="error"></div></fieldset></div></form></div><div class="buttons"><button type="button" ng-click="prevStep()" class="btn btn-secondary">{{ \'button.back\' | ctText }}</button><button type="submit" ng-click="doRedeem()" ng-disabled="shipInfoForm.$invalid" class="btn ct-button btn-danger">{{ \'button.complete\' | ctText }}</button></div><div ng-if="(redeemError || redeemErrorInfo) &amp;&amp; !maxQuantityError" class="notifcation-container"><div role="alert" aria-atomic="true" class="notification error"><i aria-hidden="true" title="error" class="fa fa-exclamation"></i><span ng-if="redeemErrorInfo.country === \'invalid\'" class="msg">{{ \'error.invalid country\' | ctText }}</span><span ng-if="countryError &amp;&amp; redeemErrorInfo.country === \'country_restricted\'" class="msg">{{ \'error.shipping country restricted\' | ctText: { countryError: countryError } }}</span><span ng-if="redeemError" class="msg">{{ redeemError }}</span></div></div></div></div>'),e.put("/reset_password/v1/reset_password.html",'<div id="reset-password" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div ng-show="resetPasswordSuccess"><p ng-bind-html="\'text.reset password success\' | ctText" class="explanation"></p><a ng-click="close()">{{ \'button.close\' | ctText }}</a></div><div ng-hide="resetPasswordSuccess"><p ng-bind-html="\'text.reset password explanation\' | ctText" class="explanation"></p><form novalidate="novalidate" name="resetPasswordForm" ng-hide="resetPasswordSuccess"><dl class="form"><dt><label ng-bind-html="\'label.new password\' | ctText"></label></dt><dd><input type="password" name="password" ng-model="password" required="required"/></dd><dd ng-if="resetPasswordForm.password.$dirty &amp;&amp; resetPasswordForm.password.$error.required" ng-bind-html="\'error.info required\' | ctText" class="error"></dd></dl><dl class="form"><dt><label ng-bind-html="\'label.confirm new password\' | ctText"></label></dt><dd><input type="password" name="confirmPassword" ng-model="confirmPassword" ct-field-confirm="password" required="required"/></dd><dd ng-if="resetPasswordForm.confirmPassword.$dirty &amp;&amp; resetPasswordForm.confirmPassword.$error.confirm" ng-bind-html="\'error.password mismatch\' | ctText" class="error"></dd></dl><div ng-if="resetPasswordErrors.code == \'invalid\'" class="notification notification-error"><span ng-bind-html="\'error.password reset\' | ctText" class="msg"></span></div><div ng-if="resetPasswordErrors.password == \'too weak\'" class="notification notification-error"><span ng-bind-html="\'error.password does not meet requirements\' | ctText" class="msg"></span></div><button type="submit" ng-click="resetPassword()" ng-disabled="resetPasswordForm.$invalid" class="btn ct-button"><i ng-class="{\'fa-refresh\': resettingPassword, \'fa-spin\': resettingPassword}" class="fa"></i><span ng-show="!resettingPassword">{{ \'button.submit\' | ctText }}</span></button></form></div></div></div>'),e.put("/reward_history/v1/reward_history.html",'<div id="reward-history" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><table summary="Reward History"><thead><tr><th ng-bind-html=" \'label.date\' | ctText "> </th><th ng-bind-html=" \'title.reward\' | ctText "> </th><th ng-bind-html=" \'word.transaction\' | ctText " class="desktop"> </th></tr></thead><tbody><tr ng-show="rewards.length == 0"><td></td><td><span ng-bind-html="\'text.no date available\' | ctText" class="empty"></span></td><td></td></tr><tr ng-repeat="reward in rewards"><td class="date">{{ reward.date_created | date:\'M/d/yyyy\' }}</td><td><p class="title"><strong ng-if="reward.isAutomaticCampaign()">{{ \'text.auto campaign history prefix\' | ctText }}\n{{ reward.variations[0].event_title }}:&nbsp;</strong><span>{{ reward.title }}</span><div ng-if="reward.coupon_value" ng-class="{ crossedOut: reward.date_used_at_pos }"><span ng-if="reward.coupon_type_id == 1" ng-bind-html="\'label.widget coupon code title\' | ctText:{code: reward.coupon_value}" class="code"></span><span ng-if="reward.coupon_type_id == 2" ng-bind-html="\'label.widget coupon code title url type\' | ctText:{code: reward.coupon_value}" class="code"></span><span ng-if="reward.date_used_at_pos" class="redeemed"> {{ \'word.redeemed\' | ctText }}<span class="date"> {{reward.date_used_at_pos.month}}/{{reward.date_used_at_pos.day}}/{{reward.date_used_at_pos.year}}</span></span><em ng-if="reward.date_to_expire" class="expiresAt">  {{ \'word.expires\' | ctText }} {{reward.date_to_expire.month}}/{{reward.date_to_expire.day}}/{{reward.date_to_expire.year}}</em></div></p><a ng-click="downloadReward(reward)" ng-show="{{reward.isDownload()}}" ng-bind-html="\'button.download\' | ctText" class="ct-link-color"></a><p class="mobile points ct-points-color"><span>{{ reward.redeemedPoints() | ctPoints:{onZeroTextKey: \'label.free\', prefix: \'-\'} }}</span></p></td><td class="desktop points ct-points-color"><span>{{ reward.redeemedPoints() | ctPoints:{onZeroTextKey: \'label.free\', prefix: \'-\'} }}</span></td></tr></tbody></table></div></div>'),e.put("/reward_history/v2/reward_history.html",'<div id="reward-history-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><table summary="{{ \'heading.reward-history widget title\' | ctText }}" class="redemption-history"><caption class="visually-hidden">{{ \'heading.reward-history widget title\' | ctText }}</caption><thead><tr><th scope="col" ng-bind-html=" \'label.date\' | ctText"></th><th scope="col" ng-bind-html=" \'title.reward\' | ctText"></th><th scope="col" ng-bind-html=" \'word.transaction\' | ctText" class="desktop"></th></tr></thead><tbody><tr ng-show="rewards.length === 0"><td></td><td><span ng-bind-html="\'text.no date available\' | ctText" class="empty"></span></td><td></td></tr><tr ng-repeat="reward in rewards"><td class="date">{{ reward.date_created | date:\'M/d/yyyy\' }}</td><td ng-class="{expanded: reward.expanded}" class="reward_info"><p class="title"><div ng-if="reward.isAutomaticCampaign()" class="auto-campaign-reward">{{ \'text.auto campaign history prefix\' | ctText }}\n{{ reward.variations[0].event_title }}:&nbsp;</div><p ng-if="!reward.shipping_info">{{ reward.title }}</p><button type="button" ng-if="reward.shipping_info" ng-click="reward.expanded = !reward.expanded" aria-expanded="{{ reward.expanded ? \'true\' : \'false\' }}" class="title">{{ reward.title }}<div aria-label="{{ reward.expanded ? \'Hide Reward Details\' : \'Expand Reward Details To See Items\' }}" class="expand-collapse">{{ reward.expanded ? \'-\' : \'+\' }}</div></button><div ng-if="reward.expanded" class="shipping_info"><div class="tracking_numbers"><p ng-if="reward.shipping_info.tracking_numbers.length === 1" class="heading">{{ \'heading.tracking number\' | ctText }}</p><p ng-if="reward.shipping_info.tracking_numbers.length !== 1" class="heading">{{ \'heading.tracking numbers\' | ctText }}</p><p ng-repeat="tracking_number in reward.shipping_info.tracking_numbers track by $index" class="tracking_numbers">{{ tracking_number }}</p></div><div ng-if="reward.shipping_info.first_name" class="shipping_address"><p class="heading">{{ \'heading.shipping address\' | ctText }}</p><p ng-if="reward.shipping_info.first_name">{{reward.shipping_info.first_name + \' \' + reward.shipping_info.last_name}}</p><p ng-if="reward.shipping_info.street_address_1">{{ reward.shipping_info.street_address_1 }}</p><p ng-if="reward.shipping_info.street_address_2">{{ reward.shipping_info.street_address_2 }}</p><p ng-if="reward.shipping_info.city">{{ reward.shipping_info.city }},\n{{ reward.shipping_info.state }}\n{{ reward.shipping_info.postal_code }}\n{{ reward.shipping_info.country }}</p></div></div><div ng-if="reward.coupon_value" ng-class="{ crossedOut: reward.date_used_at_pos }"><span ng-if="reward.coupon_type_id == 1" ng-bind-html="\'label.widget coupon code title\' | ctText:{code: reward.coupon_value}" class="code"></span><span ng-if="reward.coupon_type_id == 2" ng-bind-html="\'label.widget coupon code title url type\' | ctText:{code: reward.coupon_value}" class="code"></span><span ng-if="reward.date_used_at_pos" class="redeemed"> {{ \'word.redeemed\' | ctText }}</span><span ng-if="reward.date_used_at_pos" class="date">{{reward.date_used_at_pos.month}}/{{reward.date_used_at_pos.day}}/{{reward.date_used_at_pos.year}}</span><em ng-if="reward.date_to_expire" class="expiresAt">  {{ \'word.expires\' | ctText }} {{reward.date_to_expire.month}}/{{reward.date_to_expire.day}}/{{reward.date_to_expire.year}}</em></div></p><a ng-click="downloadReward(reward)" ng-if="reward.isDownload()" ng-bind-html="\'button.download\' | ctText" href="#" class="ct-link-color"></a><p class="mobile points ct-points-color">{{ reward.redeemedPoints() | ctPoints:{onZeroTextKey: \'label.free\', prefix: \'-\'} }}</p></td><td class="desktop points ct-points-color"><span>{{ reward.redeemedPoints() | ctPoints:{onZeroTextKey: \'label.free\', prefix: \'-\'} }}</span></td></tr></tbody></table></div></div>'),e.put("/reward_list/v1/reward_list.html",'<div id="reward-list" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div id="redeemFilter"><label class="radio"><input name="filterRewards" type="radio" ng-model="showRedeemable" ng-value="false"/><span ng-bind-html="\'label.all\' | ctText"></span></label><label class="radio"><input name="filterRewards" type="radio" ng-model="showRedeemable" ng-value="true"/><span ng-bind-html="\'label.redeemable\' | ctText"></span></label><select ng-model="showRedeemable" ng-options="opt.value as opt.label for opt in redeemableOptions" title="Reward Filter"></select></div><div class="rewards"><div ng-repeat="reward in rewards | filter: showRedeemable &amp;&amp; redeemable" ng-class="reward.domElementClasses" class="reward"><img ng-src="{{ reward.img_url }}" alt="{{ reward.title }}" ng-click="rewardClicked(reward)" ng-class="{disabled: fadeRewardImage(reward)}"/><div class="content"><a ng-click="rewardClicked(reward)" href="#" class="title ct-link-color">{{ reward.title | limitTo:100 }}<span ng-if="reward.title.length &gt; 100">...</span></a><div class="row"><div ng-if="rewardState(reward) === \'locked\' || rewardState(reward) === \'exceeded-limit\'" class="locked"><p><i class="fa fa-lock"></i>{{ \'text.reward locked\' | ctText }}</p></div><div ng-if="rewardState(reward) === \'exceeded-frequency-cap\'" class="frequency-capped"><p ng-if="reward.isNotEndingBeforeFrequencyPeriod()"><i class="fa fa-clock-o"></i>{{ reward.getTimeUntilReset("text.reward unlock timer") }}</p></div><div ng-if="(rewardState(reward) === \'group-point-cap-reached\' || rewardState(reward) === \'not-enough-points-in-category\') &amp;&amp; reward.getCategoryCapNextDateAvailable()" class="group-point-cap-reached"><p><i class="fa fa-clock-o"></i>{{ reward.getCategoryCapTimeUntilReset("text.reward unlock timer") }}</p></div><div ng-if="rewardState(reward) === \'group-point-cap-reached\' &amp;&amp; !reward.getCategoryCapNextDateAvailable()" class="group-point-cap-reached"><p><i class="fa fa-lock"></i>{{ \'text.redeem widget reward category point cap reached\' | ctText }}</p></div><div ng-if="(rewardState(reward) === \'group-point-and-frequency-cap-reached\') &amp;&amp; (reward.getCategoryCapNextDateAvailable() || reward.isNotEndingBeforeFrequencyPeriod())" class="group-point-cap-reached"><p><i class="fa fa-clock-o"></i>{{ reward.getCategoryCapTimeUntilReset("text.reward unlock timer") }}</p></div><div class="ends"><p ng-if="reward.daysTilEnd() == 1" ng-bind-html="\'label.ends in day\' | ctText"></p><p ng-if="reward.daysTilEnd() &lt;= 30 &amp;&amp; reward.daysTilEnd() &gt; 1" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}"></p><p ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended\' | ctText"></p></div></div><div class="row"><div ng-if="!reward.isExternal()" class="points"><p class="ct-points-color">{{ reward.cost() | ctPoints }}</p></div><div class="quantity"><p ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt;= client.rewardQuantityLeftThreshold()" ng-bind-html="\'label.num left\' | ctText:{quantity: reward.quantityRemaining()}"></p><p ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="sold-out"></p></div></div></div></div></div></div></div>'),e.put("/reward_list/v2/reward_list.html",'<div id="reward-list-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div id="redeemFilter"><label class="radio"><input name="filterRewards" type="radio" ng-model="showRedeemable" ng-value="false"/><span ng-bind-html="\'label.all\' | ctText"></span></label><label class="radio"><input name="filterRewards" type="radio" ng-model="showRedeemable" ng-value="true"/><span ng-bind-html="\'label.redeemable\' | ctText"></span></label><select ng-model="showRedeemable" ng-options="opt.value as opt.label for opt in redeemableOptions" title="Reward Filter"></select></div><div aria-label="Reward List" class="rewards"><div ng-repeat="reward in rewards | filter: showRedeemable &amp;&amp; redeemable" aria-labelledby="reward-title-{{ $index }}" ng-class="reward.domElementClasses" class="reward"><img ng-src="{{ reward.img_url }}" alt="Reward Image" ng-click="rewardClicked(reward)" ng-class="{disabled: fadeRewardImage(reward)}"/><div class="content"><a ng-click="rewardClicked(reward)" href="#" class="ct-link-color"><h2 id="reward-title-{{ $index }}" class="title">{{ reward.title | limitTo:100 }}<span ng-if="reward.title.length &gt; 100" class="title-ellipsis">...</span></h2></a><div role="alert" aria-atomic="true" class="row"><p ng-if="rewardState(reward) === \'locked\' || rewardState(reward) === \'exceeded-limit\'" class="locked"><i aria-hidden="true" class="fa fa-lock"></i>{{ \'text.reward locked\' | ctText }}</p><p ng-if="reward.isNotEndingBeforeFrequencyPeriod() &amp;&amp; rewardState(reward) === \'exceeded-frequency-cap\'" class="frequency-capped"><i aria-hidden="true" class="fa fa-clock-o"></i>{{ reward.getTimeUntilReset("text.reward unlock timer") }}</p><p ng-if="(rewardState(reward) === \'group-point-cap-reached\' || rewardState(reward) === \'not-enough-points-in-category\') &amp;&amp; reward.getCategoryCapNextDateAvailable()" class="group-point-cap-reached"><i aria-hidden="true" class="fa fa-clock-o"></i>{{ reward.getCategoryCapTimeUntilReset("text.reward unlock timer") }}</p><p ng-if="rewardState(reward) === \'group-point-cap-reached\' &amp;&amp; !reward.getCategoryCapNextDateAvailable()" class="group-point-cap-reached"><i aria-hidden="true" class="fa fa-lock"></i>{{ \'text.redeem widget reward category point cap reached\' | ctText }}</p><p ng-if="(rewardState(reward) === \'group-point-and-frequency-cap-reached\') &amp;&amp; (reward.getCategoryCapNextDateAvailable() || reward.isNotEndingBeforeFrequencyPeriod())" class="group-point-cap-reached"><i aria-hidden="true" class="fa fa-clock-o"></i>{{ reward.getCategoryCapTimeUntilReset("text.reward unlock timer") }}</p><p ng-if="reward.daysTilEnd() == 1" ng-bind-html="\'label.ends in day\' | ctText" class="ends"></p><p ng-if="reward.daysTilEnd() &lt;= 30 &amp;&amp; reward.daysTilEnd() &gt; 1" ng-bind-html="\'label.ends in days\' | ctText:{days: reward.daysTilEnd()}" class="ends"></p><p ng-if="reward.hasEnded()" ng-bind-html="\'text.reward ended\' | ctText" class="ends"></p></div><div class="row"><p ng-if="!reward.isExternal()" class="points ct-points-color">{{ reward.cost() | ctPoints }}</p><p ng-if="!reward.isSoldOut() &amp;&amp; reward.quantityRemaining() &lt;= client.rewardQuantityLeftThreshold()" ng-bind-html="\'label.num left\' | ctText:{quantity: reward.quantityRemaining()}" class="quantity"></p><p ng-if="reward.isSoldOut()" ng-bind-html="\'text.sold out\' | ctText" class="quantity sold-out"></p></div></div></div></div></div></div>'),
e.put("/social_connect/v1/social_connect.html",'<div id="social-connect-widget" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><div ng-if="client.enable_fb_login" class="social-net-container"><button ng-disabled="user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30" ct-fb-auth="{scope: client.fb_permissions_user}" aria-label="Connect Facebook Account" class="facebook social-net"><div ng-mouseover="fbHover = true" ng-mouseleave="fbHover = false"><i ng-class="{\'fa-refresh\': fbLoading, \'fa-spin\': fbLoading, \'fa-facebook\': (!fbLoading &amp;&amp; (!user.facebook_connected || user.days_to_fb_token_expiration &lt; 30 || !fbHover)), \'fa-check\': !fbLoading &amp;&amp; (user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30 &amp;&amp; fbHover)}" class="fa social-net"></i></div></button><div class="mobile"><div ng-bind-html="\'title.facebook\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.facebook_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.facebook_connected}">{{ pointValues.facebook.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.facebook.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.facebook\' | ctText" class="desktop social-net-name"></span><span ct-fb-de-auth="{ignoreClick: !user.facebook_connected}" ct-fb-auth="{scope: client.fb_permissions_user, ignoreClick: user.facebook_connected}" class="button-container"> <button class="btn connect ct-button"><span ng-if="user.facebook_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.facebook_connected" ng-bind-html="\'word.connect\' | ctText"> </span></button></span><span class="point-value ct-points-color desktop"><i ng-if="user.facebook_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.facebook_connected}">{{ pointValues.facebook.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.facebook.hasPointsHidden() } }}</span></span><div ng-bind-html="\'text.facebook requirement text\' | ctText" class="fb-requirement-text"></div><div class="notification-container"><div ng-if="fbSuccess" class="notification success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="fbSuccess  === \'refresh\'" ng-bind-html="\'success.facebook token refresh\' | ctText" class="msg"></span><span ng-if="fbSuccess  === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Facebook\'}" class="msg"></span><span ng-if="fbSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network:\'Facebook\'}" class="msg"></span></div><div ng-if="fbError" class="notification error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="fbError === true" ng-bind-html="\'error.unknown\' | ctText " class="msg"></span><span ng-if="fbError.length" class="msg">{{ fbError }}</span></div><div ng-if="!fbSuccess &amp;&amp; user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &lt; 30" class="notification warning"><i class="fa fa-exclamation"></i><span ng-if="user.days_to_fb_token_expiration &lt; 0" ng-bind-html="\'error.facebook token has expired\' | ctText:{days: -user.days_to_fb_token_expiration}" class="msg"></span><span ng-if="user.days_to_fb_token_expiration === 0" ng-bind-html="\'error.facebook token expires today\' | ctText" class="msg"></span><span ng-if="user.days_to_fb_token_expiration === 1" ng-bind-html="\'error.facebook token expires tomorrow\' | ctText" class="msg"></span><span ng-if="user.days_to_fb_token_expiration &gt; 1" ng-bind-html="\'error.facebook token will expire\' | ctText:{days: user.days_to_fb_token_expiration}" class="msg"></span><a ct-fb-auth="{scope: client.fb_permissions_user}" ng-bind-html="\'link.refresh connection\' | ctText" class="fb-refresh"></a></div></div></div><div ng-if="client.enable_twit_login || client.enable_twit_connect" class="social-net-container"><button ng-disabled="user.twitter_connected" ct-twit-auth="{url: client.twitter_auth_url}" aria-label="Connect Twitter Account" class="twitter social-net"><div ng-mouseover="twitHover = true" ng-mouseleave="twitHover = false"><i ng-class="{\'fa-spin\': twitLoading, \'fa-refresh\': twitLoading, \'fa-twitter\': (!twitLoading &amp;&amp; (!user.twitter_connected || !twitHover)), \'fa-check\': !twitLoading &amp;&amp; (user.twitter_connected &amp;&amp; twitHover)}" class="fa social-net"> </i></div></button><div class="mobile"><div ng-bind-html="\'title.twitter\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.twitter_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.twitter_connected}">{{ pointValues.twitter.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.twitter.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.twitter\' | ctText" class="desktop social-net-name"></span><span ng-click="twitLogout()" ct-twit-de-auth="{ignoreClick: !user.twitter_connected}" ct-twit-auth="{ignoreClick: user.twitter_connected, url: client.twitter_auth_url}" class="button-container"> <button class="btn connect ct-button"><span ng-if="user.twitter_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.twitter_connected" ng-bind-html="\'word.connect\' | ctText"></span></button></span><span class="point-value ct-points-color desktop"><i ng-if="user.twitter_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.twitter_connected}">{{ pointValues.twitter.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.twitter.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="twitError" class="notification notification-error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="twitError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="twitError.length" class="msg">{{ twitError }}</span></div><div ng-if="twitSuccess" class="notification success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="twitSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{\'network\': \'Twitter\'}" class="msg"></span><span ng-if="twitSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network:\'Twitter\'}" class="msg"></span></div></div></div><div ng-if="client.enable_pinterest_login || client.enable_pinterest_connect" class="social-net-container"><button ng-disabled="user.pinterest_connected" ct-pinterest-auth="{url: client.pinterest_auth_url}" aria-label="Connect Pinterest Account" class="pinterest social-net"><div ng-mouseover="pinHover = true" ng-mouseleave="pinHover = false"><i ng-class="{\'fa-spin\': pinLoading, \'fa-refresh\': pinLoading, \'fa-pinterest\': (!pinLoading &amp;&amp; (!user.pinterest_connected || !pinHover)), \'fa-check\': !pinLoading &amp;&amp; (user.pinterest_connected &amp;&amp; pinHover)}" class="fa social-net"></i></div></button><div class="mobile"><div ng-bind-html="\'title.pinterest\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.pinterest_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.pinterest_connected}">{{ pointValues.pinterest.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.pinterest.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.pinterest\' | ctText" class="desktop social-net-name"></span><span ng-click="pinterestLogout()" ct-pinterest-de-auth="{ignoreClick: !user.pinterest_connected}" ct-pinterest-auth="{ignoreClick: user.pinterest_connected, url: client.pinterest_auth_url}" class="button-container"><button class="btn connect ct-button"><span ng-if="user.pinterest_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.pinterest_connected" ng-bind-html="\'word.connect\' | ctText"></span></button></span><span class="point-value ct-points-color desktop"><i ng-if="user.pinterest_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.pinterest_connected}">{{ pointValues.pinterest.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.pinterest.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="pinError" class="notification notification-error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="pinError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="pinError.length" class="msg">{{ pinError }}</span></div><div ng-if="pinSuccess" class="notification success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="pinSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Pinterest\'}" class="msg"></span><span ng-if="pinSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network:\'Pinterest\'}" class="msg"></span></div></div></div><div ng-if="client.enable_instagram" class="social-net-container"><button ng-disabled="user.instagram_connected" ct-inst-auth="{ignoreClick: user.instagram_connected, url: client.instagram_auth_url}" aria-label="Connect Instagram Account" class="social-net instagram"><div ng-mouseover="instHover = true" ng-mouseleave="instHover = false"><i ng-class="{\'fa-spin\': instLoading, \'fa-refresh\': instLoading, \'fa-instagram\': !instLoading &amp;&amp; (!user.instagram_connected || !instHover), \'fa-check\': !instLoading &amp;&amp; (user.instagram_connected &amp;&amp; instHover)}" class="fa social-net"></i></div></button><div class="mobile"><div ng-bind-html="\'title.instagram\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.instagram_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.instagram_connected}">{{ pointValues.instagram.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.instagram.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.instagram\' | ctText" class="desktop social-net-name"></span><span ct-inst-de-auth="{ignoreClick: !user.instagram_connected}" ct-inst-auth="{ignoreClick: user.instagram_connected, url: client.instagram_auth_url}" class="button-container"> <button class="btn connect ct-button"><span ng-if="user.instagram_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.instagram_connected" ng-bind-html="\'word.connect\' | ctText"></span></button></span><span class="point-value ct-points-color desktop"><i ng-if="user.instagram_connected" class="fa fa-check-circle success"></i><span ng-class="{completed: user.instagram_connected}">{{ pointValues.instagram.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.instagram.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="instError" class="notification error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="instError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="instError.length" class="msg">{{ instError }}</span></div><div ng-if="instSuccess" class="notification success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="instSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Instagram\'}" class="msg"></span><span ng-if="instSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network:\'Instagram\'}" class="msg"></span></div></div></div><div ng-bind-html=" \'text.social disconnect terms\' | ctText " class="terms"></div></div></div>'),e.put("/social_connect/v2/social_connect.html",'<div id="social-connect-widget-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div ng-if="client.enable_fb_login" role="region" aria-label="{{ \'title.facebook connect\' | ctText }}" class="social-net-container facebook-container"><a ng-disabled="user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30" ng-attr-tabindex="{{ (user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30) ? -1 : 0 }}" ng-attr-aria-hidden="{{ (user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30) ? \'true\' : \'false\' }}" ct-fb-auth="{scope: client.fb_permissions_user, ignoreClick: user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30}" href="#" aria-label="{{ \'title.facebook connect\' | ctText }}" ng-mouseover="fbHover = true" ng-mouseleave="fbHover = false" class="btn ct-button social-net facebook"><i ng-class="{\'fa-refresh fa-spin\': fbLoading, \'fa-facebook\': (!fbLoading &amp;&amp; (!user.facebook_connected || user.days_to_fb_token_expiration &lt; 30 || !fbHover)), \'fa-check\': !fbLoading &amp;&amp; (user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &gt; 30 &amp;&amp; fbHover)}" aria-hidden="true" class="fa social-net"></i></a><div class="mobile"><div ng-bind-html="\'title.facebook\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.facebook_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.facebook_connected}">{{ pointValues.facebook.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.facebook.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.facebook\' | ctText" class="desktop social-net-name"></span><span ct-fb-de-auth="{ignoreClick: !user.facebook_connected}" ct-fb-auth="{ignoreClick: user.facebook_connected, scope: client.fb_permissions_user}" class="button-container"><a href="#" aria-label="{{ user.facebook_connected ? (\'title.facebook disconnect\' | ctText) : (\'title.facebook connect\' | ctText) }}" class="btn ct-button connect"><span ng-if="user.facebook_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.facebook_connected" ng-bind-html="\'word.connect\' | ctText"></span></a></span><span class="point-value ct-points-color desktop"><i ng-if="user.facebook_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.facebook_connected}">{{ pointValues.facebook.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.facebook.hasPointsHidden() } }}</span></span><div ng-bind-html="\'text.facebook requirement text\' | ctText" role="note" class="fb-requirement-text"></div><div class="notification-container"><div ng-if="fbSuccess" aria-atomic="true" role="status" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="fbSuccess === \'refresh\'" ng-bind-html="\'success.facebook token refresh\' | ctText" class="msg"></span><span ng-if="fbSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Facebook\'}" class="msg"></span><span ng-if="fbSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network: \'Facebook\'}" class="msg"></span></div><div ng-if="fbError" aria-atomic="true" role="alert" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="fbError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="fbError.length" class="msg">{{ fbError }}</span></div><div ng-if="!fbSuccess &amp;&amp; user.facebook_connected &amp;&amp; user.days_to_fb_token_expiration &lt; 30" aria-atomic="true" role="status" class="notification warning"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-if="user.days_to_fb_token_expiration &lt; 0" ng-bind-html="\'error.facebook token has expired\' | ctText:{days: -user.days_to_fb_token_expiration}" class="msg"></span><span ng-if="user.days_to_fb_token_expiration === 0" ng-bind-html="\'error.facebook token expires today\' | ctText" class="msg"></span><span ng-if="user.days_to_fb_token_expiration === 1" ng-bind-html="\'error.facebook token expires tomorrow\' | ctText" class="msg"></span><span ng-if="user.days_to_fb_token_expiration &gt; 1" ng-bind-html="\'error.facebook token will expire\' | ctText:{days: user.days_to_fb_token_expiration}" class="msg"></span><a ct-fb-auth="{scope: client.fb_permissions_user}" ng-bind-html="\'link.refresh connection\' | ctText" href="#" aria-label="{{ \'link.refresh connection\' | ctText }}" class="fb-refresh"></a></div></div></div><div ng-if="client.enable_twit_login || client.enable_twit_connect" role="region" aria-label="{{ \'title.twitter connect\' | ctText }}" class="social-net-container twitter-container"><a ng-disabled="user.twitter_connected" ng-attr-tabindex="{{ user.twitter_connected ? -1 : 0 }}" ng-attr-aria-hidden="{{ user.twitter_connected ? \'true\' : \'false\' }}" ct-twit-auth="{ignoreClick: user.twitter_connected, url: client.twitter_auth_url}" href="#" aria-label="{{ \'title.twitter connect\' | ctText }}" ng-mouseover="twitHover = true" ng-mouseleave="twitHover = false" class="btn ct-button social-net twitter"><i ng-class="{\'fa-spin fa-refresh\': twitLoading, \'fa-twitter\': (!twitLoading &amp;&amp; (!user.twitter_connected || !twitHover)), \'fa-check\': !twitLoading &amp;&amp; (user.twitter_connected &amp;&amp; twitHover)}" aria-hidden="true" class="fa social-net"></i></a><div class="mobile"><div ng-bind-html="\'title.twitter\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.twitter_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.twitter_connected}">{{ pointValues.twitter.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.twitter.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.twitter\' | ctText" class="desktop social-net-name"></span><span ng-click="twitLogout()" ct-twit-de-auth="{ignoreClick: !user.twitter_connected}" ct-twit-auth="{ignoreClick: user.twitter_connected, url: client.twitter_auth_url}" class="button-container"><a href="#" aria-label="{{ user.twitter_connected ? (\'title.twitter disconnect\' | ctText) : (\'title.twitter connect\' | ctText) }}" class="btn ct-button connect"><span ng-if="user.twitter_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.twitter_connected" ng-bind-html="\'word.connect\' | ctText"></span></a></span><span class="point-value ct-points-color desktop"><i ng-if="user.twitter_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.twitter_connected}">{{ pointValues.twitter.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.twitter.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="twitSuccess" aria-atomic="true" role="status" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="twitSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{\'network\': \'Twitter\'}" class="msg"></span><span ng-if="twitSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network: \'Twitter\'}" class="msg"></span></div><div ng-if="twitError" aria-atomic="true" role="alert" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="twitError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="twitError.length" class="msg">{{ twitError }}</span></div></div></div><div ng-if="client.enable_pinterest_login || client.enable_pinterest_connect" role="region" aria-label="{{ \'title.pinterest connect\' | ctText }}" class="social-net-container pinterest-container"><a ng-disabled="user.pinterest_connected" ng-attr-tabindex="{{ user.pinterest_connected ? -1 : 0 }}" ng-attr-aria-hidden="{{ user.pinterest_connected ? \'true\' : \'false\' }}" ct-pinterest-auth="{ignoreClick: user.pinterest_connected, url: client.pinterest_auth_url}" href="#" aria-label="{{ \'title.pinterest connect\' | ctText }}" ng-mouseover="pinHover = true" ng-mouseleave="pinHover = false" class="btn ct-button social-net pinterest"><i ng-class="{\'fa-spin fa-refresh\': pinLoading, \'fa-pinterest\': (!pinLoading &amp;&amp; (!user.pinterest_connected || !pinHover)), \'fa-check\': !pinLoading &amp;&amp; (user.pinterest_connected &amp;&amp; pinHover)}" aria-hidden="true" class="fa social-net"></i></a><div class="mobile"><div ng-bind-html="\'title.pinterest\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.pinterest_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.pinterest_connected}">{{ pointValues.pinterest.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.pinterest.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.pinterest\' | ctText" class="desktop social-net-name"></span><span ng-click="pinterestLogout()" ct-pinterest-de-auth="{ignoreClick: !user.pinterest_connected}" ct-pinterest-auth="{ignoreClick: user.pinterest_connected, url: client.pinterest_auth_url}" class="button-container"><a href="#" aria-label="{{ user.pinterest_connected ? (\'title.pinterest disconnect\' | ctText) : (\'title.pinterest connect\' | ctText) }}" class="btn ct-button connect"><span ng-if="user.pinterest_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.pinterest_connected" ng-bind-html="\'word.connect\' | ctText"></span></a></span><span class="point-value ct-points-color desktop"><i ng-if="user.pinterest_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.pinterest_connected}">{{ pointValues.pinterest.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.pinterest.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="pinSuccess" aria-atomic="true" role="status" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="pinSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Pinterest\'}" class="msg"></span><span ng-if="pinSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network: \'Pinterest\'}" class="msg"></span></div><div ng-if="pinError" aria-atomic="true" role="alert" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="pinError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="pinError.length" class="msg">{{ pinError }}</span></div></div></div><div ng-if="client.enable_instagram" role="region" aria-label="{{ \'title.instagram connect\' | ctText }}" class="social-net-container instagram-container"><a ng-disabled="user.instagram_connected" ng-attr-tabindex="{{ client.enable_instagram ? -1 : 0 }}" ng-attr-aria-hidden="{{ client.enable_instagram ? \'true\' : \'false\' }}" ct-inst-auth="{ignoreClick: user.instagram_connected, url: client.instagram_auth_url}" href="#" aria-label="{{ \'title.instagram connect\' | ctText }}" ng-mouseover="instHover = true" ng-mouseleave="instHover = false" class="btn ct-button social-net instagram"><i ng-class="{\'fa-spin fa-refresh\': instLoading, \'fa-instagram\': !instLoading &amp;&amp; (!user.instagram_connected || !instHover), \'fa-check\': !instLoading &amp;&amp; (user.instagram_connected &amp;&amp; instHover)}" aria-hidden="true" class="fa social-net"></i></a><div class="mobile"><div ng-bind-html="\'title.instagram\' | ctText" class="social-net-name"></div><div class="point-value ct-points-color mobile"><i ng-if="user.instagram_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.instagram_connected}">{{ pointValues.instagram.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.instagram.hasPointsHidden() } }}</span></div></div><span ng-bind-html="\'title.instagram\' | ctText" class="desktop social-net-name"></span><span ct-inst-de-auth="{ignoreClick: !user.instagram_connected}" ct-inst-auth="{ignoreClick: user.instagram_connected, url: client.instagram_auth_url}" class="button-container"><a href="#" aria-label="{{ user.instagram_connected ? (\'title.instagram disconnect\' | ctText) : (\'title.instagram connect\' | ctText) }}" class="btn ct-button connect"><span ng-if="user.instagram_connected" ng-bind-html="\'word.disconnect\' | ctText"></span><span ng-if="!user.instagram_connected" ng-bind-html="\'word.connect\' | ctText"></span></a></span><span class="point-value ct-points-color desktop"><i ng-if="user.instagram_connected" aria-hidden="true" class="fa fa-check-circle success"></i><span ng-class="{completed: user.instagram_connected}">{{ pointValues.instagram.num_points | ctPoints: { prefix: \'+\', hideOnZero: pointValues.instagram.hasPointsHidden() } }}</span></span><div class="notification-container"><div ng-if="instSuccess" aria-atomic="true" role="status" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span ng-if="instSuccess === \'connect\'" ng-bind-html="\'success.connect social account widget\' | ctText:{network: \'Instagram\'}" class="msg"></span><span ng-if="instSuccess === \'disconnect\'" ng-bind-html="\'success.disconnect social account widget\' | ctText:{network: \'Instagram\'}" class="msg"></span></div><div ng-if="instError" aria-atomic="true" role="alert" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span ng-if="instError === true" ng-bind-html="\'error.unknown\' | ctText" class="msg"></span><span ng-if="instError.length" class="msg">{{ instError }}</span></div></div></div><aside ng-bind-html="\'text.social disconnect terms\' | ctText" aria-label="social disconnect terms" class="terms"></aside></div></div>'),e.put("/social_set_pw/v1/social_set_pw.html",'<div id="ct-social-set-pw" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-bind-html="\'text.explain social net disconnect pw overlay\' | ctText" class="explanation"></p><form novalidate="novalidate" name="newPwForm"><dl class="form"><dt><label for="username" ng-bind-html="\'label.email address\' | ctText"></label></dt><dd><p>{{ user.email_address }}</p></dd></dl><dl class="form"><dt><label for="password-input" ng-bind-html="\'label.password\' | ctText"></label></dt><dd><input id="password-input" type="password" name="password" required="required" ng-model="password"/></dd><dd ng-if="clicked &amp;&amp; newPwForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" class="error"></dd></dl><dl class="form"><dt><label for="confirm-password-input" ng-bind-html="\'label.confirm password\' | ctText"></label></dt><dd><input id="confirm-password-input" ct-field-confirm="password" name="confirmPassword" type="password" required="required" ng-model="confirm"/></dd><dd ng-if="clicked &amp;&amp; newPwForm.confirmPassword.$error.required" ng-bind-html="\'error.confirm password required\' | ctText" class="error"></dd><dd ng-if="clicked &amp;&amp; newPwForm.confirmPassword.$error.confirm" ng-bind-html="\'error.password mismatch\' | ctText" class="error"></dd></dl><div ng-if="error" class="notification error">{{ error }}</div><button id="set-new-pw-submit-btn" ng-class="" ng-disabled="newPwForm.$errors" ng-click="onFormSubmit()" class="btn ct-button">{{ \'button.set password\' | ctText }}</button></form></div></div>'),e.put("/social_set_pw/v2/social_set_pw.html",'<div id="ct-social-set-pw-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><aside ng-bind-html="\'text.explain social net disconnect pw overlay\' | ctText" class="explanation"></aside><form name="newPwForm" ng-submit="onFormSubmit()" novalidate="novalidate" class="form"><fieldset class="form-fields"><div id="username" ng-bind-html="\'label.email address\' | ctText" class="input-label"></div><div aria-labelledby="username" class="input-field">{{ user.email_address }}</div><label for="password-input" ng-bind-html="\'label.password\' | ctText" class="input-label"></label><input id="password-input" type="password" name="password" ng-model="password" required="required" class="input-field"/><div ng-if="clicked &amp;&amp; newPwForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" role="alert" class="notification error"></div><label for="confirm-password-input" ng-bind-html="\'label.confirm password\' | ctText" class="input-label"></label><input id="confirm-password-input" type="password" name="confirmPassword" ng-model="confirm" ct-field-confirm="password" required="required" class="input-field"/><div ng-if="clicked &amp;&amp; newPwForm.confirmPassword.$error.required" ng-bind-html="\'error.confirm password required\' | ctText" role="alert" class="notification error"></div><div ng-if="clicked &amp;&amp; newPwForm.confirmPassword.$error.confirm" ng-bind-html="\'error.password mismatch\' | ctText" role="alert" class="notification error"></div></fieldset><div ng-if="error" class="notification error">{{ error }}</div><button id="set-new-pw-submit-btn" type="submit" ng-disabled="newPwForm.$errors" class="btn ct-button">{{ \'button.set password\' | ctText }}</button></form></div></div>'),
e.put("/subscribe_to_emails/v1/subscribe_to_emails.html",'<div id="subscribe-to-emails" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ &quot;heading.subscribe to emails widget&quot; | ctText }}</h3></div><div class="container"><form novalidate="novalidate" name="subscribeForm"><dl class="form checkbox"><div class="button-container"><button ng-click="submit(subscribe.value)" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div><div class="left"><dt><input id="subscribe-input" type="checkbox" name="subscribe" ng-model="subscribe.value" class="text-input"/><label for="subscribe-input" ng-bind-html="\'label.receive email updates\' | ctText"></label></dt><dd><span ng-class="{completed: user.receive_email_updates}" class="point-value ct-points-color"><i ng-if="user.receive_email_updates" class="fa success fa-check-circle"></i>{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span></dd></div></dl><div ng-if="subscribeError" class="error"><div class="notification error">{{ subscribeError }}</div></div><div ng-if="subscribeSuccess" class="success"><div ng-bind-html="\'success.subscribe to emails widget\' | ctText" class="notification success"></div></div></form></div></div>'),e.put("/subscribe_to_emails/v2/subscribe_to_emails.html",'<div id="subscribe-to-emails-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ &quot;heading.subscribe to emails widget&quot; | ctText }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><form novalidate="novalidate" name="subscribeForm" ng-submit="submit(subscribe.value)"><div class="form checkbox"><div class="button-container"><button type="submit" class="btn ct-button">{{ \'button.submit\' | ctText }}</button></div><div class="left"><div class="input"><input id="subscribe-input" type="checkbox" name="subscribe" ng-model="subscribe.value" class="text-input"/><label for="subscribe-input" ng-bind-html="\'label.receive email updates\' | ctText"></label></div><div class="point-values"><span ng-class="{completed: user.receive_email_updates}" class="point-value ct-points-color"><i ng-if="user.receive_email_updates" aria-hidden="true" class="fa success fa-check-circle"></i>{{ activity.num_points | ctPoints:{prefix: \'+\', hideOnZero: activity.hasPointsHidden()} }}</span></div></div></div><div ng-if="subscribeError" role="alert" class="error"><div class="notification error">{{ subscribeError }}</div></div><div ng-if="subscribeSuccess" role="status" class="success"><div ng-bind-html="\'success.subscribe to emails widget\' | ctText" class="notification success"></div></div></form></div></div>'),e.put("/survey/v1/survey.html",'<div id="survey" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-bind-html="survey.description  | ctTrustHtml" class="description"></p><form name="surveyForm" novalidate="novalidate" ng-class="getMinHeight()"><ul><li ng-repeat="q in survey.questions | startFrom: currentPage | limitTo: 1" class="question-container"><div ng-form="ng-form" name="innerForm"><dl class="form"><dt><label for="{{ \'q\' + q.id }}" ng-bind-html="q.text | ctTrustHtml" class="question"></label><span ng-if="q.input_type === \'checkboxes\'" ng-bind-html="\'text.survey question type checkbox\' | ctText" class="directions"></span></dt><dd ng-switch="q.input_type" ng-if="q.image_enabled != true"><input ng-switch-default="ng-switch-default" id="{{ \'q\' + q.id }}" name="question" type="text" ng-model="answers[q.id].value" ng-required="true" class="text-input"/><div ng-switch-when="select" class="select"><div ng-repeat="answer in q.answers" class="radio-item"><input type="radio" id="answer-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-value="{{ $index }}" ng-model="q.selected" ng-change="updateAnswers(answer, q)" ng-required="!someSelected(q.id)"/><label for="answer-{{ answer.id }}"><span ng-bind-html="answer.value"></span></label></div></div><div ng-switch-when="checkboxes" class="checkbox-holder"><div ng-repeat="answer in q.answers" class="checkbox-item"><input type="checkbox" id="{{ \'q\' + answer.id }}" name="{{ \'q\' + answer.id }}" ng-model="checkboxes[answer.id]" ng-change="updateAnswers(answer, q)" ng-required="!someSelected(q.id)" ng-model-options="{allowInvalid: true}"/><label for="{{ \'q\' + answer.id }}"><span ng-bind-html="answer.value"></span></label></div></div></dd><dd ng-if="q.image_enabled" class="image-enabled"><div ng-repeat="answer in q.answers" class="image-wrapper"><label for="answer-{{ answer.id }}" class="image-label"><img ng-src="{{ answer.image_url }}" alt="{{ answer.value }}"/></label><input ng-if="q.input_type === \'checkboxes\'" type="checkbox" ng-model="checkboxes[answer.id]" id="answer-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-required="!someSelected(q.id)" ng-change="updateAnswers(answer, q)" ng-model-options="{allowInvalid: true}"/><input ng-if="q.input_type === \'select\'" type="radio" ng-model="q.selected" ng-value="{{ $index }}" id="answer-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-required="!someSelected(q.id)" ng-change="updateAnswers(answer, q)"/><label for="answer-{{ answer.id }}" class="title"><span ng-bind-html="answer.value"></span></label><label for="answer-{{ answer.id }}" class="custom-label"></label></div></dd><dd ng-if="innerForm.$dirty &amp;&amp; innerForm.$invalid" ng-bind-html="\'error.info required\' | ctText" class="error"></dd></dl></div></li></ul><div ng-hide="currentPage != survey.questions.length - 1" class="submit-container"><div class="points"><i ng-if="completed" class="fa fa-check-circle success"></i><p class="ct-points-color">{{ survey.num_points | ctPoints:{prefix: \'+\', hideOnZero: survey.hasPointsHidden()} }}</p></div><button ng-disabled="surveyForm.$invalid || currentPage != survey.questions.length - 1" ng-click="onSubmit()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div></form><div class="nav-btns"><button ng-hide="currentPage === 0" ng-click="currentPage = currentPage - 1" ng-bind-html="\'link.previous\' | ctText" class="prev-btn"></button><button ng-disabled="surveyForm.$invalid" ng-hide="currentPage &gt;= survey.questions.length - 1" ng-click="currentPage = currentPage + 1" ng-bind-html="\'link.next\' | ctText" class="next-btn"></button><div class="status">{{ currentPage + 1 }}/{{ survey.questions.length }}</div></div><div class="notifcation-container"><div ng-show="notification === \'success\'" class="notification success"><i class="fa fa-check"></i><span ng-bind-html="\'text.survey save success status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save success\' | ctText" class="msg"></span></div><div ng-show="notification === \'error\'" class="notification error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'text.survey save error status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save error\' | ctText" class="msg"></span></div></div><div ng-if="survey.is_locked_by_tier || survey.is_locked_by_prereq" class="lock-mask"><div class="lock-container"><div ng-if="survey.is_locked_by_prereq" class="lock-info"><i class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: survey.prereq_activity_title}"></span></div><div ng-if="survey.is_locked_by_tier" class="lock-info"><i class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(survey.min_tier_id)}"></span></div></div></div></div></div>'),e.put("/survey/v2/survey.html",'<div id="survey-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><p ng-bind-html="survey.description  | ctTrustHtml" class="description"></p><form name="surveyForm" novalidate="novalidate" ng-class="getMinHeight()"><fieldset ng-disabled="survey.is_locked_by_tier || survey.is_locked_by_prereq" class="question-container"><legend ng-if="currentQuestion.input_type !== \'text\'" ng-bind-html="currentQuestion.text | ctTrustHtml" class="question"></legend><label for="survey-question-answer" ng-bind-html="currentQuestion.text | ctTrustHtml" ng-if="currentQuestion.input_type === \'text\'" class="question"></label><span id="checkbox-directions" ng-if="currentQuestion.input_type === \'checkboxes\'" ng-bind-html="\'text.survey question type checkbox\' | ctText" class="directions"></span><div ng-if="!currentQuestion.image_enabled" class="image-not-enabled"><input ng-if="currentQuestion.input_type === \'text\'" id="survey-question-answer" name="survey-question-answer" type="text" ng-model="answers[currentQuestion.id].value" required="required" class="text-input"/><label ng-if="currentQuestion.input_type === \'select\'" ng-repeat="answer in currentQuestion.answers" for="survey-radio-{{ answer.id }}" class="radio-item"><input type="radio" id="survey-radio-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-value="$index" ng-model="currentQuestion.selected" ng-change="updateAnswers(answer, currentQuestion)" ng-required="!someSelected(currentQuestion.id)" class="radio-input"/><span ng-bind-html="answer.value" class="radio-answer"></span></label><label ng-if="currentQuestion.input_type === \'checkboxes\'" ng-repeat="answer in currentQuestion.answers" for="survey-checkbox-{{ answer.id }}" class="checkbox-label"><input type="checkbox" id="survey-checkbox-{{ answer.id }}" name="survey-checkbox-{{ answer.id }}" ng-model="checkboxes[answer.id]" template="template" ng-change="updateAnswers(answer, currentQuestion)" ng-required="!someSelected(currentQuestion.id)" ng-model-options="{allowInvalid: true}" class="checkbox-input"/><span ng-bind-html="answer.value" class="checkbox-answer"></span></label></div><div ng-if="currentQuestion.image_enabled" class="image-enabled"><label ng-repeat="answer in currentQuestion.answers" class="image-wrapper"><img ng-src="{{ answer.image_url }}" alt="{{ answer.value }}"/><input ng-if="currentQuestion.input_type === \'checkboxes\'" type="checkbox" ng-model="checkboxes[answer.id]" id="answer-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-required="!someSelected(currentQuestion.id)" ng-change="updateAnswers(answer, currentQuestion)" ng-model-options="{allowInvalid: true}" class="checkbox-input"/><input ng-if="currentQuestion.input_type === \'select\'" type="radio" ng-model="currentQuestion.selected" ng-value="$index" id="answer-{{ answer.id }}" name="answer-group-{{ answer.id }}" ng-required="!someSelected(currentQuestion.id)" ng-change="updateAnswers(answer, currentQuestion)" class="radio-input"/><span ng-bind-html="answer.value" class="image-answer"></span></label></div></fieldset><span role="alert" aria-atomic="true" ng-if="surveyForm.$dirty &amp;&amp; surveyForm.$invalid" ng-bind-html="\'error.info required\' | ctText" class="error"></span><div ng-if="onLastPage()" class="submit-container"><div class="points"><i ng-if="completed" aria-hidden="true" title="Successfully completed survey" class="fa fa-check-circle success"></i><p class="ct-points-color">{{ survey.num_points | ctPoints:{prefix: \'+\', hideOnZero: hidePoints} }}</p></div><button ng-disabled="surveyForm.$invalid || !onLastPage()" ng-click="onSubmit()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div></form><nav class="nav-btns"><button ng-hide="onFirstPage()" ng-click="goToPreviousPage()" ng-bind-html="\'link.previous\' | ctText" class="prev-btn"></button><button ng-disabled="surveyForm.$invalid" ng-hide="onLastPage()" ng-click="goToNextPage()" ng-bind-html="\'link.next\' | ctText" class="next-btn"></button></nav><div role="status" aria-atomic="true" class="status">{{ currentIndex + 1 }}/{{ survey.questions.length }}</div><div class="notification-container"><div ng-show="notification === \'success\'" role="alert" aria-atomic="true" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'text.survey save success status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save success\' | ctText" class="msg"></span></div><div ng-show="notification === \'error\'" role="alert" aria-atomic="true" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'text.survey save error status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save error\' | ctText" class="msg"></span></div></div><div ng-if="survey.is_locked_by_tier || survey.is_locked_by_prereq" role="status" class="lock-mask"><div class="lock-container"><div ng-if="survey.is_locked_by_prereq" aria-atomic="true" class="lock-info"><i aria-hidden="true" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: survey.prereq_activity_title}" class="unlock-explain"></span></div><div ng-if="survey.is_locked_by_tier" aria-atomic="true" class="lock-info"><i aria-hidden="true" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(survey.min_tier_id)}" class="min-tier-explain"></span></div></div></div></div></div>'),e.put("/survey/v3/question.html",'\x3c!-- TODO(jblacker)|CTEPR-1542: Merge with directive located in common/questionnaire/questionnaire_question_input--\x3e<div ng-class="containerClasses" class="question-container"><div ng-form="questionForm"><div class="question"><div id="{{ \'question-text\' + question.questionId }}" ng-bind-html="question.questionTextKey | ctPrefixQuestionNumber:displayNumber| ctTrustHtml" data-optional-text="{{ question.required ? \'\' : (\'word.optional\' | ctText) }}" class="question-text"></div><span ng-if="getQuestionType() === \'multi-answer\'" ng-bind-html="\'text.survey question type checkbox\' | ctText" class="directions"></span></div><div ng-switch="getQuestionType()" class="answer-container"><span ng-switch-when="freehand"><input id="{{ \'q\' + question.questionId }}" type="text" ng-model="answer.responseText" ng-required="question.required" aria-labelledby="{{ \'question-text\' + question.questionId }}" class="text-input"/></span><span ng-switch-when="multi-answer"><ul role="group" aria-labelledby="{{ \'question-text\' + question.questionId }}" class="answer-options"><li ng-repeat="a in question.answerOptions | orderBy:\'displayOrder\'" ng-class="a.imageLink ? \'has-image\' : \'\'" class="answer-option"><label class="answer-option-wrapper"><input aria-label="{{ a.answerTextKey }}" id="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" type="checkbox" ng-model="checkboxes[a.answerId]" ng-required="question.required &amp;&amp; !anySelected()" role="group" class="checkbox-item"/><div ng-if="a.imageLink" class="image-wrapper"><img ng-src="{{ a.imageLink }}" alt="{{ a.answerTextKey }}" class="option-image"/></div><span class="answer-option-text">{{ a.answerTextKey }}</span></label></li><li ng-if="includeOtherOption" class="answer-option"><div class="answer-option-other-wrapper"><label class="answer-option-wrapper"><input aria-label="select other" id="{{ \'q\' + question.questionId + \'-other\' }}" type="checkbox" ng-model="checkboxes[\'OTHER\']" ng-required="question.required &amp;&amp; !anySelected()" role="group" class="checkbox-item"/>{{ otherLabel }}</label><input aria-label="other input" id="{{ \'q\' + question.questionId + \'-other-value\' }}" type="text" ng-model="answer.responseText" ng-required="isOtherSelected()" ng-disabled="!isOtherSelected()" class="text-input other-field"/></div></li></ul></span><span ng-switch-when="multi-choice"><ul role="radiogroup" aria-labelledby="{{ \'question-text\' + question.questionId }}" class="answer-options"><li ng-repeat="a in question.answerOptions | orderBy:\'displayOrder\'" ng-class="a.imageLink ? \'has-image\' : \'\'" class="answer-option"><label class="answer-option-wrapper"><input aria-label="{{ radioChoice.value }}" id="{{ \'q\' + question.questionId + \'-\' + a.answerId }}" type="radio" name="question-{{question.questionId}}-answer-group" ng-required="question.required" ng-value="a.answerId.toString()" ng-model="radioChoice.value" role="radiogroup" class="radio-item"/><div ng-if="a.imageLink" class="image-wrapper"><img ng-src="{{ a.imageLink }}" alt="{{ a.answerTextKey }}" class="option-image"/></div><span class="answer-option-text">{{ a.answerTextKey }}</span></label></li><li ng-if="includeOtherOption" class="answer-option"><div class="answer-option-other-wrapper"><label class="answer-option-wrapper"><input aria-label="select other" id="{{ \'q\' + question.questionId + \'-other\' }}" type="radio" name="question-{{question.questionId}}-answer-group" value="OTHER" ng-model="radioChoice.value" ng-required="question.required" role="radiogroup" class="radio-item"/>{{ otherLabel }}</label><input aria-label="other input" id="{{ \'q\' + question.questionId + \'-other-value\' }}" type="text" ng-model="answer.responseText" ng-required="isOtherSelected()" ng-disabled="!isOtherSelected()" class="text-input other-field"/></div></li></ul></span></div><div ng-if="questionForm.$dirty &amp;&amp; questionForm.$invalid" ng-bind-html="\'error.info required\' | ctText" role="alert" aria-atomic="true" class="error"></div></div></div>'),e.put("/survey/v3/survey.html",'<div id="survey-v3" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-bind-html="survey.descriptionTextKey | ctTrustHtml" class="description"></p><form name="surveyForm" novalidate="novalidate" ng-class="getMinHeight()"><fieldset ng-disabled="isSurveyDisabled()" class="survey-container"><ul class="questions"><li ng-repeat="q in questions | orderBy:\'displayOrder\'"><ct-questionnaire-question question="q" display-number="{{($index + 1)}}" answer="answers[q.questionId.toString()]" other-label="otherLabel"></ct-questionnaire-question></li></ul><div class="submit-container"><i ng-if="completed" aria-label="{{ \'text.activity completed successfully\' | ctText:{activityName: \'survey\'} }}" class="fa fa-check-circle success"></i><p ng-if="completed" class="points ct-points-color">{{ pointsAwarded | ctPoints:{prefix: \'+\', hideOnZero: (pointsAwarded == 0)} }}</p><button ng-disabled="surveyForm.$invalid || isSurveyDisabled()" ng-click="onSubmit()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div></fieldset></form><div class="notification-container"><div ng-show="notification === \'success\'" role="alert" aria-atomic="true" class="notification success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'text.survey save success status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save success\' | ctText" class="msg"></span></div><div ng-show="notification === \'error\'" role="alert" aria-atomic="true" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'text.survey save error status\' | ctText" class="status"></span><span ng-bind-html="\'text.survey save error\' | ctText" class="msg"></span></div></div><div ng-if="survey.isLockedByTier || survey.isLockedByPrereq" role="status" class="lock-mask"><div class="lock-container"><div ng-if="survey.isLockedByPrereq" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by prereq\' | ctText:{activity: survey.prereqActivityTitle} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget unlock\' | ctText:{activity: survey.prereqActivityTitle}" class="unlock-explain"></span></div><div ng-if="survey.isLockedByTier" aria-atomic="true" class="lock-info"><i aria-label="{{ \'text.activity widget locked by tier\' | ctText:{tier: getTierNameById(survey.minTierId)} }}" class="fa fa-lock"></i><span ng-bind-html="\'text.activity widget tier unlock\' | ctText:{tier: getTierNameById(survey.minTierId)}" class="min-tier-explain"></span></div></div></div></div></div>'),e.put("/unsubscribe/v1/unsubscribe.html",'<div id="unsubscribe" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-show="loading" ng-bind-html="\'label.loading\' | ctText" class="explanation"></p><p ng-show="success" ng-bind-html="\'text.unsubscribe explanation\' | ctText:{clientName: client.name + \' \' + client.program_name}" class="explanation"></p><div ng-show="error" class="notification notification-error"><span ng-bind-html="\'error.email unsubscribe\' | ctText" class="msg"></span></div></div></div>'),e.put("/upload_receipt/v1/upload_receipt.html",'<div id="upload-receipt" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ getWidgetHeader() }}</h3></div><div class="container"><p ng-bind-html="\'text.upload receipt description\' | ctText"></p><div><div class="receipt-preview">\x3c!-- The alt tag needs to stay blank to prevent broken images--\x3e\x3c!-- The aria-label overrides the alt tag anyway--\x3e<img ng-src="{{ imagePreview }}" src="" alt="" aria-label="Receipt Image Preview"/><input id="upload-input" type="file" ct-file-upload="fileUpload"/><label for="upload-input" ng-bind-html="\'button.upload receipt select photo\' | ctText" class="btn btn-secondary btn-small"></label><div class="upload-instructions"><p ng-bind-html="\'text.upload receipt file requirement\' | ctText"></p><p ng-bind-html="\'text.upload receipt file technical requirement\' | ctText"></p></div></div></div><div class="notification-container"><div ng-if="error" class="notification error"><i class="fa fa-exclamation"></i><span ng-bind-html="\'word.failed\' | ctText" class="status"></span><span class="msg">{{ error }}</span></div></div><div class="submit"><button ng-click="submitReceipt()" ng-disabled="!uploadData || error" class="btn btn-small ct-button">{{ \'button.upload receipt submit\' | ctText }}</button></div><div class="receipt-queue"><div ng-repeat="receipt in receipts" class="receipt-item"><div ng-class="getClass(receipt)" ng-if="!receipt.hide" class="notification"><a ng-if="receipt.state !== \'TPG_PROCESSING\' &amp;&amp; receipt.state !== \'NOT_PROCESSED\'" ng-click="clearMessage(receipt)" class="close">X</a><label ng-bind-html="formatReceiptReason(receipt.reason, {fileUrl: receipt.fileUrl, dateSubmitted: (receipt.dateSubmitted | date:&quot;MM-dd-yyyy hh:mm a&quot;)})"></label></div></div></div></div></div>'),e.put("/upload_receipt/v2/upload_receipt.html",'<div id="upload-receipt-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ getWidgetHeader() }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><p ng-bind-html="\'text.upload receipt description\' | ctText"></p><form ng-submit="submitReceipt()"><div><div aria-busy="{{ isUploading ? \'true\' : \'false\' }}" class="receipt-preview">\x3c!-- The alt tag needs to stay blank to prevent broken images--\x3e\x3c!-- The aria-label overrides the alt tag anyway--\x3e<img ng-src="{{ imagePreview }}" alt="" aria-label="{{ \'text.receipt image preview\' | ctText }}" ng-class="imgClass"/><input id="upload-input" type="file" ct-file-upload="fileUpload"/><label id="upload-file-label" for="upload-input" ng-bind-html="\'button.upload receipt select photo\' | ctText" class="btn btn-secondary btn-small"></label><div class="upload-instructions"><p ng-bind-html="\'text.upload receipt file requirement\' | ctText"></p><p ng-bind-html="\'text.upload receipt file technical requirement\' | ctText"></p></div></div></div><div class="notification-container"><div ng-if="error" role="alert" class="notification error"><i aria-hidden="true" class="fa fa-exclamation"></i><span ng-bind-html="\'word.failed\' | ctText" class="status"></span><span class="msg">{{ error }}</span></div></div><div class="submit"><button aria-label="{{ \'label.upload receipt\' | ctText }}" type="submit" ng-disabled="!readyForSubmission" class="btn btn-small ct-button">{{ \'button.upload receipt submit\' | ctText }}</button></div></form><div class="receipt-queue"><div ng-repeat="receipt in receipts" class="receipt-item"><div ng-class="getClass(receipt.state)" ng-if="!receipt.hide" role="status" class="notification"><button type="button" ng-if="receipt.state !== \'TPG_PROCESSING\' &amp;&amp; receipt.state !== \'NOT_PROCESSED\'" ng-click="clearMessage(receipt)" aria-label="{{ \'label.close notification\' | ctText }}" class="close">&times;</button><label ng-bind-html="formatReceiptReason(receipt.reason, {fileUrl: receipt.fileUrl, dateSubmitted: (receipt.dateSubmitted | date:&quot;MM-dd-yyyy hh:mm a&quot;)})"></label></div></div></div></div></div>'),e.put("/common/directives/dynamic_form/dynamic_form.html",'<div id="dynamic-form"><form name="dynamicForm" novalidate="novalidate"><dl ng-repeat="field in form.fields" ng-class="field.type" class="form"><div ng-form="ng-form" name="innerForm"><dt><label for="dynamic-form-field-{{field.name}}">{{ field.label }}<span ng-if="!field.required" class="optional">&nbsp;</span><span ng-if="!field.required" ng-bind-html="\'word.optional\' | ctText" class="optional"></span></label></dt><dd ng-switch="field.type"><input ng-switch-when="text" id="dynamic-form-field-{{field.name}}" name="field" type="text" ng-model="field.value" ng-required="field.required"/><select ng-switch-when="dropDown" id="dynamic-form-field-{{field.name}}" name="field" ng-model="field.value" ng-options="o.value as o.label for o in field.options" ng-required="field.required"><option value="" ng-bind-html="\'word.select\' | ctText"></option></select><textarea ng-switch-when="textArea" id="dynamic-form-field-{{field.name}}" name="field" ng-model="field.value" ng-required="field.required"></textarea><input ng-switch-when="checkbox" id="dynamic-form-field-{{field.name}}" name="field" type="checkbox" ng-model="field.value" ng-required="field.required"/><div ng-switch-when="date"><input id="dynamic-form-field-{{field.name}}-month" name="month" type="number" min="1" max="12" placeholder="MM" ng-model="field.value.month" ng-required="field.required" class="inline"/><input id="dynamic-form-field-{{field.name}}-day" name="day" type="number" min="1" max="31" placeholder="DD" ng-model="field.value.day" ng-required="field.required" class="inline"/><input id="dynamic-form-field-{{field.name}}-year" name="year" type="number" min="1000" max="9999" placeholder="YYYY" ng-model="field.value.year" ng-required="field.required" class="inline"/></div><div ng-switch-when="tos" class="tos-container"><div class="left"><input id="dynamic-form-field-{{field.name}}" name="field" type="checkbox" ng-model="field.value" ng-required="field.required"/></div><div class="right"><p>{{ field.tosText }}</p><a ng-href="{{field.tosLinkUrl}}" target="_blank" class="ct-link-color">{{ field.tosLinkText }}</a></div></div></dd><dd ng-if="innerForm.field.$dirty &amp;&amp; innerForm.field.$error.required" class="error">{{ \'error.info required\' | ctText }}</dd><dd ng-if="innerForm.month.$dirty &amp;&amp; innerForm.month.$invalid" class="error">Please enter a valid month value (1-12)</dd><dd ng-if="innerForm.day.$dirty &amp;&amp; innerForm.day.$invalid" class="error">Please enter a valid day value (1-31)</dd><dd ng-if="innerForm.year.$dirty &amp;&amp; innerForm.year.$invalid" class="error">Please enter a valid year value (1000-9999)</dd></div></dl><div class="submit-container"><button ng-disabled="dynamicForm.$invalid" ng-click="submit()" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div><div class="notification-container"><div ng-show="success" class="notification notification-success"><i class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span class="msg">{{ success }}</span></div><div ng-show="modelError" class="notification notification-error"><i class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span class="msg">{{ modelError }}</span></div><div ng-show="!modelError &amp;&amp; propertyErrors.code" class="notification notification-error"><i class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span class="msg">{{ propertyErrors.code }}</span></div></div></form></div>'),
e.put("/common/directives/dynamic_form_v2/dynamic_form.html",'<div id="dynamic-form-v2"><form name="dynamicForm" novalidate="novalidate" ng-submit="submit()"><div ng-repeat="field in form.fields" ng-class="field.type" class="form"><div ng-form="ng-form" name="innerForm"><label for="dynamic-form-field-{{field.name}}">{{ field.label }}<span ng-if="!field.required" class="optional">&nbsp;</span><span ng-if="!field.required" ng-bind-html="\'word.optional\' | ctText" class="optional"></span></label><div ng-switch="field.type"><input ng-switch-when="text" id="dynamic-form-field-{{field.name}}" name="{{field.name}}" type="text" ng-model="field.value" ng-required="field.required"/><select ng-switch-when="dropDown" id="dynamic-form-field-{{field.name}}" name="{{field.name}}" ng-model="field.value" ng-options="o.value as o.label for o in field.options" ng-required="field.required"><option value="" ng-bind-html="\'word.select\' | ctText"></option></select><textarea ng-switch-when="textArea" id="dynamic-form-field-{{field.name}}" name="{{field.name}}" ng-model="field.value" ng-required="field.required"></textarea><input ng-switch-when="checkbox" id="dynamic-form-field-{{field.name}}" name="{{field.name}}" type="checkbox" ng-model="field.value" ng-required="field.required"/><div ng-switch-when="date"><input id="dynamic-form-field-{{field.name}}-month" aria-labelledby="dynamic-form-field-{{field.name}}" name="month" type="number" min="1" max="12" placeholder="MM" ng-model="field.value.month" ng-required="field.required" class="inline"/><input id="dynamic-form-field-{{field.name}}-day" aria-labelledby="dynamic-form-field-{{field.name}}" name="day" type="number" min="1" max="31" placeholder="DD" ng-model="field.value.day" ng-required="field.required" class="inline"/><input id="dynamic-form-field-{{field.name}}-year" aria-labelledby="dynamic-form-field-{{field.name}}" name="year" type="number" min="1000" max="9999" placeholder="YYYY" ng-model="field.value.year" ng-required="field.required" class="inline"/></div><div ng-switch-when="tos" class="tos-container"><div class="left"><input id="dynamic-form-field-{{field.name}}" name="{{field.name}}" type="checkbox" ng-model="field.value" ng-required="field.required"/></div><div class="right"><p>{{ field.tosText }}</p><a ng-href="{{field.tosLinkUrl}}" target="_blank" class="ct-link-color">{{ field.tosLinkText }}</a></div></div></div><span ng-if="innerForm.field.$dirty &amp;&amp; innerForm.field.$error.required" role="alert" aria-atomic="true" class="error">{{ \'error.info required\' | ctText }}</span><span ng-if="innerForm.month.$dirty &amp;&amp; innerForm.month.$invalid" role="alert" aria-atomic="true" class="error">Please enter a valid month value (1-12)</span><span ng-if="innerForm.day.$dirty &amp;&amp; innerForm.day.$invalid" role="alert" aria-atomic="true" class="error">Please enter a valid day value (1-31)</span><span ng-if="innerForm.year.$dirty &amp;&amp; innerForm.year.$invalid" role="alert" aria-atomic="true" class="error">Please enter a valid year value (1000-9999)</span></div></div><div class="submit-container"><button type="submit" ng-disabled="dynamicForm.$invalid" class="btn btn-small ct-button">{{ \'button.submit\' | ctText }}</button></div><div class="notification-container"><div ng-show="success" role="alert" aria-atomic="true" class="notification notification-success"><i aria-hidden="true" class="fa fa-check"></i><span ng-bind-html="\'word.success\' | ctText" class="status"></span><span class="msg">{{ success }}</span></div><div ng-show="modelError" role="alert" aria-atomic="true" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span class="msg">{{ modelError }}</span></div><div ng-show="!modelError &amp;&amp; propertyErrors.code" role="alert" aria-atomic="true" class="notification notification-error"><i aria-hidden="true" class="fa fa-exclamation-triangle"></i><span ng-bind-html="\'word.error\' | ctText" class="status"></span><span class="msg">{{ propertyErrors.code }}</span></div></div></form></div>'),e.put("/common/registration/v1/registration.html",'<div id="registration" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{ &quot;title.sign up&quot; | ctText }}</h3></div><div class="container"><div class="content"><h1 class="heading">{{ heading }}</h1><h3 class="description">{{ subheading }}</h3><button ng-click="signUp()" ng-bind-html="\'button.landing page sign up\' | ctText" class="btn ct-button"></button><p class="login"><span ng-bind-html="\'text.landing page already member\' | ctText"></span>&nbsp;<a ng-click="logIn()" ng-bind-html="\'button.log in\' | ctText" class="ct-link-color"></a></p></div></div></div>'),e.put("/common/registration/v2/registration.html",'<div id="registration-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{ &quot;title.sign up&quot; | ctText }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div class="content"><h2 class="heading">{{ heading }}</h2><h3 class="description">{{ subheading }}</h3><button type="button" ng-click="signUp()" ng-bind-html="\'button.landing page sign up\' | ctText" class="btn ct-button sign-up"></button><p class="login"><span ng-bind-html="\'text.landing page already member\' | ctText"></span>&nbsp;<button type="button" ng-click="logIn()" ng-bind-html="\'button.log in\' | ctText" class="ct-button ct-link-color"></button></p></div></div></div>'),e.put("/common/sign_up/v1/sign_up.html",'<div id="sign-up" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h3 class="ct-header-text-color">{{headerTextKey | ctText }}</h3></div><div class="container"><div ng-show="modelError" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" class="status"></span><span class="msg">{{modelError}}</span></div><div ng-show="state == \'signUp\'" class="sign-up"><p ng-bind-html="\'heading.landing page heading\' | ctText" class="lead"></p><button ng-if="client.enable_fb_login" ng-disabled="!facebookReady" ct-fb-auth="{scope: client.fb_permissions_user}" class="btn btn-facebook"><i ng-class="{\'fa-facebook\': (!connectingToFB), \'fa-refresh\': connectingToFB, \'fa-spin\': connectingToFB}" class="fa"></i><span>{{ \'button.connect with facebook\' | ctText }}</span></button><div ng-bind-html="\'text.facebook requirement text\' | ctText" class="fb-requirement-text"></div><button ng-if="client.enable_twit_login" ng-disabled="!twitterReady" ct-twit-auth="{url: client.twitter_auth_url}" class="btn btn-twitter"><i ng-class="{\'fa-twitter\': (!connectingToTwitter), \'fa-refresh\': connectingToTwitter, \'fa-spin\': connectingToTwitter}" class="fa"></i><span>{{ \'button.connect with twitter\' | ctText }}</span></button><button ng-if="client.enable_pinterest_login" ng-disabled="!pinterestReady" ct-pinterest-auth="{url: client.pinterest_auth_url}" class="btn btn-pinterest"><i ng-class="{\'fa-pinterest\': (!connectingToPinterest), \'fa-refresh\': connectingToPinterest, \'fa-spin\': connectingToPinterest}" class="fa"></i><span>{{ \'button.connect with pinterest\' | ctText }}</span></button><button ng-click="state = \'basicInfo\'" class="btn btn-email ct-button"><i class="fa fa-envelope"></i><span ng-bind-html="\'text.or sign up\' | ctText"></span></button><p class="log-in-link"><span ng-bind-html="\'text.landing page already member\' | ctText"></span>&nbsp;<a ng-click="state = \'logIn\'" ng-bind-html="\'button.log in\' | ctText" class="ct-link-color"></a></p></div><div ng-show="state == \'basicInfo\'" class="basic-info"><form novalidate="novalidate" name="basicInfoForm"><dl class="form"><dt><label ng-bind-html="\'label.first name\' | ctText"></label></dt><dd><input type="text" name="first_name" ng-model="signup.first_name" ng-blur="onBlur($event)" required="required"/></dd><dd ng-if="basicInfoForm.first_name.$dirty &amp;&amp; basicInfoForm.first_name.$error.required" ng-bind-html="\'error.first name required\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.first_name.$error.invalid" ng-bind-html="\'error.first name invalid\' | ctText" class="error"></dd></dl><dl class="form"><dt><label ng-bind-html="\'label.last name\' | ctText"></label></dt><dd><input type="text" name="last_name" ng-model="signup.last_name" ng-blur="onBlur($event)" required="required"/></dd><dd ng-if="basicInfoForm.last_name.$dirty &amp;&amp; basicInfoForm.last_name.$error.required" ng-bind-html="\'error.last name required\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.last_name.$error.invalid" ng-bind-html="\'error.last name invalid\' | ctText" class="error"></dd></dl><dl class="form"><dt><label ng-bind-html="\'label.email address\' | ctText"></label></dt><dd><input type="email" name="email_address" ng-model="signup.email_address" ng-blur="onBlur($event)" required="required"/></dd><dd ng-if="basicInfoForm.email_address.$dirty &amp;&amp; basicInfoForm.email_address.$error.email" ng-bind-html="\'error.email address invalid\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.email_address.$error.taken" ng-bind-html="\'error.email address taken\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.email_address.$error.invalid" ng-bind-html="\'error.email address invalid\' | ctText" class="error"></dd></dl><dl class="form"><dt><label ng-bind-html="\'label.username\' | ctText"></label></dt><dd><input type="text" name="username" ng-model="signup.username" ng-blur="onBlur($event)" required="required"/></dd><dd ng-if="basicInfoForm.username.$dirty &amp;&amp; basicInfoForm.username.$error.required" ng-bind-html="\'error.username required\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.username.$error.taken" ng-bind-html="\'error.username taken\' | ctText" class="error"></dd><dd ng-if="basicInfoForm.username.$error.invalid" ng-bind-html="\'error.username invalid\' | ctText" class="error"></dd></dl><div class="btn-group"><button type="button" ng-click="state = \'signUp\'" ng-bind-html="\'button.back\' | ctText" class="btn btn-secondary"></button><button type="submit" ng-disabled="basicInfoForm.$invalid" ng-click="continueToComplete()" class="btn ct-button"><i ng-class="{\'fa-refresh\': validatingUser, \'fa-spin\': validatingUser}" class="fa"></i><span ng-show="!validatingUser" ng-bind-html="\'button.continue\' | ctText"></span></button></div></form></div><div ng-show="state == \'completeSignUp\'" class="complete-sign-up"><form novalidate="novalidate" name="completeSignUpForm"><dl ng-show="!hidePassword" class="form"><dt><label ng-bind-html="\'label.password\' | ctText"></label></dt><dd><input type="password" name="password" ng-model="signup.password" ng-blur="onBlur($event)" ng-required="!hidePassword"/></dd><dd ng-if="completeSignUpForm.password.$dirty &amp;&amp; completeSignUpForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" class="error"></dd></dl><dl ng-show="!hidePassword" class="form"><dt><label ng-bind-html="\'label.confirm password\' | ctText"></label></dt><dd><input type="password" name="confirmPassword" ng-model="signup.confirm_password" ct-field-confirm="password" ng-blur="onBlur($event)" ng-required="!hidePassword"/></dd><dd ng-if="completeSignUpForm.confirmPassword.$dirty &amp;&amp; completeSignUpForm.confirmPassword.$error.confirm" ng-bind-html="\'error.password mismatch\' | ctText" class="error"></dd></dl><dl class="form"><dt><label ng-bind-html="\'label.country\' | ctText"></label></dt><dd ng-if="client.enable_us_only"><label ng-bind-html="\'title.united states\' | ctText"></label></dd><dd ng-if="!client.enable_us_only"><select name="country" ng-model="country" ng-options="country as country.country_name for country in location.countries" ng-blur="onBlur($event)" ng-change="setCountry(country)" class="country-select"></select></dd><dd ng-if="(completeSignUpForm.country.$dirty &amp;&amp; completeSignUpForm.country.$error.required) || completeSignUpForm.country.$error.invalid" ng-bind-html="\'error.country invalid\' | ctText" class="error"></dd></dl><country></country><dl ng-if="useCity()" class="form"><dt><label ng-bind-html="\'label.city\' | ctText"></label></dt><dd><ct-suggest ng-model="city" url="/location/city?cid={{signup.address_info.country_id}}&amp;query=" on-select-callback="setCity(city)" show-property="name" limit="3" ng-blur="onBlur($event)" required="required"></ct-suggest></dd><dd ng-if="(completeSignUpForm.city.$dirty &amp;&amp; completeSignUpForm.city.$error.required) || completeSignUpForm.city.$error.invalid" ng-bind-html="\'error.city invalid\' | ctText" class="error"></dd></dl><dl ng-if="usePostalCode()" class="form"><dt><label ng-bind-html="\'label.postal code\' | ctText"></label></dt><dd><input type="text" name="postal_code" ng-blur="onBlur($event)" ng-model="signup.address_info.postal_code" required="required"/></dd><dd ng-if="(completeSignUpForm.postal_code.$dirty &amp;&amp; completeSignUpForm.postal_code.$error.required) || completeSignUpForm.postal_code.$error.invalid" ng-bind-html="\'error.postal code invalid\' | ctText" class="error"></dd><dd ng-if="completeSignUpForm.postal_code.$error.state_restricted" ng-bind-html="\'error.postal code restricted\' | ctText" class="error"></dd></dl><dl ng-show="client.age_restriction" class="form"><dt><label ng-bind-html="\'label.date of birth\' | ctText"></label></dt><dd><div ct-date-dropdown="ct-date-dropdown" ng-model="signup.date_of_birth" name="dateOfBirth" ng-required="client.age_restriction"></div></dd><dd ng-if="completeSignUpForm.dateOfBirth.$dirty &amp;&amp; completeSignUpForm.dateOfBirth.$error.required" ng-bind-html="\'error.date of birth required\' | ctText" class="error"></dd></dl><dl ng-show="client.requiresPhoneNumberOnReg()" class="form"><dt><label ng-bind-html="\'label.mobile phone number\' | ctText"></label></dt><dd><input type="text" name="mobile_phone_number" ng-model="signup.mobile_phone_number" ct-phone-number="ct-phone-number" ng-minlength="10" ng-maxlength="21" ng-required="client.requiresPhoneNumberOnReg()"/></dd><dd ng-if="completeSignUpForm.mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.mobile_phone_number.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" class="error"></dd><dd ng-if="completeSignUpForm.mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.mobile_phone_number.$error.phoneNumber" ng-bind-html="\'error.explain mobile phone number invalid\' | ctText" class="error"></dd><dd ng-if="completeSignUpForm.mobile_phone_number.$error.minlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" class="error"></dd><dd ng-if="completeSignUpForm.mobile_phone_number.$error.maxlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" class="error"></dd><dd ng-if="completeSignUpForm.mobile_phone_number.$error.taken" ng-bind-html="\'error.mobile phone number taken\' | ctText" class="error"></dd></dl><dl ng-show="client.requiresPhoneNumberOnReg()" class="form"><dt><label ng-bind-html="\'label.confirm mobile phone number\' | ctText"></label></dt><dd><input type="text" name="confirm_mobile_phone_number" ng-model="signup.confirm_mobile_phone_number" ng-required="client.requiresPhoneNumberOnReg()" ct-field-confirm="mobile_phone_number"/></dd><dd ng-if="completeSignUpForm.confirm_mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.confirm_mobile_phone_number.$error.confirm" ng-bind-html="\'error.mobile phone number mismatch\' | ctText" class="error"></dd></dl><dl ng-show="client.useThirdPartyAgeVerification()" class="form"><dt><label ng-bind-html="\'label.address line 1\' | ctText"></label></dt><dd><input type="text" name="street_address_1" ng-model="signup.address_info.street_address_1" ng-required="client.useThirdPartyAgeVerification()"/></dd><dd ng-if="completeSignUpForm.street_address_1.$dirty &amp;&amp; completeSignUpForm.street_address_1.$error.required" ng-bind-html="\'error.street address 1 required\' | ctText" class="error"></dd></dl><dl ng-show="client.useThirdPartyAgeVerification()" class="form"><dt><label ng-bind-html="\'label.address line 2\' | ctText"></label></dt><dd><input type="text" name="street_address_2" ng-model="signup.address_info.street_address_2"/></dd></dl><dl ng-show="client.requiresGenderOnReg()" class="form"><dt><label ng-bind-html="\'label.gender\' | ctText"></label></dt><dd><select name="gender" ng-model="signup.gender" ng-options="gender for gender in [\'male\', \'female\']" ng-required="client.requiresGenderOnReg()"><option value="" ng-bind-html="\'word.select\' | ctText"></option></select></dd><dd ng-if="completeSignUpForm.gender.$dirty &amp;&amp; completeSignUpForm.gender.$error.required" ng-bind-html="\'error.gender required\' | ctText " class="error"></dd></dl><dl class="form side-by-side"><dd><input type="checkbox" name="newsletter" ng-model="signup.receive_email_updates"/></dd><dt><label class="unbold"><p ng-bind-html="\'label.receive email updates\' | ctText"></p></label></dt></dl><dl class="form side-by-side"><dd><input type="checkbox" name="tos" ng-model="signup.terms_of_service" required="required"/></dd><dt><label ng-bind-html="\'text.sign up tos\' | ctText:{tosUrl: client.external_tos_url}" class="unbold"></label></dt><dd ng-if="completeSignUpForm.tos.$dirty &amp;&amp; completeSignUpForm.tos.$error.required" ng-bind-html="\'error.tos required\' | ctText " class="error"></dd></dl><div ng-show="completeSignUpForm.dateOfBirth.$error.underage" class="notification notification-error"><span ng-bind-html="\'error.date of birth under age\' | ctText" class="msg"></span></div><div ng-show="completeSignUpForm.password.$error[\'too weak\']" class="notification notification-error"><span ng-bind-html="\'error.password does not meet requirements\' | ctText" class="msg"></span></div><div class="btn-group"><button type="button" ng-click="state = \'basicInfo\'" ng-bind-html="\'button.back\' | ctText" class="btn btn-secondary"></button><button type="submit" ng-disabled="completeSignUpForm.$invalid" ng-click="completeSignUp()" class="btn ct-button"><i ng-class="{\'fa-refresh\': signingUp, \'fa-spin\': signingUp}" class="fa"></i><span ng-show="!signingUp" ng-bind-html="\'button.complete\' | ctText"></span></button></div></form></div><div ng-show="state == \'logIn\'" class="log-in"><button ng-if="client.enable_fb_login" ng-disabled="!facebookReady" ct-fb-auth="{scope: client.fb_permissions_user}" class="btn btn-facebook"><i ng-class="{\'fa-facebook\': (!connectingToFB), \'fa-refresh\': connectingToFB, \'fa-spin\': connectingToFB}" class="fa"></i><span>{{ \'button.log in with facebook\' | ctText }}</span></button><button ng-if="client.enable_twit_login" ng-disabled="!twitterReady" ct-twit-auth="{url: client.twitter_auth_url}" class="btn btn-twitter"><i ng-class="{\'fa-twitter\': (!connectingToTwitter), \'fa-refresh\': connectingToTwitter, \'fa-spin\': connectingToTwitter}" class="fa"></i><span>{{ \'button.log in with twitter\' | ctText }}</span></button><button ng-if="client.enable_pinterest_login" ng-disabled="!pinterestReady" ct-pinterest-auth="{url: client.pinterest_auth_url}" class="btn btn-pinterest"><i ng-class="{\'fa-pinterest\': (!connectingToPinterest), \'fa-refresh\': connectingToPinterest, \'fa-spin\': connectingToPinterest}" class="fa"></i><span>{{ \'button.log in with pinterest\' | ctText }}</span></button><hr ng-if="client.enable_fb_login || client.enable_twit_login"/><form novalidate="novalidate" name="logInForm"><div ng-show="loginError" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" class="status"></span><span ng-bind-html="\'error.invalid credentials\' | ctText" class="msg"></span></div><div ng-show="loginTooManyFailedAttemptsError" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" class="status"></span><span ng-bind-html="\'error.too many failed login attempts\' | ctText" class="msg"></span></div><dl class="form"><dt><label ng-bind-html="\'label.email or username\' | ctText"></label></dt><dd><input type="text" name="username" ng-model="login.username" required="required"/></dd><dd ng-if="logInForm.username.$dirty &amp;&amp; logInForm.username.$error.required" ng-bind-html="\'error.info required\' | ctText " class="error"></dd></dl><dl class="form"><dt class="left"><label ng-bind-html="\'label.password\' | ctText"></label></dt><dt class="right"><a ng-click="state = \'forgotPassword\'">{{ \'heading.forgot password\' | ctText }}</a></dt><dd><input type="password" name="password" ng-model="login.password" required="required"/></dd><dd ng-if="logInForm.password.$dirty &amp;&amp; logInForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" class="error"></dd></dl><dl class="form side-by-side"><dd><input type="checkbox" name="rememberMe" ng-model="login.rememberMe"/></dd><dt><label ng-bind-html="\'label.remember me\' | ctText" class="unbold"></label></dt></dl><button type="submit" ng-click="logIn()" ng-disabled="!(login.username &amp;&amp; login.password)" class="btn ct-button"><i ng-class="{\'fa-refresh\': loggingIn, \'fa-spin\': loggingIn}" class="fa"></i><span ng-show="!loggingIn" ng-bind-html="\'button.log in\' | ctText"></span></button></form><p class="sign-up-link"><span ng-bind-html="\'text.dont have account\' | ctText"></span>&nbsp;<a ng-click="state = \'signUp\'" ng-bind-html="\'button.sign up\' | ctText" class="ct-link-color"></a></p></div><div ng-show="state == \'forgotPassword\'" class="forgot-password"><div ng-show="sentEmail"><p ng-bind-html="\'text.explain forgot password email sent\' | ctText" class="explanation"></p></div><div ng-hide="sentEmail"><p ng-bind-html="\'text.explain forgot password\' | ctText" class="explanation"></p><form novalidate="novalidate" name="forgotPasswordForm"><dl class="form"><dt><label ng-bind-html="\'label.email address\' | ctText"></label></dt><dd><input type="email" name="forgotPasswordEmail" ng-model="forgotPasswordEmail" required="required"/></dd><dd ng-if="forgotPasswordForm.forgotPasswordEmail.$dirty &amp;&amp; forgotPasswordForm.forgotPasswordEmail.$error.email" ng-bind-html="\'error.email address invalid\' | ctText " class="error"></dd></dl><button type="submit" ng-click="forgotPassword(forgotPasswordEmail)" ng-disabled="forgotPasswordForm.$invalid" class="btn ct-button"><i ng-class="{\'fa-refresh\': sendingEmail, \'fa-spin\': sendingEmail}" class="fa"></i><span ng-show="!sendingEmail" ng-bind-html="\'button.submit\' | ctText"></span></button></form></div><a ng-click="state = \'logIn\'" ng-bind-html="\'text.back to login\' | ctText"></a></div></div></div>'),
e.put("/common/sign_up/v2/sign_up.html",'<div id="sign-up-v2" ng-class="user.getFanLevel()" class="widget"><div role="heading" aria-level="1" class="header ct-header-color"><h1 id="heading-text" class="ct-header-text-color">{{headerTextKey | ctText }}</h1></div><div role="main" aria-labelledby="heading-text" class="container"><div ng-if="modelError" role="alert" aria-atomic="true" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" class="status"></span><span class="msg">{{modelError}}</span></div><div ng-show="state == \'signUp\'" class="sign-up"><p ng-bind-html="\'heading.landing page heading\' | ctText" class="lead"></p><a ng-if="client.enable_fb_login" ng-class="{\'disabled\': !facebookReady }" ng-attr-tabindex="{{ !facebookReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !facebookReady ? \'true\' : \'false\' }}" ct-fb-auth="{scope: client.fb_permissions_user}" href="#" class="btn ct-button btn-facebook"><i ng-class="{\'fa-facebook\': (!connectingToFB), \'fa-refresh\': connectingToFB, \'fa-spin\': connectingToFB}" aria-hidden="true" class="fa"></i><span>{{ \'button.connect with facebook\' | ctText }}</span></a><div ng-bind-html="\'text.facebook requirement text\' | ctText" class="fb-requirement-text"></div><a ng-if="client.enable_twit_login" ng-class="{\'disabled\': !twitterReady }" ng-attr-tabindex="{{ !twitterReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !twitterReady ? \'true\' : \'false\' }}" ct-twit-auth="{url: client.twitter_auth_url}" href="#" class="btn ct-button btn-twitter"><i ng-class="{\'fa-twitter\': (!connectingToTwitter), \'fa-refresh\': connectingToTwitter, \'fa-spin\': connectingToTwitter}" aria-hidden="true" class="fa"></i><span>{{ \'button.connect with twitter\' | ctText }}</span></a><a ng-if="client.enable_pinterest_login" ng-class="{\'disabled\': !pinterestReady }" ng-attr-tabindex="{{ !pinterestReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !pinterestReady ? \'true\' : \'false\' }}" ct-pinterest-auth="{url: client.pinterest_auth_url}" href="#" class="btn ct-button btn-pinterest"><i ng-class="{\'fa-pinterest\': (!connectingToPinterest), \'fa-refresh\': connectingToPinterest, \'fa-spin\': connectingToPinterest}" aria-hidden="true" class="fa"></i><span>{{ \'button.connect with pinterest\' | ctText }}</span></a><button type="button" ng-click="state=\'basicInfo\'" class="btn btn-email ct-button"><i aria-hidden="true" class="fa fa-envelope"></i><span ng-bind-html="\'text.or sign up\' | ctText"></span></button><p class="log-in-prompt"><span ng-bind-html="\'text.landing page already member\' | ctText"></span>&nbsp;<button type="button" ng-click="state=\'logIn\'" ng-bind-html="\'button.log in\' | ctText" class="ct-button ct-link-color log-in-button"></button></p></div><div ng-show="state == \'basicInfo\'" class="basic-info"><form novalidate="novalidate" name="basicInfoForm" ng-submit="continueToComplete()"><div class="input-wrapper"><label for="basicInfoFirstName" ng-bind-html="\'label.first name\' | ctText"></label><input id="basicInfoFirstName" type="text" name="first_name" ng-model="signup.first_name" ng-blur="onBlur($event)" required="required"/><div ng-if="basicInfoForm.first_name.$dirty &amp;&amp; basicInfoForm.first_name.$error.required" ng-bind-html="\'error.first name required\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.first_name.$error.invalid" ng-bind-html="\'error.first name invalid\' | ctText" role="alert" class="error"></div></div><div class="input-wrapper"><label for="basicInfoLastName" ng-bind-html="\'label.last name\' | ctText"></label><input id="basicInfoLastName" type="text" name="last_name" ng-model="signup.last_name" ng-blur="onBlur($event)" required="required"/><div ng-if="basicInfoForm.last_name.$dirty &amp;&amp; basicInfoForm.last_name.$error.required" ng-bind-html="\'error.last name required\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.last_name.$error.invalid" ng-bind-html="\'error.last name invalid\' | ctText" role="alert" class="error"></div></div><div class="input-wrapper"><label for="basicInfoEmail" ng-bind-html="\'label.email address\' | ctText"></label><input id="basicInfoEmail" type="email" name="email_address" ng-model="signup.email_address" ng-blur="onBlur($event)" required="required"/><div ng-if="basicInfoForm.email_address.$dirty &amp;&amp; basicInfoForm.email_address.$error.required" ng-bind-html="\'error.email address required\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.email_address.$dirty &amp;&amp; basicInfoForm.email_address.$error.email" ng-bind-html="\'error.email address invalid\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.email_address.$error.taken" ng-bind-html="\'error.email address taken\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.email_address.$error.invalid" ng-bind-html="\'error.email address invalid\' | ctText" role="alert" class="error"></div></div><div class="input-wrapper"><label for="basicInfoUsername" ng-bind-html="\'label.username\' | ctText"></label><input id="basicInfoUsername" type="text" name="username" ng-model="signup.username" ng-blur="onBlur($event)" required="required"/><div ng-if="basicInfoForm.username.$dirty &amp;&amp; basicInfoForm.username.$error.required" ng-bind-html="\'error.username required\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.username.$error.taken" ng-bind-html="\'error.username taken\' | ctText" role="alert" class="error"></div><div ng-if="basicInfoForm.username.$error.invalid" ng-bind-html="\'error.username invalid\' | ctText" role="alert" class="error"></div></div><div role="navigation" class="btn-group"><button type="button" ng-click="state=\'signUp\'" ng-bind-html="\'button.back\' | ctText" class="btn btn-secondary"></button><button type="submit" ng-disabled="basicInfoForm.$invalid" class="btn ct-button"><i ng-show="validatingUser" aria-label="Logging in" role="status" class="fa fa-refresh fa-spin"></i><span ng-show="!validatingUser" ng-bind-html="\'button.continue\' | ctText"></span></button></div></form></div><div ng-show="state == \'completeSignUp\'" class="complete-sign-up"><form novalidate="novalidate" name="completeSignUpForm" ng-submit="completeSignUp()"><div ng-if="!hidePassword" class="input-wrapper"><label for="completeSignUpPassword" ng-bind-html="\'label.password\' | ctText"></label><input id="completeSignUpPassword" type="password" name="password" ng-model="signup.password" ng-blur="onBlur($event)" ng-required="!hidePassword"/><div ng-if="completeSignUpForm.password.$dirty &amp;&amp; completeSignUpForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" role="alert" class="error"></div></div><div ng-if="!hidePassword" class="input-wrapper"><label for="completeSignUpPassworConfirm" ng-bind-html="\'label.confirm password\' | ctText"></label><input id="completeSignUpPassworConfirm" type="password" name="confirmPassword" ng-model="signup.confirm_password" ct-field-confirm="password" ng-blur="onBlur($event)" ng-required="!hidePassword"/><div ng-if="completeSignUpForm.confirmPassword.$dirty &amp;&amp; completeSignUpForm.confirmPassword.$error.confirm" ng-bind-html="\'error.password mismatch\' | ctText" role="alert" class="error"></div></div><div class="input-wrapper"><label for="completeSignUpCountry" ng-bind-html="\'label.country\' | ctText"></label><div ng-if="client.enable_us_only" ng-bind-html="\'title.united states\' | ctText"></div><select id="completeSignUpCountry" name="country" ng-model="country" ng-options="country as country.country_name for country in location.countries" ng-blur="onBlur($event)" ng-change="setCountry(country)" ng-if="!client.enable_us_only" class="country-select"></select><div ng-if="(completeSignUpForm.country.$dirty &amp;&amp; completeSignUpForm.country.$error.required) || completeSignUpForm.country.$error.invalid" ng-bind-html="\'error.country invalid\' | ctText" role="alert" class="error"></div></div><div ng-if="useCity()" class="input-wrapper"><label for="completeSignUpCity" ng-bind-html="\'label.city\' | ctText"></label><ct-suggest id="completeSignUpCity" ng-model="city" url="/location/city?cid={{signup.address_info.country_id}}&amp;query=" on-select-callback="setCity(city)" show-property="name" limit="3" ng-blur="onBlur($event)" required="required"></ct-suggest><div ng-if="(completeSignUpForm.city.$dirty &amp;&amp; completeSignUpForm.city.$error.required) || completeSignUpForm.city.$error.invalid" ng-bind-html="\'error.city invalid\' | ctText" role="alert" class="error"></div></div><div ng-if="usePostalCode()" class="input-wrapper"><label for="completeSignUpPostalCode" ng-bind-html="\'label.postal code\' | ctText"></label><input id="completeSignUpPostalCode" type="text" name="postal_code" ng-blur="onBlur($event)" ng-model="signup.address_info.postal_code" required="required"/><div ng-if="(completeSignUpForm.postal_code.$dirty &amp;&amp; completeSignUpForm.postal_code.$error.required) || completeSignUpForm.postal_code.$error.invalid" ng-bind-html="\'error.postal code invalid\' | ctText" role="alert" class="error"></div><div ng-if="completeSignUpForm.postal_code.$error.state_restricted" ng-bind-html="\'error.postal code restricted\' | ctText" role="alert" class="error"></div></div>\x3c!-- Load date dropdown when the state is "completeSignUp" to prevent text keys from being referenced in--\x3e\x3c!-- the UI prior to them being loaded from the backend, which causes the month names to be blank--\x3e<div ng-if="state == \'completeSignUp\' &amp;&amp; client.age_restriction" class="input-wrapper"><label for="completeSignUpDateOfBirth" ng-bind-html="\'label.date of birth\' | ctText"></label><div id="completeSignUpDateOfBirth" ct-date-dropdown-v2="ct-date-dropdown-v2" ng-model="signup.date_of_birth" name="dateOfBirth" ng-required="client.age_restriction"></div><div ng-if="completeSignUpForm.dateOfBirth.$dirty &amp;&amp; completeSignUpForm.dateOfBirth.$error.required" ng-bind-html="\'error.date of birth required\' | ctText" role="alert" class="error"></div></div><div ng-if="client.requiresPhoneNumberOnReg()" class="input-wrapper"><label for="completeSignUpMobilePhoneNumber" ng-bind-html="\'label.mobile phone number\' | ctText"></label><input id="completeSignUpMobilePhoneNumber" type="text" name="mobile_phone_number" ng-model="signup.mobile_phone_number" ct-phone-number="ct-phone-number" ng-minlength="10" ng-maxlength="21" ng-required="client.requiresPhoneNumberOnReg()"/><div ng-if="completeSignUpForm.mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.mobile_phone_number.$error.required" ng-bind-html="\'error.mobile phone number required\' | ctText" role="alert" class="error"></div><div ng-if="completeSignUpForm.mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.mobile_phone_number.$error.phoneNumber" ng-bind-html="\'error.explain mobile phone number invalid\' | ctText" role="alert" class="error"></div><div ng-if="completeSignUpForm.mobile_phone_number.$error.minlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" role="alert" class="error"></div><div ng-if="completeSignUpForm.mobile_phone_number.$error.maxlength" ng-bind-html="\'error.mobile phone number length\' | ctText:{min:10,max:20}" role="alert" class="error"></div><div ng-if="completeSignUpForm.mobile_phone_number.$error.taken" ng-bind-html="\'error.mobile phone number taken\' | ctText" role="alert" class="error"></div></div><div ng-if="client.requiresPhoneNumberOnReg()" class="input-wrapper"><label for="completeSignUpMobilePhoneNumberConfirm" ng-bind-html="\'label.confirm mobile phone number\' | ctText"></label><input id="completeSignUpMobilePhoneNumberConfirm" type="text" name="confirm_mobile_phone_number" ng-model="signup.confirm_mobile_phone_number" ng-required="client.requiresPhoneNumberOnReg()" ct-field-confirm="mobile_phone_number"/><div ng-if="completeSignUpForm.confirm_mobile_phone_number.$dirty &amp;&amp; completeSignUpForm.confirm_mobile_phone_number.$error.confirm" ng-bind-html="\'error.mobile phone number mismatch\' | ctText" role="alert" class="error"></div></div><div ng-if="client.useThirdPartyAgeVerification()" class="input-wrapper"><label for="completeSignUpAddress1" ng-bind-html="\'label.address line 1\' | ctText"></label><input id="completeSignUpAddress1" type="text" name="street_address_1" ng-model="signup.address_info.street_address_1" ng-required="client.useThirdPartyAgeVerification()"/><div ng-if="completeSignUpForm.street_address_1.$dirty &amp;&amp; completeSignUpForm.street_address_1.$error.required" ng-bind-html="\'error.street address 1 required\' | ctText" role="alert" class="error"></div></div><div ng-if="client.useThirdPartyAgeVerification()" class="input-wrapper"><label for="completeSignUpAddress2" ng-bind-html="\'label.address line 2\' | ctText"></label><input id="completeSignUpAddress2" type="text" name="street_address_2" ng-model="signup.address_info.street_address_2"/></div><div ng-if="client.requiresGenderOnReg()" class="input-wrapper"><label for="completeSignUpGender" ng-bind-html="\'label.gender\' | ctText"></label><select id="completeSignUpGender" name="gender" ng-model="signup.gender" ng-options="gender for gender in [\'male\', \'female\']" ng-required="client.requiresGenderOnReg()"><option value="" ng-bind-html="\'word.select\' | ctText"></option></select><div ng-if="completeSignUpForm.gender.$dirty &amp;&amp; completeSignUpForm.gender.$error.required" ng-bind-html="\'error.gender required\' | ctText " role="alert" class="error"></div></div><div class="input-wrapper side-by-side"><input id="completeSignUpNewsletter" type="checkbox" name="newsletter" ng-model="signup.receive_email_updates"/><label for="completeSignUpNewsletter" class="inline unbold">&nbsp;{{ \'label.receive email updates\' | ctText }}</label></div><div class="input-wrapper side-by-side">\x3c!-- Had to be formatted differently since the ToS text key contains HTML elements and cannot be moved around--\x3e<input id="completeSignUpTos" type="checkbox" name="tos" ng-model="signup.terms_of_service" required="required"/>&nbsp;<label for="completeSignUpTos" ng-bind-html="\'text.sign up tos\' | ctText:{tosUrl: client.external_tos_url}" class="inline unbold"></label><div ng-if="completeSignUpForm.tos.$dirty &amp;&amp; completeSignUpForm.tos.$error.required" ng-bind-html="\'error.tos required\' | ctText" role="alert" class="error"></div></div><div ng-if="completeSignUpForm.dateOfBirth.$error.underage" role="alert" class="notification notification-error"><span ng-bind-html="\'error.date of birth under age\' | ctText" class="msg"></span></div><div ng-if="completeSignUpForm.password.$error[\'too weak\']" role="alert" class="notification notification-error"><span ng-bind-html="\'error.password does not meet requirements\' | ctText" class="msg"></span></div><div class="btn-group"><button type="button" ng-click="state=\'basicInfo\'" ng-bind-html="\'button.back\' | ctText" class="btn btn-secondary"></button><button type="submit" ng-disabled="completeSignUpForm.$invalid" class="btn ct-button"><i ng-show="signingUp" aria-label="Signing up" role="status" class="fa fa-refresh fa-spin"></i><span ng-show="!signingUp" ng-bind-html="\'button.complete\' | ctText"></span></button></div></form></div><div ng-show="state == \'logIn\'" class="log-in"><a ng-if="client.enable_fb_login" ng-class="{\'disabled\': !facebookReady }" ng-attr-tabindex="{{ !facebookReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !facebookReady ? \'true\' : \'false\' }}" ct-fb-auth="{scope: client.fb_permissions_user}" href="#" class="btn ct-button btn-facebook"><i ng-class="{\'fa-facebook\': (!connectingToFB), \'fa-refresh\': connectingToFB, \'fa-spin\': connectingToFB}" aria-hidden="true" class="fa"></i><span>{{ \'button.log in with facebook\' | ctText }}</span></a><a ng-if="client.enable_twit_login" ng-class="{\'disabled\': !twitterReady }" ng-attr-tabindex="{{ !twitterReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !twitterReady ? \'true\' : \'false\' }}" ct-twit-auth="{url: client.twitter_auth_url}" href="#" class="btn ct-button btn-twitter"><i ng-class="{\'fa-twitter\': (!connectingToTwitter), \'fa-refresh\': connectingToTwitter, \'fa-spin\': connectingToTwitter}" aria-hidden="true" class="fa"></i><span>{{ \'button.log in with twitter\' | ctText }}</span></a><a ng-if="client.enable_pinterest_login" ng-class="{\'disabled\': !pinterestReady }" ng-attr-tabindex="{{ !pinterestReady ? -1 : 0 }}" ng-attr-aria-hidden="{{ !pinterestReady ? \'true\' : \'false\' }}" ct-pinterest-auth="{url: client.pinterest_auth_url}" href="#" class="btn ct-button btn-pinterest"><i ng-class="{\'fa-pinterest\': (!connectingToPinterest), \'fa-refresh\': connectingToPinterest, \'fa-spin\': connectingToPinterest}" aria-hidden="true" class="fa"></i><span>{{ \'button.log in with pinterest\' | ctText }}</span></a><hr ng-if="client.enable_fb_login || client.enable_twit_login"/><form novalidate="novalidate" name="logInForm" ng-submit="logIn()"><div ng-if="loginError" role="alert" aria-atomic="true" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" role="alert" class="status"></span><span ng-bind-html="\'error.invalid credentials\' | ctText" class="msg"></span></div><div ng-if="loginTooManyFailedAttemptsError" role="alert" aria-atomic="true" class="notification notification-error"><span ng-bind-html="(\'word.error\' | ctText) + \':\'" role="alert" class="status"></span><span ng-bind-html="\'error.too many failed login attempts\' | ctText" class="msg"></span></div><div class="input-wrapper"><label for="logInUsername" ng-bind-html="\'label.email or username\' | ctText"></label><input id="logInUsername" type="text" name="username" ng-model="login.username" required="required"/><div ng-if="logInForm.username.$dirty &amp;&amp; logInForm.username.$error.required" ng-bind-html="\'error.info required\' | ctText " role="alert" class="error"></div></div><div class="input-wrapper"><label for="logInPassword" ng-bind-html="\'label.password\' | ctText" class="left"></label><a ng-click="state=\'forgotPassword\'" title="{{ \'heading.forgot password\' | ctText }}" href="#" class="forgot-password right">{{ \'heading.forgot password\' | ctText }}</a><input id="logInPassword" type="password" name="password" ng-model="login.password" required="required"/><div ng-if="logInForm.password.$dirty &amp;&amp; logInForm.password.$error.required" ng-bind-html="\'error.password required\' | ctText" role="alert" class="error"></div></div><div class="input-wrapper side-by-side"><input id="rememberMe" type="checkbox" name="rememberMe" ng-model="login.rememberMe"/><label for="rememberMe" class="inline unbold">&nbsp;{{ \'label.remember me\' | ctText }}</label></div><button type="submit" ng-disabled="!(login.username &amp;&amp; login.password)" class="btn ct-button login-button"><i ng-show="loggingIn" aria-label="Logging in" role="status" class="fa fa-refresh fa-spin"></i><span ng-show="!loggingIn" ng-bind-html="\'button.log in\' | ctText"></span></button></form><p class="sign-up-prompt"><span ng-bind-html="\'text.dont have account\' | ctText"></span>&nbsp;<button type="button" ng-click="state=\'signUp\'" ng-bind-html="\'button.sign up\' | ctText" class="ct-button ct-link-color sign-up-button"></button></p></div><div ng-show="state == \'forgotPassword\'" class="forgot-password"><div ng-show="sentEmail"><p ng-bind-html="\'text.explain forgot password email sent\' | ctText" class="explanation"></p></div><div ng-hide="sentEmail"><p ng-bind-html="\'text.explain forgot password\' | ctText" class="explanation"></p><form novalidate="novalidate" name="forgotPasswordForm" ng-submit="forgotPassword(forgotPasswordEmail)"><div class="input-wrapper"><label for="forgotPasswordEmail" ng-bind-html="\'label.email address\' | ctText"></label><input id="forgotPasswordEmail" type="email" name="forgotPasswordEmail" ng-model="forgotPasswordEmail" required="required"/><div ng-if="forgotPasswordForm.forgotPasswordEmail.$dirty &amp;&amp; forgotPasswordForm.forgotPasswordEmail.$error.email" ng-bind-html="\'error.email address invalid\' | ctText " role="alert" class="error"></div></div><button type="submit" ng-disabled="forgotPasswordForm.$invalid" class="btn ct-button"><i ng-show="sendingEmail" aria-label="Sending email" role="status" class="fa fa-refresh fa-spin"></i><span ng-show="!sendingEmail" ng-bind-html="\'button.submit\' | ctText"></span></button></form></div><button type="button" ng-click="state=\'logIn\'" ng-bind-html="\'text.back to login\' | ctText" class="ct-button ct-link-color back-to-login-button"></button></div></div></div>'),e.put("/household/v2/directives/household_about/household_about.html",'<section class="about-household"><div class="info-rows"><div class="info-row"><p class="info-label">{{ \'text.group name\' | ctText }}</p><p class="info-data">{{ household.name }}</p></div><div class="info-row"><p class="info-label">{{ \'label.date created\' | ctText }}</p><p class="info-data">{{ household.dateCreated | date:"MMMM d\',\' yyyy" }}</p></div><div class="info-row"><p class="info-label">{{ \'title.redeemable points\' | ctText }}</p><p class="info-data">{{ household.numPoints | ctPoints }}</p></div></div><div class="leave-group-container"><button ng-click="leaveHousehold()" ng-disabled="household.currentMemberIsHead &amp;&amp; household.members.length &gt; 1" class="btn leave-btn ct-button">{{ \'button.leave group prompt\' | ctText }}</button><p ng-if="household.currentMemberIsHead &amp;&amp; household.members.length &gt; 1" class="hh-head-leave-notice">{{ \'text.household head leave notice\' | ctText }}</p></div></section>'),e.put("/household/v2/directives/household_history/household_history.html",'<section class="household-history"><table summary="{{ getTableSummary() }}" class="household-history-table"><thead><tr><th scope="col" class="heading-date">{{ \'label.date\' | ctText }}</th><th scope="col" class="heading-member">{{ \'word.member\' | ctText }}</th><th scope="col" class="heading-detail">{{ getDetailHeaderTextKey() | ctText }}</th><th scope="col" class="heading-points">{{ \'word.points\' | ctText }}</th></tr></thead><tbody><tr ng-repeat="history in historyCollection.histories" class="history-item"><td class="date">{{ history.dateAwarded | date : \'MM/dd/yyyy\' }}</td><td class="member">{{ getMemberName(history) }}</td><td class="detail"><p ng-if="historyType === \'activity\'" class="name">{{ history.name }}</p><button ng-if="historyType === \'reward\'" ng-click="toggleExpanded($index)" aria-expanded="{{ historyCollection.expandedDetails[$index] ? \'true\' : \'false\' }}" class="name expand-button ct-link-color">{{ history.name }}<svg ng-class="{\'ct-expanded\': historyCollection.expandedDetails[$index]}" viewBox="0 0 9 6" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon"><path fill="currentColor" d="M4.5 3.503L8.006.436l.988 1.128L4.5 5.497.006 1.564.994.436z"/></svg></button><p class="member">{{ getMemberName(history) }}</p><p class="member-points points ct-points-color">{{ history.numPoints | ctPoints:{prefix: getPointsPrefix(history.numPoints)} }}</p><div ng-if="historyType === \'reward\'" ng-class="{\'ct-expanded\': historyCollection.expandedDetails[$index]}" class="breakdowns-wrapper"><ul class="unstyled breakdowns"><li ng-repeat="breakdown in history.breakdown" class="breakdown"><p class="breakdown-item">{{ getMemberName(breakdown) }}</p><p class="breakdown-item points ct-points-color">{{ breakdown.numPoints | ctPoints:{prefix: getPointsPrefix(breakdown.numPoints)} }}</p></li></ul></div></td><td class="member-points points ct-points-color">{{ history.numPoints | ctPoints:{prefix: getPointsPrefix(history.numPoints)} }}</td></tr></tbody></table><button ng-if="historyCollection.nextPage &amp;&amp; !historyCollection.loading" ng-click="historyCollection.getNextPage()" class="btn btn-secondary">{{ \'button.show more\' | ctText }}</button><svg ng-if="historyCollection.loading" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="spinner spinner--medium"><circle cx="10" cy="10" r="9" class="path"></circle></svg></section>'),e.put("/household/v2/directives/household_invitation/household_invitation.html",'<div class="household-invitation"><section class="invite-info"><h3 class="invited-household-name">{{ invite.householdName }}</h3><p class="inviter-name">{{ invite.inviter }}</p><p class="date-invited-duration">{{ invite.dateInvited | ctElapsedTime }}</p></section><section aria-busy="{{ currentState.responding }}" class="invite-actions"><button ng-click="acceptInvite()" ng-if="!currentState.responding" ng-disabled="currentState.disabled" class="btn ct-button">{{ \'word.join\' | ctText }}</button><button ng-click="declineInvite()" ng-if="!currentState.responding" ng-disabled="currentState.disabled" class="btn btn-secondary">{{ \'word.decline\' | ctText }}</button><svg ng-if="currentState.responding" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="spinner spinner--medium"><circle cx="10" cy="10" r="9" class="path"></circle></svg></section></div>'),e.put("/household/v2/directives/household_invitation_list/household_invitation_list.html",'<section class="household-invitations"><p class="invite-explanation">{{ getExplanationTextKey(invitations.length) | ctText }}</p><div class="invite-list"><ct-household-invitation ng-repeat="invite in invitations | limitTo : displayLimit" invite="invite" currently-processing="processing"></ct-household-invitation><button ng-if="displayLimit &amp;&amp; remainingInvites &gt; 0" ng-click="displayAll()" class="btn btn-secondary">{{ \'button.show x more\' | ctText:{count: remainingInvites} }}</button></div><p ng-if="error" class="error">{{ error }}</p></section>'),e.put("/household/v2/directives/household_invite_form/household_invite_form.html",'<form novalidate="novalidate" name="groupInviteForm" class="group-invite-form"><p ng-if="creating" class="description">{{ \'text.household invite form new household description\' | ctText:{numRemaining: numAvailableSlots} }}</p><p ng-if="!creating &amp;&amp; (numAvailableSlots &gt; 1)" class="description">{{ \'text.household invite form existing household multiple invites available\' | ctText:{numRemaining: numAvailableSlots} }}</p><p ng-if="!creating &amp;&amp; (numAvailableSlots === 1)" class="description">{{ \'text.household invite form existing household one invite available\' | ctText }}</p><div class="group-member-list-wrapper"><ol class="group-member-list"><li class="group-member"><div class="member-label-wrapper"><p class="member-name">{{ \'word.you\' | ctText }}</p><span class="member-head ct-button">{{ \'word.head\' | ctText }}</span></div></li><li ng-repeat="member in householdMembers" ng-if="!member.isHead" class="group-member"><div class="member-label-wrapper"><p class="member-name">{{ member.firstName }} {{ member.lastName }}</p></div></li><li ng-repeat="invite in household.pendingInvites" class="group-member"><div class="member-label-wrapper"><p class="member-name">{{ invite.emailAddress }} ({{ \'word.invited\' | ctText }})</p></div></li><li ng-repeat="invite in newInvites" ng-form="inviteInputFieldForm" class="group-member"><div class="member-label-wrapper"><input type="email" name="emailAddress" aria-label="{{ \'label.member email\' | ctText }} {{ getInputNumber($index) }}" placeholder="{{ \'label.member email\' | ctText }}" ng-keypress="onKeyPress($index, $event)" ng-model="newInvites[$index].emailAddress" ng-model-options="{updateOn: \'blur\', allowInvalid: true}" ct-autofocus="{{ $index === 0 }}" ng-required="true" class="email-address"/></div><div class="member-action"><button ng-if="newInvites.length &gt; 1" type="button" ng-click="removeNewInvite($index)" aria-label="{{ \'word.remove\' | ctText }} {{ newInvites[$index].emailAddress ? newInvites[$index].emailAddress : getInputNumber($index) }}" class="remove ct-link-color"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon-medium"><path fill="none" stroke="currentColor" stroke-width="2" d="M2 2l12 12M2 14L14 2"/></svg></button></div><div ng-if="inviteInputFieldForm.emailAddress.$dirty &amp;&amp; inviteInputFieldForm.emailAddress.$error.email" ng-bind-html="\'error.email address invalid\' | ctText" role="alert" class="error"></div></li></ol><button ng-if="!hasMaxSize()" ng-click="addNewInvite()" aria-label="{{ \'button.add another\' | ctText }}" class="btn btn-secondary">{{ \'button.add another\' | ctText }}</button></div><div ng-if="notification === \'error\'" role="alert" aria-atomic="true" class="notification error">{{ errorMessage }}</div><p ng-if="creating" class="description-footer">{{ \'text.household invite form new household head description\' | ctText }}</p><div class="buttons"><button ng-click="cancel()" class="btn btn-secondary">{{ \'word.cancel\' | ctText }}</button><button ng-click="submit()" ng-disabled="submitting || groupInviteForm.$error.email" class="btn ct-button">{{ \'label.send invites\' | ctText }}</button></div></form>'),e.put("/household/v2/directives/household_management/household_management.html",'<section class="current-members narrow-only"><ct-household-member-list household="household" is-management="true"></ct-household-member-list></section><section class="invites"><h4 class="mgmt-list-heading quiet">{{ \'text.invited members\' | ctText }}</h4><p ng-if="!(household.pendingInvites ? household.pendingInvites.length : 0)" class="no-active-invites">{{ \'text.household no active invites notice\' | ctText }}</p><ul ng-if="household.pendingInvites ? household.pendingInvites.length : 0" class="unstyled"><li ng-repeat="pendingInvite in household.pendingInvites" class="invite"><div class="invite-info"><p class="invite-email-address">{{ pendingInvite.emailAddress }}</p><p class="invite-date">{{ (pendingInvite.dateInvited | ctElapsedTime) || (\'text.just now\' | ctText) }}</p></div><div class="invite-action"><button ng-click="rescindInvite(pendingInvite.id)" type="button" aria-label="{{ \'label.remove invite\' | ctText }}" class="remove ct-link-color"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon-medium"><path fill="none" stroke="currentColor" stroke-width="2" d="M2 2l12 12M2 14L14 2"/></svg></button></div></li></ul><div ng-if="rescindError" role="alert" aria-atomic="true" class="notification error">{{ rescindError }}</div><button ng-click="displayInviteForm()" ng-disabled="household.members.length + (household.pendingInvites || []).length &gt;= 8" class="btn invite-btn ct-button">{{ \'text.invite members\' | ctText }}</button><p ng-if="household.members.length + (household.pendingInvites || []).length &gt;= 8" class="limit-info">{{ \'text.household limit info\' | ctText }}</p><button ng-click="toggleShowDeclined()" aria-controls="declined-invite-history" aria-expanded="{{ showDeclined }}" class="show-declined-btn expand-button ct-link-color">{{ \'word.declined\' | ctText }}<svg viewBox="0 0 9 6" xmlns="http://www.w3.org/2000/svg" ng-class="{\'ct-expanded\': showDeclined}" class="svg-sprite--icon"><path fill="currentColor" d="M4.5 3.503L8.006.436l.988 1.128L4.5 5.497.006 1.564.994.436z"/></svg></button><div ng-show="showDeclined" id="declined-invite-history" role="region" class="declined-invites"><ul class="unstyled"><li ng-repeat="declinedInvite in declinedInvites" class="declined-invite"><p class="declined-invite--email-address">{{ declinedInvite.emailAddress }}</p><p class="declined-invite--date">{{ declinedInvite.dateInvited | ctElapsedTime }}</p></li></ul></div></section>'),
e.put("/household/v2/directives/household_member_list/household_member_list.html",'<h4 ng-if="isManagement" class="mgmt-list-heading quiet">{{ \'text.current members\' | ctText }}</h4><ul aria-label="{{ isManagement ? \'\' : (\'text.current members\' | ctText) }}" class="unstyled"><li ng-repeat="member in household.members | orderBy:[\'-points\', \'firstName\', \'lastName\']" class="member"><div ng-class="{ \'disabled-user\': !member.isActive }" class="member-name-container"><p ng-if="!member.isSelf" class="member-name">{{ member.firstName }} {{ member.lastName }}</p><p ng-if="member.isSelf" class="member-name">{{ \'word.you\' | ctText }}</p><span ng-if="member.isHead" class="member-head ct-button">{{ \'word.head\' | ctText }}</span><ct-info-toggletip direction="right" ng-if="member.points &lt; 0 || !member.isActive" text-key="{{ getNotificationTooltipText(member) }}" class="member-notice"></ct-info-toggletip></div><div ng-class="{ \'household-head\': isManagement &amp;&amp; member.isHead }" class="member-points-container"><button aria-label="{{ \'word.remove\' | ctText }} {{ member.firstName }} {{ member.lastName }}" ng-if="isManagement &amp;&amp; !member.isHead" ng-click="removeMember(member)" class="remove ct-link-color"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon-medium"><path fill="none" stroke="currentColor" stroke-width="2" d="M2 2l12 12M2 14L14 2"/></svg></button><p ng-class="{ \'negative-points\': member.points &lt; 0 &amp;&amp; member.isActive, \'disabled-user\': !member.isActive }" class="member-points ct-points-color">{{ member.points | number }}</p></div></li></ul><div ng-if="household.members.length === 1" class="only-member"><p>{{ \'text.household only member notice\' | ctText }}</p></div>'),e.put("/household/v2/directives/household_nav/household_nav.html",'<nav class="widget-tabs"><ul class="unstyled"><li ng-class="{ selected: currentPage === \'POINTS\'}" class="widget-tab"><a href="#" ng-click="navigate(\'POINTS\')">{{ \'word.points\' | ctText }}</a></li><li ng-class="{ selected: currentPage === \'ACTIVITIES\'}" class="widget-tab"><a href="#" ng-click="navigate(\'ACTIVITIES\')">{{ \'word.activities\' | ctText }}</a></li><li ng-class="{ selected: currentPage === \'REWARDS\'}" class="widget-tab"><a href="#" ng-click="navigate(\'REWARDS\')">{{ \'word.rewards\' | ctText }}</a></li><li ng-if="household.currentMemberIsHead" ng-class="{ selected: currentPage === \'MGMT\'}" class="widget-tab"><a href="#" ng-click="navigate(\'MGMT\')">{{ \'word.manage\' | ctText }}</a></li><li ng-class="{ selected: currentPage === \'ABOUT\'}" class="widget-tab"><a href="#" ng-click="navigate(\'ABOUT\')">{{ \'word.about\' | ctText }}</a></li></ul></nav>'),e.put("/household/v2/directives/household_point_total/household_point_total.html",'<div aria-busy="{{ currentState.updating }}" class="group-info"><div ng-if="!currentState.editing" class="display-mode"><div class="group-name-container"><p class="group-name">{{ household.name }}</p><button ng-if="household.currentMemberIsHead" ng-click="startEditing()" aria-label="{{ \'button.edit group name\' | ctText }}" class="btn-small ct-link-color"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svg-sprite--icon"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-width="1.25" d="M6.5 12.5l-5 2 2-5 8-8 3 3-8 8z"/><path d="M10 3l3 3M4 9l3 3"/><path fill="currentColor" fill-rule="nonzero" d="M2.5 12l-1 2.5 2.5-1z"/></g></svg></button></div><p class="group-points"><span class="points">{{ household.numPoints | number }}</span> {{ getPointsTextKey(household.numPoints) | ctText }}</p></div><div ng-if="currentState.editing" class="edit-mode"><form name="household-name-form" autocomplete="off"><label>{{ \'text.group name\' | ctText }}<input type="text" maxlength="250" name="householdName" ng-model="currentState.householdName" required="required"/></label></form><div class="name-update-buttons"><button ng-click="cancelEditing()" ng-disabled="currentState.updating" class="btn btn-secondary">{{ \'word.cancel\' | ctText }}</button><button ng-click="updateHouseholdName()" ng-disabled="!currentState.isNameValid || currentState.updating" class="btn ct-button"><svg ng-if="currentState.updating" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="spinner spinner--medium"><circle stroke="#532C6C" stroke-width="2" fill="none" fill-rule="nonzero" cx="10" cy="10" r="9" class="path"></circle></svg><span ng-if="!currentState.updating">{{ \'word.save\' | ctText }}</span></button></div></div></div>')}]),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctAccountOverview",templateUrl:"/account_overview/v1/account_overview.html",scope:{fanLevels:"="},link:function(t,n,r,i){return t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.user=e,t.logout=function(){return t.loggingOut=!0,i.logoutEvent()},i.on("user:clear",function(){return t.loggingOut=!1})}}};angular.module("ct.widgets").directive("ctAccountOverview",["ctUser","$timeout",e])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctAccountOverviewV2",templateUrl:"/account_overview/v2/account_overview.html",scope:{fanLevels:"="},link:function(t,n,r,i){return t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.user=e,t.logout=function(){return t.loggingOut=!0,i.logoutEvent()},i.on("user:clear",function(){return t.loggingOut=!1})}}};angular.module("ct.widgets").directive("ctAccountOverviewV2",["ctUser","$timeout",e])}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctAccountOverviewTwo",templateUrl:"/account_overview_two/v1/account_overview_two.html",scope:{tierConf:"="},link:function(n,r,i,o){var a;return n.TIER_TYPES={LIFETIME:1,TIMEFRAME:2},n.ACTION_TYPES={POINTS:1,PURCHASES:2},n.tierScore={},(a=function(e){return n.tierScore.scale=e===n.ACTION_TYPES.PURCHASES?2:0,n.tierScore.lowestIncremental=Math.pow(10,-1*n.tierScore.scale)})(n.ACTION_TYPES.POINTS),n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.showInfoPanel=!1,n.logout=function(){return n.loggingOut=!0,o.logoutEvent()},n.getTiers=function(){return n.tierConf.levels||n.tierConf},n.getTierName=function(e){return e.name||e.title},n.getTierRange=function(e){var r=n.getTiers(),i=r[e],r=r[e+1],e=(null!=i?i.min_points:void 0)||(null!=i?i.minValue:void 0)||0,i=(null!=i?i.max_points:void 0)||(null!=i?i.maxValue:void 0)||((null!=r?r.min_points:void 0)||(null!=r?r.minValue:void 0))-n.tierScore.lowestIncremental,r=t("number")(t("truncateDecimal")(e,n.tierScore.scale),n.tierScore.scale),e=t("number")(t("truncateDecimal")(i,n.tierScore.scale),n.tierScore.scale);return r+(i?" - "+e:"+")},n.getTierType=function(){if(null!=n.tierConf)return null!=n.tierConf.tier_type?n.tierConf.tier_type:n.TIER_TYPES.LIFETIME},n.getTierExpirationDate=function(){var e,t;return new Date(null!=(e=n.user)&&null!=(t=e.tier)?t.expirationDate:void 0)},n.toggleInfo=function(){return n.showInfoPanel=!n.showInfoPanel},n.showMaintenanceScore=function(){var e=n.user.tier;return(null!=e?e.isMaintenanceMode:void 0)&&0<(null!=e?e.scoreNeededToMaintain:void 0)},n.hasNextLevel=function(){var e,t,r;return 0<(null!=(e=n.user)&&null!=(t=e.tier)&&null!=(r=t.levelsAbove)?r.length:void 0)},o.on("user:clear",function(){return n.loggingOut=!1}),n.$watch("tierConf.action_type",a)}}};angular.module("ct.widgets").directive("ctAccountOverviewTwo",["ctUser","$filter","$timeout",e])}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctAccountOverviewTwoV2",templateUrl:"/account_overview_two/v2/account_overview_two.html",scope:{tierConf:"="},link:function(n,r,i,o){var a;return n.TIER_TYPES={LIFETIME:1,TIMEFRAME:2},n.ACTION_TYPES={POINTS:1,PURCHASES:2},n.tierScore={},(a=function(e){return n.tierScore.scale=e===n.ACTION_TYPES.PURCHASES?2:0,n.tierScore.lowestIncremental=Math.pow(10,-1*n.tierScore.scale)})(n.ACTION_TYPES.POINTS),n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.showInfoPanel=!1,n.logout=function(){return n.loggingOut=!0,o.logoutEvent()},n.getTiers=function(){return n.tierConf.levels||n.tierConf},n.getTierName=function(e){return e.name||e.title},n.getTierRange=function(e){var r=n.getTiers(),i=r[e],r=r[e+1],e=(null!=i?i.min_points:void 0)||(null!=i?i.minValue:void 0)||0,i=(null!=i?i.max_points:void 0)||(null!=i?i.maxValue:void 0)||((null!=r?r.min_points:void 0)||(null!=r?r.minValue:void 0))-n.tierScore.lowestIncremental,r=t("number")(t("truncateDecimal")(e,n.tierScore.scale),n.tierScore.scale),e=t("number")(t("truncateDecimal")(i,n.tierScore.scale),n.tierScore.scale);return r+(i?" - "+e:"+")},n.getTierType=function(){if(null!=n.tierConf)return null!=n.tierConf.tier_type?n.tierConf.tier_type:n.TIER_TYPES.LIFETIME},n.getActionType=function(){if(null!=n.tierConf)return null!=n.tierConf.action_type?n.tierConf.action_type:n.ACTION_TYPES.POINTS},n.getTierExpirationDate=function(){var e,t;return new Date(null!=(e=n.user)&&null!=(t=e.tier)?t.expirationDate:void 0)},n.toggleInfo=function(){return n.showInfoPanel=!n.showInfoPanel},n.showMaintenanceScore=function(){var e=n.user.tier;return(null!=e?e.isMaintenanceMode:void 0)&&0<(null!=e?e.scoreNeededToMaintain:void 0)},n.hasNextLevel=function(){var e,t,r;return 0<(null!=(e=n.user)&&null!=(t=e.tier)&&null!=(r=t.levelsAbove)?r.length:void 0)},o.on("user:clear",function(){return n.loggingOut=!1}),n.$watch("tierConf.action_type",a)}}};angular.module("ct.widgets").directive("ctAccountOverviewTwoV2",["ctUser","$filter","$timeout",e])}.call(this),function(){var e=["first_name","last_name","username","mobile_phone_number","postal_code","email_address","date_of_birth","country_id","city_id","is_domestic","language"],t=["confirm_password","old_password","password"],n=["twitter","google","facebook"],r=function(r,i,o,a){return{restrict:"A",controller:"ctWidget",require:"ctAccountSettings",templateUrl:"/account_settings/v1/account_settings.html",link:function(s,c,u,l){var d,p,f,h,g;return s.location=i,s.languagePref=o,s.header=widgetConf.header,s.maxHeight=widgetConf.maxHeight,s.widgetId=widgetConf.id,s.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},s.client=a,s.user=r,g=s.$watch("user.username",function(e){if(e)return s.savedUser=angular.copy(s.user),s.city=s.user.city,s.email={mostRecent:null!=(e=s.user.em_updated_address)?e:s.user.email_address},s.showPasswordForm=-1===n.indexOf(s.user.sign_up_type),g()}),s.profileEditEnabled=!1,s.passwordEditEnabled=!1,s.toggleProfileEdit=function(){return s.profileEditEnabled=!s.profileEditEnabled,s.profileUpdateErrors=null,s.profileUpdatedSuccessfully=!1},s.togglePasswordEdit=function(){return s.passwordEditEnabled=!s.passwordEditEnabled,s.passwordUpdateErrors=null,s.passwordUpdatedSuccessfully=!1},s.formatBirthday=function(){var e;if(null!=(null!=(e=s.user)?e.date_of_birth:void 0))return s.user.date_of_birth.month+"/"+s.user.date_of_birth.day+"/"+s.user.date_of_birth.year},s.convertToInt=function(e){return parseInt(e,10)},s.clearCityFields=function(){return s.city=null,s.user.city=null,s.user.city_id=null,s.user.postal_code=null,s.user.is_domestic="United States"===s.location.getCountryName(s.user.country_id)},s.setCity=function(e){return s.user.city_id=e.id},s.showCity=function(){var e=null!=(e=s.location)?e.getCountryRecord(s.user.country_id):void 0;return!(null!=e&&e.has_postal_codes)},s.showPostalCode=function(){var e,t,n,r,i,o,a=null!=(i=s.location)?i.getCountryRecord(s.user.country_id):void 0;if(null!=(i=s.client)&&i.country_info)for(t=0,r=(o=s.client.country_info).length;t<r;t++)(n=o[t]).country_name===a.country_name&&(e=n);return(null!=a?a.has_postal_codes:void 0)||(null!=e?e.require_postal_code:void 0)},(d=function(){return s.emailVerification={sent:!1,removed:!1}})(),h=function(){return l.event("do:pending:email:removal"),s.emailVerification.removed=!0},s.sendEmailVerification=function(){var e=null!=(e=s.user.em_updated_address)?e:null;return l.event("do:email:verification:send",e),s.emailVerification.sent=!0},l.on("email:verification:send:success",function(){return s.emailVerification.success=!0}),l.on("email:verification:send:failure",function(){return s.emailVerification.success=!1}),s.resetUserModel=function(){return s.user=angular.copy(s.savedUser),s.profileEditEnabled=!1,s.passwordEditEnabled=!1},s.saveProfileDetails=function(){if(!s.updatingProfile)return s.updatingProfile=!0,s.profileUpdateErrors=null,s.user.email_address=s.email.mostRecent,l.event("do:profile:update",f(e))},l.on("profile:update:success",function(e){var t;return s.toggleProfileEdit(),s.updatingProfile=!1,s.profileUpdatedSuccessfully=!0,null!=(null!=(t=e.data)?t.redirect_url:void 0)&&(top.window.location=e.data.redirect_url),d(),s.user.email_address===s.savedUser.email_address&&h(),s.savedUser=angular.copy(s.user)}),l.on("profile:update:failure",function(e){var t,n;return s.updatingProfile=!1,s.profileUpdateErrors=null!=e&&null!=(t=e.data)&&null!=(n=t.exception)?n.properties:void 0}),s.savePasswordDetails=function(){if(!s.updatingPassword)return s.updatingPassword=!0,s.passwordUpdateErrors=null,l.event("do:password:update",f(t))},l.on("password:update:success",function(){return s.togglePasswordEdit(),s.updatingPassword=!1,s.passwordUpdatedSuccessfully=!0,p()}),l.on("password:update:failure",function(e){var t,n;return s.updatingPassword=!1,s.passwordUpdateErrors=null!=e&&null!=(t=e.data)&&null!=(n=t.exception)?n.properties:void 0}),f=function(e){for(var t,n={},r=0,i=e.length;r<i;r++)n[t=e[r]]=s.user[t];return n},p=function(){return t.forEach(function(e){return s.user[e]=null})}}}};angular.module("ct.widgets").directive("ctAccountSettings",["ctUser","ctLocation","ctLanguagePref","ctClient",r])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",templateUrl:"/activity/v1/activity_list.html",scope:{activities:"=",tierConf:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.activityClicked=function(e){if(!e.isLocked())return o.up("activity:clicked",e)},n.getTierNameById=function(e){return null!=(e=t("filter")(n.tierConf,{id:e})[0])?e.name:void 0}}}};angular.module("ct.widgets").directive("ctActivityList",["ctUser","$filter",e])}.call(this),function(){var e="ctVariationActivity",t=function(){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/activity/v1/variation_activity.html",scope:{activity:"="},link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(e,[t])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",templateUrl:"/activity/v2/activity_list.html",scope:{activities:"=",tierConf:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.activityClicked=function(e){if(!e.isLocked())return o.up("activity:clicked",e)},n.getTierNameById=function(e){return null!=(e=t("filter")(n.tierConf,{id:e})[0])?e.name:void 0}}}};angular.module("ct.widgets").directive("ctActivityListV2",["ctUser","$filter",e])}.call(this),function(){var e="ctVariationActivityV2",t=function(){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/activity/v2/variation_activity.html",scope:{activity:"="},link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(e,[t])}.call(this),function(){var e=function(e){return{restrict:"A",controller:"ctWidget",templateUrl:"/activity_history/v1/activity_history.html",scope:{activities:"="},link:function(t,n,r,i){var o,a=0;return t.user=e,t.showLoadMoreButton=!0,t.activities=[],t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},i.on("loaded:activities",function(e){return o(e),t.showLoadMoreButton=25<=e.length,a++}),o=function(e){for(var n,r=[],i=0,o=e.length;i<o;i++)n=e[i],r.push(t.activities.push(n));return r},t.loadMore=function(){var e=25*a+1,t=25+e-1;return i.up("loadMore:clicked",{startIndex:e,endIndex:t})}}}};angular.module("ct.widgets").directive("ctActivityHistory",["ctUser",e])}.call(this),function(){var e=function(e){return{restrict:"A",controller:"ctWidget",templateUrl:"/activity_history/v2/activity_history.html",scope:{activities:"="},link:function(t,n,r,i){var o,a=0;return t.user=e,t.showLoadMoreButton=!0,t.activities=[],t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},i.on("loaded:activities",function(e){return o(e),t.showLoadMoreButton=25<=e.length,a++}),o=function(e){for(var n,r=[],i=0,o=e.length;i<o;i++)n=e[i],r.push(t.activities.push(n));return r},t.loadMore=function(){var e=25*a+1,t=25+e-1;return i.up("loadMore:clicked",{startIndex:e,endIndex:t})}}}};angular.module("ct.widgets").directive("ctActivityHistoryV2",["ctUser",e])}.call(this),function(){var e="ctAdditionalInfo",t=function(t){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/additional_info/v1/additional_info.html",scope:{additional_info:"=",activities:"="},link:function(e,n,r,i){return e.currentYear=function(){return(new Date).getFullYear()},e.user=t,e.gender={},e.date_of_birth={},e.phone={},e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.$watch("user.gender",function(t){if(null!=t)return e.gender.gender=t}),e.$watch("user.date_of_birth",function(t){if(null!=t)return e.date_of_birth=t}),e.$watch("user.mobile_phone_number",function(t){if(null!=t)return e.phone.mobile_phone_number=t}),e.submitGender=function(t){return e.genderSuccess=!1,i.up("do:user:update:gender",t)},e.submitPhone=function(t){return e.phoneSuccess=!1,i.up("do:user:update:mobile_phone_number",t)},e.submitDob=function(t){return e.dobSuccess=!1,i.up("do:user:update:date_of_birth",t)},i.on("user:update:gender:error",function(t){return e.genderSuccess=!1,e.genderError=t.message}),i.on("user:update:date_of_birth:error",function(t){return e.dobSuccess=!1,e.dobError=t.message}),i.on("user:update:mobile_phone_number:error",function(t){return e.phoneSuccess=!1,e.phoneError=t.message}),i.on("user:update:gender:success",function(t){return e.genderError=!1,e.genderSuccess=!0}),i.on("user:update:date_of_birth:success",function(t){return e.dobError=!1,e.dobSuccess=!0}),i.on("user:update:mobile_phone_number:success",function(t){return e.phoneError=!1,e.phoneSuccess=!0})}}};angular.module("ct.widgets").directive(e,["ctUser",t])}.call(this),function(){var e="ctAdditionalInfoV2",t=function(t){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/additional_info/v2/additional_info.html",scope:{additional_info:"=",activities:"="},link:function(e,n,r,i){return e.currentYear=function(){return(new Date).getFullYear()},e.user=t,e.gender={},e.date_of_birth={},e.phone={},e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.$watch("user.gender",function(t){if(null!=t)return e.gender.gender=t}),e.$watch("user.date_of_birth",function(t){if(null!=t)return e.date_of_birth=t}),e.$watch("user.mobile_phone_number",function(t){if(null!=t)return e.phone.mobile_phone_number=t}),e.submitGender=function(t){return e.genderSuccess=!1,i.up("do:user:update:gender",t)},e.submitPhone=function(t){return e.phoneSuccess=!1,i.up("do:user:update:mobile_phone_number",t)},e.submitDob=function(t){return e.dobSuccess=!1,i.up("do:user:update:date_of_birth",t)},i.on("user:update:gender:error",function(t){return e.genderSuccess=!1,e.genderError=t.message}),i.on("user:update:date_of_birth:error",function(t){return e.dobSuccess=!1,e.dobError=t.message}),i.on("user:update:mobile_phone_number:error",function(t){return e.phoneSuccess=!1,e.phoneError=t.message}),i.on("user:update:gender:success",function(t){return e.genderError=!1,e.genderSuccess=!0}),i.on("user:update:date_of_birth:success",function(t){return e.dobError=!1,e.dobSuccess=!0}),i.on("user:update:mobile_phone_number:success",function(t){return e.phoneError=!1,e.phoneSuccess=!0})}}};angular.module("ct.widgets").directive(e,["ctUser",t])}.call(this),function(){var e=function(){return{restrict:"A",controller:"ctWidget",templateUrl:"/claim_purchase/v1/claim_purchase.html",scope:{claimConfig:"="},link:function(e,t,n,r){return e.widgetId=widgetConf.id,e.submitting=!1,e.claimFailed=!1,e.claimSuccess=!1,e.claim={},e.isClaimByOrderId=function(){var t;return 2===(null!=(t=e.claimConfig)?t.claimIdField:void 0)},e.displayField=function(t){var n,r,i;return null!=(n=e.claimConfig)&&null!=(r=n.claimFields)&&null!=(i=r.filter(function(e){return e.name===t}))?i[0]:void 0},e.getWidgetHeader=function(){return"undefined"!=typeof widgetConf&&null!==widgetConf?widgetConf.textKeyHeader:void 0},e.claimAnother=function(){return e.submitting=!1,e.claim={},e.claimSuccess=!1,e.claimFailed=!1},e.submitClaim=function(){return e.submitting=!0,r.event("do:claim:submit",e.claim)},r.on("claim:submit:error",function(t){var n,r;return e.submitting=!1,e.claimFailed=!0,e.error=(null!=t&&null!=(n=t.data)&&null!=(r=n.exception)?r.model:void 0)||null}),r.on("claim:submit:success",function(t){return e.submitting=!1,e.claimedPoints=t.data.results.reduce(function(e,t){return e+t.points_awarded},0),e.claimSuccess=!0,e.claimFailed=!1})}}};angular.module("ct.widgets").directive("ctClaimPurchase",e)}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",templateUrl:"/code_redemption/v1/code_redemption.html",scope:{campaign:"=",tierConf:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.getTierNameById=function(e){return null!=(e=t("filter")(n.tierConf,{id:e})[0])?e.name:void 0}}}};angular.module("ct.widgets").directive("ctCodeRedemption",["ctUser","$filter",e])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctCodeRedemptionV2",templateUrl:"/code_redemption/v2/code_redemption.html",scope:{campaign:"=",tierConf:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.user=e,n.getTierNameById=function(e){return null!=(e=t("filter")(n.tierConf,{id:e})[0])?e.name:void 0}}}};angular.module("ct.widgets").directive("ctCodeRedemptionV2",["ctUser","$filter",e])}.call(this),function(){function e(){}var t;e.prototype.setUserAgent=function(e){return this.agent=e},e.prototype.$get=["$window",function(e){var t,n,r=null!=(n=null!=(t=this.agent)?t:null!=e&&null!=(n=e.navigator)?n.userAgent:void 0)?n:"";return{isMobile:function(){return/(iphone|ipod|((?:android)?.*?mobile)|blackberry|nokia)/i.test(r)},isSafari:function(){return/^((?!chrome).)*safari/i.test(r)},isIOS:function(){return/(iphone|ipod|ipad)/i.test(r)}}}],t=e,angular.module("ct.widgets").provider("ctBrowserDetect",t)}.call(this),function(){var e=function(){var e=require("Chartist"),t={low:0,high:100,chartPadding:{right:100},distributeSeries:!0,horizontalBars:!0,reverseData:!0,axisY:{offset:100,showGrid:!1},axisX:{showGrid:!1,onlyInteger:!0,labelInterpolationFnc:function(e){return e+"%"}}},n={height:"400px",low:0,high:100,distributeSeries:!0,chartPadding:{bottom:0,left:10,right:10,top:30},seriesBarDistance:10,axisY:{offset:60,showGrid:!1,onlyInteger:!0,labelInterpolationFnc:function(e){return e+"%"}},axisX:{offset:50,showGrid:!1}},r={height:"400px",chartPadding:60,labelOffset:90,labelDirection:"explode",total:100};return{createChart:function(i,o,a){var s,c;switch(o){case"HORIZONTAL_BAR":return c=angular.copy(t),s=a.labels.length,c.height=100+25*s+"px",e.Bar("#"+i,a,c).on("draw",function(e){return e.element.attr({style:"stroke-width: 15px"})});case"VERTICAL_BAR":return c=angular.copy(n),e.Bar("#"+i,a,c).on("draw",function(e){return e.element.attr({style:"stroke-width: 40px"})});case"PIE":return e.Pie("#"+i,a,r)}}}};angular.module("ct.widgets").service("chartService",[e])}.call(this),function(){var e=function(){return{require:"ngModel",restrict:"EA",templateUrl:"/common/date_dropdown/date_dropdown.html",link:function(e,t,n,r){var i,o,a,s;return e.months=[{name:"January",id:1},{name:"February",id:2},{name:"March",id:3},{name:"April",id:4},{name:"May",id:5},{name:"June",id:6},{name:"July",id:7},{name:"August",id:8},{name:"September",id:9},{name:"October",id:10},{name:"November",id:11},{name:"December",id:12}],e.days=function(){for(a=[],i=1;i<=31;i++)a.push(i);return a}.apply(this),e.years=function(){s=[];for(var e=o=(new Date).getFullYear();o<=1900?e<=1900:1900<=e;o<=1900?e++:e--)s.push(e);return s}.apply(this),e.$watch("[month, day, year]",function(t){return null!=e.day&&null!=e.month&&null!=e.year?r.$setViewValue({day:e.day,month:e.month.id,year:e.year}):r.$pristine?void 0:r.$setViewValue(null)},!0),e.$watch(n.ngModel,function(t){var n,r,i,o,a,s;if(null!=t){for(a=parseInt(t.month,10),n=0,r=(s=e.months).length;n<r;n++)(i=s[n]).id===a&&(o=i);return e.day=parseInt(t.day,10),e.month=o,e.year=parseInt(t.year,10)}})}}};angular.module("ct.widgets").directive("ctDateDropdown",e)}.call(this),function(){var e=function(e){return{require:"ngModel",restrict:"EA",templateUrl:"/common/date_dropdown_v2/date_dropdown.html",link:function(t,n,r,i){var o,a,s,c,u,l;for(t.months=[],s=o=1;o<=12;s=++o)t.months.push({name:e("ctMonth")(s),id:s});return t.days=function(){for(u=[],a=1;a<=31;a++)u.push(a);return u}.apply(this),t.years=function(){l=[];for(var e=c=(new Date).getFullYear();c<=1900?e<=1900:1900<=e;c<=1900?e++:e--)l.push(e);return l}.apply(this),t.$watch("[month, day, year]",function(e){return null!=t.day&&null!=t.month&&null!=t.year?i.$setViewValue({day:t.day,month:t.month.id,year:t.year}):i.$pristine?void 0:i.$setViewValue(null)},!0),t.$watch(r.ngModel,function(e){var n,r,i,o,a;if(null!=e){for(o=parseInt(e.month,10),n=0,r=(a=t.months).length;n<r;n++)(s=a[n]).id===o&&(i=s);return t.day=parseInt(e.day,10),t.month=i,t.year=parseInt(e.year,10)}})}}};angular.module("ct.widgets").directive("ctDateDropdownV2",["$filter",e])}.call(this),function(){var e=function(e){return{restrict:"A",link:function(t,n,r){if("true"===r.ctAutofocus)return e(function(){return n[0].focus()})}}};angular.module("ct.widgets").directive("ctAutofocus",["$timeout",e])}.call(this),function(){var e=function(){return{require:["^form","ngModel"],restrict:"A",link:function(e,t,n,r){var i=r[0],o=r[1],a=i[n.ctFieldConfirm];return o.$parsers.push(function(e){var t;return null===(t=o.$viewValue)||void 0===t||""===t?o.$setValidity("confirm",!0):o.$setValidity("confirm",e===a.$viewValue),e}),a.$parsers.push(function(e){var t;return null===(t=o.$viewValue)||void 0===t||""===t?o.$setValidity("confirm",!0):o.$setValidity("confirm",e===o.$viewValue),e})}}};angular.module("ct.widgets").directive("ctFieldConfirm",e)}.call(this),function(){var e=function(){return{restrict:"A",link:function(e,t,n){var r=function(t){return e[n.ctFileUpload](t)};return t.bind("change",r)}}};angular.module("ct.widgets").directive("ctFileUpload",e)}.call(this),function(){var e=function(){return{restrict:"E",controller:"ctWidget",require:"currentlyInactive",link:function(e,t,n,r){var i=setInterval(function(){return e.$apply(function(){return r.checkResize()})},20);return setTimeout(function(){return clearInterval(i)},1e3),t.bind("load",function(){return setTimeout(function(){return e.$apply(function(){return r.checkResize()})},50)})}}};angular.module("ct.widgets").directive("currentlyInactive",e)}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(t,n,r){function i(){this.on=e(this.on,this),this.in=e(this.in,this),this.out=e(this.out,this),this.up=e(this.up,this),this.down=e(this.down,this),this.event=e(this.event,this)}return i.prototype.isWidgetEvent=function(e){return!!angular.isString(e)&&e===t},i.prototype.getWidgetEventName=function(){return t},i.prototype.event=function(e,t,i,o){if(null==t&&(t=null),null==i&&(i="up"),null==o&&(o={}),angular.isString(e)&&!(e.length<1))return i="up"===i||"down"===i?i:"up",null!=(null!=o?o.eventData:void 0)&&(r.error("You may not set `eventData` of `payloadParams` in ctWidgetEventHelper::event()"),delete o.eventData),null!=(null!=o?o.eventName:void 0)&&(r.error("You may not set `eventName` of `payloadParams` in ctWidgetEventHelper::event()"),delete o.eventName),"up"===((o=angular.extend({eventName:e,eventData:t},o)).direction=i)&&n.$emit(this.getWidgetEventName(),o),"down"===i&&n.$broadcast(this.getWidgetEventName(),o),n.$$phase?void 0:n.$digest();r.warn("Invalid `name` parameter passed to WidgetCtrl::event().")},i.prototype.down=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"down",n)},i.prototype.up=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"up",n)},i.prototype.out=function(e,t){return this.on(e,function(e,n,r){if("up"===r.direction)return t.apply(null,arguments)})},i.prototype.in=function(e,t){return this.on(e,function(e,n,r){if("down"===r.direction)return t.apply(null,arguments)})},i.prototype.on=function(e,t){var r=[].concat(e);return n.$on(this.getWidgetEventName(),function(e,i){for(var o,a=[],s=0,c=r.length;s<c;s++)(o=r[s])===i.eventName||"all"===o?(t(i.eventData,e,i),n.$$phase?a.push(void 0):a.push(n.$digest())):a.push(void 0);return a})},new i};angular.module("ct.widgets").service("ctWidgetEventHelper",["ctWidgetEventName","$rootScope","$log",t])}.call(this),function(){var e=function(){return function(e,t){return e=new Date(e),new Date(e.setDate(e.getDate()+t))}};angular.module("ct.widgets").filter("addDays",e)}.call(this),function(){var e=function(e,t){return function(n){var r;return null==n?null:(r=moment.utc(n)).isValid()&&r.isBefore(moment.utc(),"minute")?r.fromNow():r.isValid()?e.get("word.now"):(t.debug(n+" is an invalid date.  Cannot calculate duration"),null)}};angular.module("ct.widgets").filter("ctElapsedTime",["ctText","$log",e])}.call(this),function(){var e=function(){return function(e){if(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))return parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16)}};angular.module("ct.widgets").filter("hexToRgbString",[e])}.call(this),function(){var e=function(e){var t=function(t,n){var r;return null==n&&(n="long"),t=parseInt(t,10),n="short"===n||"long"===n?n:"long",r=function(){switch(t){case 1:return e.get("cms.month:january");case 2:return e.get("cms.month:february");case 3:return e.get("cms.month:march");case 4:return e.get("cms.month:april");case 5:return e.get("cms.month:may");case 6:return e.get("cms.month:june");case 7:return e.get("cms.month:july");case 8:return e.get("cms.month:august");case 9:return e.get("cms.month:september");case 10:return e.get("cms.month:october");case 11:return e.get("cms.month:november");case 12:return e.get("cms.month:december");default:return""}}(),"short"===n?r.substring(0,3):r};return t.$stateful=!0,t};angular.module("ct.widgets").filter("ctMonth",["ctText",e])}.call(this),function(){var e=function(){
return function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e}};angular.module("ct.widgets").filter("ctPhone",[e])}.call(this),function(){var e=function(e,t){return function(n,r){var i,o,a;return null==r&&(r={}),n="number"==typeof n&&isFinite(n)?n:parseInt(n,10),i=Math.abs(n),a=null!=r.prefix?r.prefix:"",o=null!=r.isMultiplier&&r.isMultiplier?"x":"",1===i?a+e.get("text.point display",{points:t(1)+o}):1<i?a+e.get("text.points display",{points:t(n)+o}):r.hideOnZero?"":(r=r.onZeroTextKey)?e.get(r):a+e.get("text.points display",{points:0+o})}};angular.module("ct.widgets").filter("ctPoints",["ctText","numberFilter",e])}.call(this),function(){var e=function(){return function(e,t,n,r){var i,o,a,s,c,u,l;if(null==r&&(r=null),!angular.isNumber(t)||!angular.isNumber(n))return"";if(null!=r)for(i=o=t,s=n,c=r;0<c?o<=s:s<=o;i=o+=c)e.push(i);else for(i=a=u=t,l=n;u<=l?a<=l:l<=a;i=u<=l?++a:--a)e.push(i);return e}};angular.module("ct.widgets").filter("ctRange",[e])}.call(this),function(){var e=function(){return function(e,t){if(null!=e&&null!=t&&"number"==typeof t)return e.slice(t)}};angular.module("ct.widgets").filter("startFrom",[e])}.call(this),function(){var e=function(e){var t=function(t,n){return null==n&&(n={}),e.get(t,n)};return t.$stateful=!0,t};angular.module("ct.widgets").filter("ctText",["ctText",e])}.call(this),function(){var e=function(){return function(e,t){var n;return null==t&&(t=0),1!==((n=""+e).match(/\./g)||[]).length?e:(n=n.split("."),Number(n[0]+"."+n[1].substring(0,t)))}};angular.module("ct.widgets").filter("truncateDecimal",e)}.call(this),function(){var e=function(e){return function(t){return e.trustAsHtml(t)}};angular.module("ct.widgets").filter("ctTrustHtml",["$sce",e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(t){function n(t){var n,r,i;for(n in null==t&&(t=null),this.getTitle=e(this.getTitle,this),this.isAutomaticCampaign=e(this.isAutomaticCampaign,this),this.pointsWithoutBonus=e(this.pointsWithoutBonus,this),this.isBonusActive=e(this.isBonusActive,this),this.hasPointsHidden=e(this.hasPointsHidden,this),this.points=e(this.points,this),this.dateCreated=e(this.dateCreated,this),this.date=e(this.date,this),this.id=e(this.id,this),this.isCompleted=e(this.isCompleted,this),this.totalPoints=e(this.totalPoints,this),this.preReqActivity=e(this.preReqActivity,this),this.isPreReqLocked=e(this.isPreReqLocked,this),this.hasCompletedPreReq=e(this.hasCompletedPreReq,this),this.isTierLocked=e(this.isTierLocked,this),this.isLocked=e(this.isLocked,this),this.remaining=e(this.remaining,this),this.remainingSeconds=e(this.remainingSeconds,this),this.isUnavailable=e(this.isUnavailable,this),t)i=t[n],this[n]=i;this.domElementClasses=((r={locked:this.isLocked(),unavailable:this.isUnavailable(),"activity-completed":this.isCompleted(),"activity-has-bonus":this.isBonusActive(),"activity-prereq-locked":this.isPreReqLocked(),"activity-tier-locked":this.isTierLocked()})["ct-activity-"+this.id]=!0,r)}return n.prototype.domElementClasses=null,n.prototype.isUnavailable=function(){var e;return(null!=(e=this.user_activity_status)?e.has_reached_freq_cap:void 0)&&null!=(null!=(e=this.user_activity_status)?e.freq_cap_reset_timestamp:void 0)},n.prototype.remainingSeconds=function(){var e=null!=(t=this.user_activity_status)?t.freq_cap_reset_timestamp:void 0,t=new Date;return e-(t=(t.getTime()-t.getMilliseconds())/1e3)},n.prototype.remaining=function(e){for(var n,r,i=this.remainingSeconds(),o={0:"seconds",60:"minutes",3600:"hours",86400:"days"},a=function(){var e=[];for(n in o)e.push(+n);return e}().sort(function(e,t){return t-e}),s={number:i,unitOfTime:a[0]},c=0,u=a.length;c<u;c++)if((r=a[c])<i){s={number:Math.floor(i/(r||1)),unitOfTime:o[r]};break}return s.unitOfTime=""+t.get("text."+s.unitOfTime),t.get(e,s)},n.prototype.isLocked=function(){return this.isPreReqLocked()||this.isTierLocked()},n.prototype.isTierLocked=function(){return this.locked_by_tier},n.prototype.hasCompletedPreReq=function(){var e=this.prereq_user_activity_status;return null!=(null!=e?e.date_last_occurred:void 0)},n.prototype.isPreReqLocked=function(){return!!this.prereq_activity_id&&!this.hasCompletedPreReq()},n.prototype.preReqActivity=function(){if(this.prereq_activity_id)return new n({id:this.prereq_activity_id,title:this.prereq_activity_title,name:this.prereq_activity_name,user_activity_status:this.prereq_user_activity_status})},n.prototype.totalPoints=function(){return null!=this.total?this.total:parseInt(this.num_points,10)},n.prototype.isCompleted=function(){var e;return null!=(e=this.user_activity_status)?e.has_reached_freq_cap:void 0},n.prototype.id=function(){return this.id},n.prototype.date=function(){var e;return null!=(e=this.date_purchase)?e:this.date_completed},n.prototype.dateCreated=function(){return this.date_created},n.prototype.points=function(){var e;return null!=(e=this.num_points)?e:this.total},n.prototype.hasPointsHidden=function(){if(null!=this.show_activity_point_text)return!this.show_activity_point_text},n.prototype.isBonusActive=function(){return this.has_bonus},n.prototype.pointsWithoutBonus=function(){return this.isBonusActive()?this.totalPoints()-this.additional_points:this.totalPoints()},n.prototype.isAutomaticCampaign=function(){return 1===this.is_automatic_campaign},n.prototype.getTitle=function(){return this.title},n};angular.module("ct.widgets").factory("ctActivity",["ctText",t])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(t,n){function r(){this.rewardQuantityLeftThreshold=e(this.rewardQuantityLeftThreshold,this),this.requiresPhoneNumberOnReg=e(this.requiresPhoneNumberOnReg,this),this.requiresGenderOnReg=e(this.requiresGenderOnReg,this),this.useThirdPartyAgeVerification=e(this.useThirdPartyAgeVerification,this),this.loadData=e(this.loadData,this)}return r.prototype.loadData=function(e){var t,r,i=[];for(t in e)r=e[t],angular.isFunction(this[t])&&n.warn("client::loadData() WARNING: The property: `"+t+"`\nhas been set on a client, but this property has overwritten a client\nmethod. You should rename the method or the property."),i.push(this[t]=r);return i},r.prototype.useThirdPartyAgeVerification=function(){return this.enable_external_age_ver},r.prototype.requiresGenderOnReg=function(){return this.enable_reg_require_gender},r.prototype.requiresPhoneNumberOnReg=function(){return this.enable_reg_require_phone},r.prototype.rewardQuantityLeftThreshold=function(){return this.reward_inv_cntr_threshold},new r};angular.module("ct.widgets").factory("ctClient",["ctWidgetEventHelper","$log",t])}.call(this),function(){var e=function(){return function(e){var t,n;for(t in e=null==e?null:e)n=e[t],this[t]=n}};angular.module("ct.widgets").factory("ctCodeRedemptionCampaign",[e])}.call(this),function(){var e=function(e){function t(t,n,i){var a;this.historyType=t,this.householdId=n,this.pageSize=null!=i?i:10,this.histories=[],this.historyType===r&&(this.expandedDetails=[]),this.loadedFirstPage=!1,e.on(o+":"+this.historyType+":success",(a=this,function(e){var t,n,i,o;if(a.loading=!1,a.histories.push.apply(a.histories,e.histories),a.nextPage=e.nextPage,a.historyType===r){for(o=[],t=0,n=(i=e.histories).length;t<n;t++)i[t],o.push(a.expandedDetails.push(!1));return o}}))}function n(){}var r,i,o;return r="reward",o="hh:load-history",t.prototype.loadHistory=function(t){if(t)return this.loading=!0,e.up(o,{householdId:this.householdId,historyType:this.historyType,pageNum:t,pageSize:this.pageSize})},t.prototype.getFirstPage=function(){if(!this.loadedFirstPage)return this.loadedFirstPage=!0,this.loadHistory(1)},t.prototype.getNextPage=function(){if(this.nextPage)return this.loadHistory(this.nextPage)},i=t,n.prototype.setCurrentHousehold=function(e){return this.activityHistories=new i("activity",e),this.rewardHistories=new i(r,e)},n.prototype.clearHousehold=function(){return delete this.activityHistories,delete this.rewardHistories},new n};angular.module("ct.widgets").service("ctHouseholdHistories",["ctWidgetEventHelper",e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(t){function n(){this.getSize=e(this.getSize,this),this.getLanguageName=e(this.getLanguageName,this),this.loadLanguages=e(this.loadLanguages,this)}return n.prototype.loadLanguages=function(e){return this.conf=e},n.prototype.getLanguageName=function(e){if(this.conf)return null!=(e=t("filter")(this.conf,{language_id:e},!0)[0])?e.language_name:void 0},n.prototype.getSize=function(){var e;return(null!=(e=this.conf)?e.length:void 0)||0},new n};angular.module("ct.widgets").factory("ctLanguagePref",["$filter",t])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(){function t(){this.getCountryRecord=e(this.getCountryRecord,this),this.getCountryName=e(this.getCountryName,this),this.loadCountries=e(this.loadCountries,this)}return t.prototype.loadCountries=function(e){return this.countries=e},t.prototype.getCountryName=function(e){var t=null!=(t=this.countries)?t.filter(function(t){return+t.country_id===e})[0]:void 0;return null!=t?t.country_name:void 0},t.prototype.getCountryRecord=function(e){var t;return null!=(t=this.countries)?t.filter(function(t){return+t.country_id===e})[0]:void 0},new t};angular.module("ct.widgets").factory("ctLocation",[t])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}function t(t){var n,r;for(n in this.timesRedeemed=e(this.timesRedeemed,this),this.quantityRemaining=e(this.quantityRemaining,this),this.originalQuantity=e(this.originalQuantity,this),this.size=e(this.size,this),this.color=e(this.color,this),t)r=t[n],this[n]=r}var n,r,i,o,a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};o=function(e){return null==e||NaN===e||""===e},i=function(e,t){for(var n,r=[],i=0,s=e.length;i<s;i++)n=function(e){return angular.isFunction(null!=e?e[t]:void 0)?e[t]():null!=e?e[t]:void 0}(e[i]),!o(n)&&a.call(r,n)<0&&r.push(n);return r},t.prototype.properties=["color_name","current_quantity","id","num_redeemed_by_user","quantity","size_name"],t.prototype.color=function(){return this.color_name},t.prototype.size=function(){return this.size_name},t.prototype.originalQuantity=function(){return parseInt(this.quantity,10)},t.prototype.quantityRemaining=function(){return parseInt(this.current_quantity,10)},t.prototype.timesRedeemed=function(){return parseInt(this.num_redeemed_by_user,10)},n=t,r=function(t,r,o,a){function s(t){var r,i,s,c,u,l,d,p,f,h,g,m,v;for(this.groupId=e(this.groupId,this),this.isExternal=e(this.isExternal,this),this.redeemableQuantity=e(this.redeemableQuantity,this),this.maxPerUser=e(this.maxPerUser,this),this.getRedeemId=e(this.getRedeemId,this),this.isSoldOut=e(this.isSoldOut,this),this.filterVariations=e(this.filterVariations,this),this.getNextDateRedeemable=e(this.getNextDateRedeemable,this),this.getCategoryCapTimeUntilResetMap=e(this.getCategoryCapTimeUntilResetMap,this),this.getCategoryCapTimeUntilReset=e(this.getCategoryCapTimeUntilReset,this),this.getTimeUntilResetMap=e(this.getTimeUntilResetMap,this),this.getTimeUntilReset=e(this.getTimeUntilReset,this),this.isCategoryCapEndSameAsFrequencyCap=e(this.isCategoryCapEndSameAsFrequencyCap,this),this.isCategoryCapRestrictiveThanFrequencyCap=e(this.isCategoryCapRestrictiveThanFrequencyCap,this),this.isFrequencyCapRestrictiveThanCategoryCap=e(this.isFrequencyCapRestrictiveThanCategoryCap,this),this.userHasExceededFrequencyCap=e(this.userHasExceededFrequencyCap,this),this.getCategoryCapLimit=e(this.getCategoryCapLimit,this),this.getCategoryCapBalance=e(this.getCategoryCapBalance,this),this.hasCategoryCap=e(this.hasCategoryCap,this),this.getCategoryCapNextDateAvailable=e(this.getCategoryCapNextDateAvailable,this),this.hasCategoryPointCapReached=e(this.hasCategoryPointCapReached,this),this.hasFrequencyCap=e(this.hasFrequencyCap,this),this.timesRedeemedInFrequencyPeriod=e(this.timesRedeemedInFrequencyPeriod,this),this.getFrequencyCap=e(this.getFrequencyCap,this),this.userHasExceededRedeemLimit=e(this.userHasExceededRedeemLimit,this),this.hasRedeemLimit=e(this.hasRedeemLimit,this),this.requiresTos=e(this.requiresTos,this),this.timesRedeemed=e(this.timesRedeemed,this),this.redeemedPoints=e(this.redeemedPoints,this),this.cost=e(this.cost,this),this.daysTilEnd=e(this.daysTilEnd,this),this.dateEndAsDate=e(this.dateEndAsDate,this),this.pointsNeededToRedeem=e(this.pointsNeededToRedeem,this),this.hasEnoughPointsToRedeem=e(this.hasEnoughPointsToRedeem,this),this.quantityRemaining=e(this.quantityRemaining,this),this.quantityForAllVariations=e(this.quantityForAllVariations,this),this.getQuantitySum=e(this.getQuantitySum,this),this.getQuantityForColor=e(this.getQuantityForColor,this),this.getQuantityForSize=e(this.getQuantityForSize,this),this.getQuantityForSizeAndColor=e(this.getQuantityForSizeAndColor,this),this.getSizes=e(this.getSizes,this),this.getColors=e(this.getColors,this),this.hasSizes=e(this.hasSizes,this),this.hasColors=e(this.hasColors,this),this.downloadUrl=e(this.downloadUrl,this),this.hasEnded=e(this.hasEnded,this),this.showAsLocked=e(this.showAsLocked,this),this.isRedeemAllowed=e(this.isRedeemAllowed,this),this.isPreReqLocked=e(this.isPreReqLocked,this),this.isDownload=e(this.isDownload,this),this.isSweepstakes=e(this.isSweepstakes,this),this.isAutomaticCampaign=e(this.isAutomaticCampaign,this),this.minAge=e(this.minAge,this),this.minAgeToRedeem=e(this.minAgeToRedeem,this),angular.isArray(t)||(t=[t]),this.variations=[],r=0,l=t.length;r<l;r++)i=t[r],this.variations.push(new n(i));for(s=0,d=(g=this.propertiesSharedByAllVariations).length;s<d;s++)this[h=g[s]]=this.variations[0][h];for(c=0,p=(m=this.variations).length;c<p;c++)for(i=m[c],u=0,f=(v=this.propertiesSharedByAllVariations).length;u<f;u++)delete i[h=v[u]];this.domElementClasses={"reward-few-left":!this.isSoldOut()&&this.quantityRemaining()<=o.rewardQuantityLeftThreshold(),"reward-sold-out":this.isSoldOut(),"reward-almost-ended":!!this.date_end&&this.daysTilEnd()<=30,"reward-ended":this.hasEnded(),"reward-locked":this.is_locked||this.show_as_locked,"exceeded-frequency-cap":this.isFrequencyCapRestrictiveThanCategoryCap(),"group-point-cap-reached":this.isCategoryCapRestrictiveThanFrequencyCap(),"group-point-and-frequency-cap-reached":this.isCategoryCapEndSameAsFrequencyCap(),"reward-exceeded-freq-cap":this.userHasExceededFrequencyCap(),"group-point-cap-reached":this.hasCategoryPointCapReached(),"reward-not-enough-points":a.points()<this.cost(),"not-enough-points-in-category":this.getCategoryCapBalance()<this.cost(),"reward-allow-redemption":this.isRedeemAllowed(),"reward-max-redemptions":this.userHasExceededRedeemLimit(),"reward-downloaded":this.isDownload&&this.userHasExceededRedeemLimit(),"reward-is-external":this.isExternal()}}return s.prototype.propertiesSharedByAllVariations=["additional_images","category_name","category_cap_info","coupon_value","coupon_type_id","date_created","date_end","date_start","date_used_at_pos","date_to_expire","description","digital_reward_url","display_tag","explain_confirmation_sent","freq_cap_info","img_url","is_automatic_campaign","is_digital_download","is_ended","is_featured","is_locked","is_one_of_a_kind","is_phone_number_required","is_shipping_required","is_sweepstake","is_wishlisted","max_per_user","min_age","minimum_level","num_points","num_points_entry","order_quantity","show_as_locked","title","tos_url","totalQuantity","unlocked_by","is_external","group_id","shipping_info"],s.prototype.variations=[],s.prototype.domElementClasses=null,s.prototype.minAgeToRedeem=function(){var e;return(e=this.min_age)?parseInt(e,10):0},s.prototype.minAge=function(){return this.minAgeToRedeem()},s.prototype.isAutomaticCampaign=function(){return"1"===this.is_automatic_campaign},s.prototype.isSweepstakes=function(){return this.is_sweepstake},s.prototype.isDownload=function(){return this.is_digital_download},s.prototype.isPreReqLocked=function(){return!!this.is_locked},s.prototype.isRedeemAllowed=function(){return!(this.hasEnded()||this.isSoldOut()||this.userHasExceededRedeemLimit()||this.userHasExceededFrequencyCap()||this.showAsLocked()||this.isPreReqLocked())&&a.email_is_verified&&(!this.minAge()||a.age()>=this.minAge())&&a.points()>=this.cost()},s.prototype.showAsLocked=function(){return this.show_as_locked},s.prototype.hasEnded=function(){return this.is_ended},s.prototype.downloadUrl=function(){return this.digital_reward_url},s.prototype.hasColors=function(){var e;return 0<(null!=(e=this.getColors())?e.length:void 0)||!1},s.prototype.hasSizes=function(){var e;return 0<(null!=(e=this.getSizes())?e.length:void 0)||!1},s.prototype.getColors=function(e){var t=(e=null==e?null:e)?this.filterVariations(function(t){return 0<t.quantityRemaining()&&t.size()===e}):this.filterVariations(function(e){return 0<e.quantityRemaining()});return i(t,"color")},s.prototype.getSizes=function(e){var t=(e=null==e?null:e)?this.filterVariations(function(t){return 0<t.quantityRemaining()&&t.color()===e}):this.filterVariations(function(e){return 0<e.quantityRemaining()});return i(t,"size")},s.prototype.getQuantityForSizeAndColor=function(e,t){return this.getQuantitySum(this.filterVariations(function(n){return n.color()===t&&n.size()===e}))},s.prototype.getQuantityForSize=function(e){return this.getQuantitySum(this.filterVariations(function(t){return t.size()===e}))},s.prototype.getQuantityForColor=function(e){return this.getQuantitySum(this.filterVariations(function(t){return t.color()===e}))},s.prototype.getQuantitySum=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].quantityRemaining();return t},s.prototype.quantityForAllVariations=function(){return this.getQuantitySum(this.variations)},s.prototype.quantityRemaining=function(){return this.quantityForAllVariations()},s.prototype.hasEnoughPointsToRedeem=function(e){return e.points()>=this.cost()},s.prototype.pointsNeededToRedeem=function(e){return this.cost()-e.points()},s.prototype.dateEndAsDate=function(){var e;return(e=this.date_end)?t.toJSDate(e):null},s.prototype.daysTilEnd=function(){var e;return(e=this.date_end)?t.daysFromNow(e):null},s.prototype.cost=function(){var e=this.isSweepstakes()?this.num_points_entry:this.num_points;return parseInt(e,10)},s.prototype.redeemedPoints=function(){return this.cost()*this.order_quantity},s.prototype.timesRedeemed=function(){for(var e=0,t=this.variations,n=0,r=t.length;n<r;n++)e+=t[n].timesRedeemed();return e},s.prototype.requiresTos=function(){return null!=this.tos_url},s.prototype.hasRedeemLimit=function(){return angular.isNumber(this.max_per_user)&&0<parseInt(this.max_per_user,10)},s.prototype.userHasExceededRedeemLimit=function(){return this.hasRedeemLimit()&&this.timesRedeemed()>=parseInt(this.max_per_user,10)},s.prototype.getFrequencyCap=function(){var e;return null!=(e=this.freq_cap_info)?e.freq_cap:void 0},s.prototype.timesRedeemedInFrequencyPeriod=function(){var e;return null!=(e=this.freq_cap_info)?e.num_redeemed_in_freq_period:void 0},s.prototype.hasFrequencyCap=function(){var e;return null!=(null!=(e=this.freq_cap_info)?e.freq_cap:void 0)&&angular.isNumber(null!=(e=this.freq_cap_info)?e.freq_cap:void 0)},s.prototype.hasCategoryPointCapReached=function(){var e;return null!=(e=this.category_cap_info)?e.category_point_cap_reached:void 0},s.prototype.getCategoryCapNextDateAvailable=function(){var e;return null!=(e=this.category_cap_info)?e.category_point_cap_reset_date:void 0},s.prototype.hasCategoryCap=function(){var e;return angular.isNumber(null!=(e=this.category_cap_info)?e.balance:void 0)},s.prototype.getCategoryCapBalance=function(){var e;return null!=(e=this.category_cap_info)?e.balance:void 0},s.prototype.getCategoryCapLimit=function(){var e;return null!=(e=this.category_cap_info)?e.cat_max_points:void 0},s.prototype.userHasExceededFrequencyCap=function(){return this.hasFrequencyCap()&&this.timesRedeemedInFrequencyPeriod()>=this.getFrequencyCap()},s.prototype.isNotEndingBeforeCategoryCapPeriod=function(){return this.hasCategoryPointCapReached()&&null!=this.getCategoryCapNextDateAvailable()&&null!=this.getCategoryCapTimeUntilResetMap()},s.prototype.isFrequencyCapRestrictiveThanCategoryCap=function(){return this.userHasExceededFrequencyCap()&&this.hasCategoryPointCapReached()&&this.getNextDateRedeemable()>this.getCategoryCapNextDateAvailable()},s.prototype.isCategoryCapRestrictiveThanFrequencyCap=function(){return this.userHasExceededFrequencyCap()&&this.hasCategoryPointCapReached()&&this.getNextDateRedeemable()<this.getCategoryCapNextDateAvailable()},s.prototype.isCategoryCapEndSameAsFrequencyCap=function(){return this.userHasExceededFrequencyCap()&&this.hasCategoryPointCapReached()&&this.getNextDateRedeemable()===this.getCategoryCapNextDateAvailable()},s.prototype.getTimeUntilReset=function(e){for(var t,n=[{key:"y",name:"years"},{key:"m",name:"months"},{key:"d",name:"days"},{key:"h",name:"hours"},{key:"i",name:"minutes"},{key:"s",name:"seconds"}],i=this.getTimeUntilResetMap(),o={number:0,unitOfTime:n[n.length-1].name},a=0,s=n.length;a<s;a++)if(0<i[(t=n[a]).key]){o.number=i[t.key],o.unitOfTime=t.name;break}return o.unitOfTime===n[n.length-1].name&&(o.unitOfTime=n[n.length-2].name,o.number=">1"),o.unitOfTime=1===o.number?o.unitOfTime.substring(0,o.unitOfTime.length-1):o.unitOfTime,o.unitOfTime=""+r.get("text."+o.unitOfTime).toLowerCase(),r.get(e,o)},s.prototype.getTimeUntilResetMap=function(){var e;return null!=(e=this.freq_cap_info)?e.time_until_reset:void 0},s.prototype.getCategoryCapTimeUntilReset=function(e){for(var t,n=[{key:"y",name:"years"},{key:"m",name:"months"},{key:"d",name:"days"},{key:"h",name:"hours"},{key:"i",name:"minutes"},{key:"s",name:"seconds"}],i=this.getCategoryCapTimeUntilResetMap(),o={number:0,unitOfTime:n[n.length-1].name},a=0,s=n.length;a<s;a++)if(0<i[(t=n[a]).key]){o.number=i[t.key],o.unitOfTime=t.name;break}return o.unitOfTime===n[n.length-1].name&&(o.unitOfTime=n[n.length-2].name,o.number=">1"),o.unitOfTime=1===o.number?o.unitOfTime.substring(0,o.unitOfTime.length-1):o.unitOfTime,o.unitOfTime=""+r.get("text."+o.unitOfTime).toLowerCase(),r.get(e,o)},s.prototype.getCategoryCapTimeUntilResetMap=function(){var e;return null!=(e=this.category_cap_info)?e.time_to_reset_cat_point_cap:void 0},s.prototype.getNextDateRedeemable=function(){var e;return null!=(e=this.freq_cap_info)?e.next_date_redeemable:void 0},s.prototype.isNotEndingBeforeFrequencyPeriod=function(){return this.userHasExceededFrequencyCap()&&null!=this.getNextDateRedeemable()&&null!=this.getTimeUntilResetMap()},s.prototype.filterVariations=function(e){for(var t,n=[],r=this.variations,i=0,o=r.length;i<o;i++)e(t=r[i])&&n.push(t);return n},s.prototype.isSoldOut=function(){return 0===this.getQuantitySum(this.variations)},s.prototype.getRedeemId=function(e,t){return null==e&&(e=null),null==t&&(t=null),this.filterVariations(function(n){return t&&e?n.color()===t&&n.size()===e:t?n.color()===t:!e||n.size()===e})[0].id},s.prototype.maxPerUser=function(){if(this.max_per_user)return parseInt(this.max_per_user,10)},s.prototype.redeemableQuantity=function(e,t){var n,r,i,o;if(this.userHasExceededRedeemLimit())throw"User has already exceeded redeem limit";if(this.userHasExceededFrequencyCap())throw"User has already exceeded frequency cap";if(this.hasCategoryPointCapReached())throw"User has already exceeded category point cap";if(Math.floor(this.getCategoryCapBalance()/this.cost())<=0)throw"User does not have enough points for reward category to redeem this reward";return null!=(n=this.hasFrequencyCap()?this.getFrequencyCap():n)&&(n-=this.timesRedeemedInFrequencyPeriod()),null!=(r=this.maxPerUser())&&(r-=this.timesRedeemed()),this.hasCategoryCap()&&(i=Math.floor(this.getCategoryCapBalance()/this.cost())),o=function(){switch(!1){case!(null!=r&&null!=n&&null!=i):return Math.min(r,n,i);case!(null!=r&&null!=n):return this.min(r,n);case!(null!=r&&null!=i):return this.min(r,i);case!(null!=n&&null!=i):return this.min(n,i);case null==r:return r;case null==n:return n;case null==i:return i;default:return null}}.call(this),t=0<this.cost()?Math.floor(t.points()/this.cost()):100,null!=o?(o=this.min(t,o),this.rangeWithCutoff(this.min(o,e.quantityRemaining()),100)):this.rangeWithCutoff(this.min(t,e.quantityRemaining()),100)},s.prototype.rangeWithCutoff=function(e,t){var n;return e=t<e?t:e,function(){n=[];for(var t=1;1<=e?t<=e:e<=t;1<=e?t++:t--)n.push(t);return n}.apply(this)},s.prototype.min=function(e,t){return e<t?e:t},s.prototype.isExternal=function(){return this.is_external},s.prototype.groupId=function(){return this.group_id},s},angular.module("ct.widgets").factory("ctReward",["ctTimeHelper","ctText","ctClient","ctUser",r])}.call(this),function(){var e=function(){return{replace:!0,restrict:"E",templateUrl:"/common/notifications/notifications.html",scope:{notifications:"="},link:function(e){return e.close=function(t){return e.notifications.splice(t,1)}}}};angular.module("ct.widgets").directive("ctNotifications",e)}.call(this),function(){var e=function(e,t){function n(){}var r;return r=function(e,t,n,r){return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width="+t,"height="+e,"left="+n,"top="+r].join(",")},n.prototype.open=function(n){var i,o=n.url,a=n.width,n=n.height,s=null!=(s=null!=e&&null!=(i=e.opener)&&null!=(s=i.screen)?s.height:void 0)?s:window.screen.height,c=null!=(u=null!=e&&null!=(u=e.opener)&&null!=(c=u.screen)?c.width:void 0)?u:window.screen.width,u=0;if(!o)throw new Error("You must pass an object with property 'url' to ctPopup");return c=Math.round(c/2-a/2),n<s&&(u=Math.round(s/2-n/2)),t.isMobile()?e.open(o):e.open(o,"_blank",r(n,a,c,u))},new n};angular.module("ct.widgets").service("ctPopup",["$window","ctBrowserDetect",e])}.call(this),function(){var e=function(){return{restrict:"EA",scope:{percentage:"=",flashExpression:"=?"},transclude:!0,templateUrl:"/common/progress_bar/progress_bar.html",link:function(e,t,n){return t.find(".bar"),e.$watch("percentage",function(e,t){if(e&&100<e)return 100})}}};angular.module("ct.widgets").directive("ctProgressBar",[e])}.call(this),function(){var e=function(){return function(e,t){return'<span class="question-number">'+(t?t+".":"")+"</span>\n"+e}};angular.module("ct.widgets").filter("ctPrefixQuestionNumber",[e])}.call(this),function(){var e={}.hasOwnProperty,t=function(t){return{restrict:"E",require:"^form",templateUrl:"/common/questionnaire/questionnaire_question_input.html",replace:!0,scope:{question:"=",answer:"=",displayNumber:"@"},link:function(n,r,i,o){var a,s,c,u,l,d,p=function(){var t;return function(){var r=n.checkboxes,i=[];for(t in r)e.call(r,t)&&(r[t],n.checkboxes[t]&&i.push(t));return i}()};switch(n.isOtherSelected=function(){return"multi-answer"===n.getQuestionType()?n.checkboxes.OTHER:"OTHER"===n.radioChoice.value},n.getQuestionType=function(){switch(n.question.questionType){case 1:return"freehand";case 2:case 3:return"multi-answer";case 4:case 5:return"multi-choice";default:throw new Error(n.question.questionType+" is an invalid question type value")}},s=function(){if(null!==n.answer.responseText&&!n.isOtherSelected())return t(function(){return n.answer.responseText=null},0)},n.anySelected=function(){return 0<p().length},n.includeOtherOption=function(){var e=n.getQuestionType(),t=n.question.questionType;return"multi-answer"===e&&3===t||"multi-choice"===e&&5===t}(),n.parentForm=o,n.containerClasses={"question-required":n.question.required,"question-type-freehand":"freehand"===n.getQuestionType(),"question-type-radio":"multi-choice"===n.getQuestionType(),"question-type-checkbox":"multi-answer"===n.getQuestionType()},n.getQuestionType()){case"multi-answer":for(n.checkboxes={},l=n.answer.selectedAnswers,a=function(e){return n.checkboxes[e.answerId]=l.includes(e.answerId+"")},c=0,u=(d=n.question.answerOptions).length;c<u;c++)a(d[c]);return n.includeOtherOption&&(n.checkboxes.OTHER=l.includes("OTHER")),n.$watch("checkboxes",function(e,t){var r;if(!angular.equals(e,t)&&(r=p(),n.answer.selectedAnswers=r,e.OTHER!==t.OTHER))return s()},!0);case"multi-choice":return n.radioChoice={value:1===n.answer.selectedAnswers.length?n.answer.selectedAnswers[0]:null},n.$watch("radioChoice.value",function(e){return n.answer.selectedAnswers=null!=e?[e]:[],s()})}}}};angular.module("ct.widgets").directive("ctQuestionnaireQuestionInput",["$timeout",t])}.call(this),function(){var e=function(e,t){function n(){var e,t;this.loadAsync=(e=this.loadAsync,t=this,function(){return e.apply(t,arguments)})}var r,i;return r=e[0],i=function(e){var t,n,i,o=r.createElement("script");for(t in e)i=e[t],o[t]=i;return(n=r.getElementsByTagName("script")[0]).parentNode.insertBefore(o,n)},n.prototype.loadAsync=function(e,n){var r=t.defer();return i({src:e,onload:function(e){return r.resolve(e)},async:!0,id:n}),r.promise},new n};angular.module("ct.widgets").service("ctScriptLoader",["$document","$q",e])}.call(this),function(){function e(e,t){this.$window=e,this.$document=t}var t;e.prototype.selectEl=function(e){var t,n;return null!=this.$document[0].body.createTextRange?((t=this.$document[0].body.createTextRange()).moveToElementText(e),t.select()):null!=this.$window.getSelection?(n=this.$window.getSelection(),(t=this.$document[0].createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t)):void 0},t=e,angular.module("ct.widgets").service("ctSelectText",["$window","$document",t])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(t,n,r){function i(r,i,o){var c,u,l,d,p,f,h,g,m,v,y,w,b,_,x,A,C,E;if(this.doAuth=e(this.doAuth,this),this.ignoreClick=e(this.ignoreClick,this),this.isReady=e(this.isReady,this),c=n.get("$timeout"),f=!1,h={$scope:r,$element:i,$attrs:o},!angular.isString(this.name))throw new Error("You must set the `name` property on any subclass of BaseAuthClickCtrl");a(this.run)&&s(this.run[this.run.length-1])?n.invoke(this.run,this,h):s(this.run)&&this.run(h),v=r.$watch(this.isReady,(y=this,function(e){if(e)return c(function(){return v(),f=!0,"function"==typeof y.onReady&&y.onReady(),t.up(y.events.ready)},500)})),p=function(){var e;try{return null!=(e=null!=(e=r.$eval(o[w.name]))?e.ignoreClick:void 0)&&e}catch(e){return!1}},l=function(e){return t.up(b.events.done,e)},d=function(e){return"window is closed"===e&&m(),t.up(_.events.error,e)},u=function(){return i.removeClass(x.cssClasses.inProgress)},g=function(){return i.addClass(A.cssClasses.inProgress),t.up(A.events.start)},C=A=x=_=b=w=this,m=function(){return t.up(C.events.stop)},i.click((E=this,function(e){if(f&&!p())return g(),E.doAuth(e).then(l,d).finally(u)}))}var o,a,s;return s=angular.isFunction,a=angular.isArray,i.prototype.events={start:"",stop:"",done:"",ready:"",error:""},i.prototype.cssClasses={inProgress:""},i.prototype.run=null,i.prototype.isReady=function(){return r.error("You must implement the isReady() method when extending BaseAuthClickCtrl.")},i.prototype.ignoreClick=function(){return!1},i.prototype.doAuth=function(e){return r.error("You must implement the doAuth() method when extending BaseAuthClickCtrl. Your doAuth() method must return a promise.")},(o=i).$inject=["$scope","$element","$attrs"],o};angular.module("ct.widgets").service("ctBaseAuthClickCtrl",["ctWidgetEventHelper","$injector","$log",t])}.call(this),function(){var e=function(e,t){function n(n,r,a){var s,c,u,l,d,p,f;if(this.ignoreClick=(s=this.ignoreClick,c=this,function(){return s.apply(c,arguments)}),l={$scope:n,$element:r,$attrs:a},!angular.isString(this.name))throw new Error("You must set the `name` property on any subclass of BaseDeAuthClickCtrl");i(this.run)&&o(this.run[this.run.length-1])?t.invoke(this.run,this,l):o(this.run)&&this.run(l),u=function(){var e;try{return null!=(e=null!=(e=n.$eval(a[p.name]))?e.ignoreClick:void 0)&&e}catch(e){return!1}},f=p=this,d=function(t){return e.up(f.events.click,t)},r.click(function(e){if(!u())return d()})}var r,i,o;return o=angular.isFunction,
i=angular.isArray,n.prototype.events={click:""},n.prototype.run=null,n.prototype.ignoreClick=function(){return!1},(r=n).$inject=["$scope","$element","$attrs"],r};angular.module("ct.widgets").service("ctBaseDeAuthClickCtrl",["ctWidgetEventHelper","$injector",e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t={}.hasOwnProperty,n="ctFbAuth",r=function(r,i){function o(){return this.doAuth=e(this.doAuth,this),this.isReady=e(this.isReady,this),o.__super__.constructor.apply(this,arguments)}return function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(o,r),o.prototype.events={ready:"fb:authorize:ready",start:"fb:authorize:start",done:"fb:authorize:done",error:"fb:authorize:error"},o.prototype.name=n,o.prototype.cssClasses={inProgress:"fb-auth-in-progress"},o.prototype.isReady=function(){return null!=this.fbSdkResponse},o.prototype.run=["Facebook","$q","$attrs","$scope","$window",function(e,t,r,i,o){var a,s,c;this.fb=e,this.$q=t,this.$window=o;try{(a=i.$eval(r[n])).scope&&(this.fbScope={scope:a.scope})}catch(e){}return s=i.$watch(this.fb.isReady,(c=this,function(e){if(e)return s(),c.fb.getLoginStatus(function(e){return c.fbSdkResponse=e})}))}],o.prototype.doAuth=function(){var e,t,n=this.$q.defer();return"connected"===this.fbSdkResponse.status?this.$q.when(this.fbSdkResponse):(e=function(e){return t.fbSdkResponse=e,n.resolve(e)},(t=this).$window.FB.login(e,this.fbScope),n.promise)},{restrict:"A",controller:o,require:n,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(n,["ctBaseAuthClickCtrl","Facebook",r])}.call(this),function(){var e={}.hasOwnProperty,t="ctFbDeAuth",n=function(n,r){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(i,n),i.prototype.events={click:"do:fb:deauthorize"},i.prototype.name=t,{restrict:"A",controller:i,require:t,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(t,["ctBaseDeAuthClickCtrl","Facebook",n])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t={}.hasOwnProperty,n="ctGoogleAuth",r=function(r,i){function o(){return this.doAuth=e(this.doAuth,this),this.isReady=e(this.isReady,this),o.__super__.constructor.apply(this,arguments)}return function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(o,r),o.prototype.events={ready:"google:authorize:ready",start:"google:authorize:start",stop:"google:authorize:stop",done:"google:authorize:done",error:"google:authorize:error"},o.prototype.cssClasses={inProgress:"google-auth-in-progress"},o.prototype.isReady=function(){return null!=window.gapi},o.prototype.name=n,o.prototype.run=["$q","$window","ctPopup","$attrs","$scope",function(e,t,n,r,o){if(this.$q=e,this.$scope=o,null==t.gapi)return i.loadAsync("//plus.google.com/js/client:plusone.js?onload=initialize","google-sdk")}],o.prototype.doAuth=function(e){var t=this.$scope.client.google_client_id,n=this.$scope.client.google_api_key,r=this.$q.defer(),t={client_id:t,scope:["https://www.googleapis.com/auth/plus.login","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"],immediate:!1,response_type:"code"};return gapi.client.setApiKey(n),gapi.auth.authorize(t,function(){return r.resolve(gapi.auth.getToken())}),r.promise},{restrict:"A",controller:o,require:n}};angular.module("ct.widgets").directive(n,["ctBaseAuthClickCtrl","ctScriptLoader",r])}.call(this),function(){var e={}.hasOwnProperty,t="ctGoogleDeAuth",n=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.prototype.events={click:"do:google:deauthorize"},r.prototype.name=t,{restrict:"A",controller:r,require:t,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(t,["ctBaseDeAuthClickCtrl",n])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t={}.hasOwnProperty,n="ctInstAuth",r=function(r){function i(){return this.doAuth=e(this.doAuth,this),this.isReady=e(this.isReady,this),i.__super__.constructor.apply(this,arguments)}return function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(i,r),i.prototype.events={ready:"inst:authorize:ready",start:"inst:authorize:start",done:"inst:authorize:done",error:"inst:authorize:error"},i.prototype.cssClasses={inProgress:"inst-auth-in-progress"},i.prototype.isReady=function(){return null!=this.popupUrl},i.prototype.name=n,i.prototype.run=["$q","$window","ctPopup","$attrs","$scope",function(e,t,r,i,o){var a,s;return this.$q=e,this.$window=t,this.popup=r,this.$attrs=i,this.$scope=o,a=this.$scope.$watch((s=this,function(){var e,t;try{e=s.$scope.$eval(s.$attrs[n])}catch(e){}if(angular.isString(null!=e?e.url:void 0)&&null!=e&&null!=(t=e.url)&&t.length)return s.popupUrl=e.url,a()}))}],i.prototype.doAuth=function(e){var t=this.$q.defer();return this.$window.instagramAuthCallback=function(e){return e=angular.isString(e)?JSON.parse(e):angular.copy(e),t.resolve(e)},this.popup.open({url:this.popupUrl,width:750,height:679}),t.promise},{restrict:"A",controller:i,require:n}};angular.module("ct.widgets").directive(n,["ctBaseAuthClickCtrl",r])}.call(this),function(){var e={}.hasOwnProperty,t="ctInstDeAuth",n=function(n,r){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(i,n),i.prototype.events={click:"do:inst:deauthorize"},i.prototype.name=t,{restrict:"A",controller:i,require:t,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(t,["ctBaseDeAuthClickCtrl",n])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t={}.hasOwnProperty,n="ctPinterestAuth",r=function(r){function i(){return this.doAuth=e(this.doAuth,this),this.isReady=e(this.isReady,this),i.__super__.constructor.apply(this,arguments)}return function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(i,r),i.prototype.events={ready:"pinterest:authorize:ready",start:"pinterest:authorize:start",stop:"pinterest:authorize:stop",done:"pinterest:authorize:done",error:"pinterest:authorize:error"},i.prototype.cssClasses={inProgress:"pinterest-auth-in-progress"},i.prototype.isReady=function(){return null!=this.popupUrl},i.prototype.name=n,i.prototype.run=["$q","$window","ctPopup","$attrs","$scope",function(e,t,r,i,o){var a,s;return this.$q=e,this.$window=t,this.popup=r,this.$attrs=i,this.$scope=o,a=this.$scope.$watch((s=this,function(){var e;try{e=s.$scope.$eval(s.$attrs[n])}catch(e){}if(angular.isString(null!=e?e.url:void 0)&&e.url.length)return s.popupUrl=e.url,a()}))}],i.prototype.doAuth=function(e){var t,n,r=this.$q.defer();return this.$window.pinterestAuthCallback=function(e){return e=angular.isString(e)?JSON.parse(e):angular.copy(e),r.resolve(e)},n=this.popup.open({url:this.popupUrl,width:750,height:679}),t=setInterval(function(){if(n.closed)return clearInterval(t),r.reject("window is closed")},333),r.promise},{restrict:"A",controller:i,require:n}};angular.module("ct.widgets").directive(n,["ctBaseAuthClickCtrl",r])}.call(this),function(){var e={}.hasOwnProperty,t="ctPinterestDeAuth",n=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.prototype.events={click:"do:pinterest:deauthorize"},r.prototype.name=t,{restrict:"A",controller:r,require:t,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(t,["ctBaseDeAuthClickCtrl",n])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t={}.hasOwnProperty,n="ctTwitAuth",r=function(r){function i(){return this.doAuth=e(this.doAuth,this),this.isReady=e(this.isReady,this),i.__super__.constructor.apply(this,arguments)}return function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(i,r),i.prototype.events={ready:"twit:authorize:ready",start:"twit:authorize:start",stop:"twit:authorize:stop",done:"twit:authorize:done",error:"twit:authorize:error"},i.prototype.cssClasses={inProgress:"twit-auth-in-progress"},i.prototype.isReady=function(){return null!=this.popupUrl},i.prototype.name=n,i.prototype.run=["$q","$window","ctPopup","$attrs","$scope",function(e,t,r,i,o){var a,s;return this.$q=e,this.$window=t,this.popup=r,this.$attrs=i,this.$scope=o,a=this.$scope.$watch((s=this,function(){var e,t;try{e=s.$scope.$eval(s.$attrs[n])}catch(e){}if(angular.isString(null!=e?e.url:void 0)&&null!=e&&null!=(t=e.url)&&t.length)return s.popupUrl=e.url,a()}))}],i.prototype.doAuth=function(e){var t,n,r=this.$q.defer();return this.$window.twitterAuthCallback=function(e){return e=angular.isString(e)?JSON.parse(e):angular.copy(e),r.resolve(e)},n=this.popup.open({url:this.popupUrl,width:750,height:679}),t=setInterval(function(){if(n.closed)return clearInterval(t),r.reject("window is closed")},333),r.promise},{restrict:"A",controller:i,require:n}};angular.module("ct.widgets").directive(n,["ctBaseAuthClickCtrl",r])}.call(this),function(){var e={}.hasOwnProperty,t="ctTwitDeAuth",n=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.prototype.events={click:"do:twit:deauthorize"},r.prototype.name=t,{restrict:"A",controller:r,require:t,link:function(e,t,n,r){}}};angular.module("ct.widgets").directive(t,["ctBaseDeAuthClickCtrl",n])}.call(this),function(){function e(e){var t,n;this.$log=e,this.generateShareUrl=(t=this.generateShareUrl,n=this,function(){return t.apply(n,arguments)})}var t,n;t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e.prototype.generateCode=function(){var e,n="";for(e=1;e<=8;++e)n+=t[Math.round(Math.random()*(t.length-1))];return n},e.prototype.generateShareUrl=function(){var e,t;if(null!=(t=null!=(e=window.widgetConf)&&null!=(t=e.client)?t.referralDomain:void 0))return{url:t+"?_cts_="+(t=this.generateCode()),code:t};this.$log.error("ctCodeGenerator requires widgetConf.client.referralDomain to be set!")},n=e,angular.module("ct.widgets").service("ctCodeGenerator",["$log",n])}.call(this),function(){var e="ctFbShare",t=function(t,n,r){return{restrict:"A",controller:"ctWidget",require:e,link:function(e,i,o,a){return i.bind("click",function(){var e=t.generateShareUrl(),i={};return r.isMobile()?(i.method="share",i.href=e.url):(i.method="send",i.link=e.url),n.ui(i,function(t){return null!=t&&t.success||angular.isArray(t)?a.event("fb:share:success",e):a.event("fb:share:failure")})})}}};angular.module("ct.widgets").directive(e,["ctCodeGenerator","Facebook","ctBrowserDetect",t])}.call(this),function(){var e="ctTwitterShare",t=function(t,n,r){return{restrict:"A",controller:"ctWidget",require:e,link:function(e,i,o,a){var s;return e.codeData=s=t.generateShareUrl(),e.shareText=e=r.get("text.twitter invite friends default tweet"),i.attr("href","https://twitter.com/intent/tweet?url="+s.url+"&text="+e),n.loadAsync("//platform.twitter.com/widgets.js","twitter-library").then(function(){return twttr.ready(function(e){return e.events.bind("tweet",function(e){return a.event("twitter:share:success",s)})})})}}};angular.module("ct.widgets").directive(e,["ctCodeGenerator","ctScriptLoader","ctText",t])}.call(this),function(){var e=function(e){return{restrict:"E",require:"ngModel",replace:!0,templateUrl:"/common/suggest/suggest.html",scope:{ngModel:"=",onSelectCallback:"&",url:"@",placeholder:"@",showProperty:"@",returnProperty:"@",limit:"@"},link:function(t,n,r,i){if(i)return t.$watch("ngModel",function(e){return t.suggest.label=null!=e?e:""}),t.suggest={placeholder:t.placeholder||"",label:""},t.getSuggests=function(n){return e.get(t.url+n,{params:{address:n,sensor:!1}}).then(function(e){return e.data.slice(0,null!=(e=t.limit)?e:1/0)})},t.onSelect=function(e,n,r){return e=t.returnProperty?e[t.returnProperty]:e,i.$setViewValue(e),t.onSelectCallback(e)}}}};angular.module("ct.widgets").directive("ctSuggest",["$http",e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(e,t){return e.substr(0,t)+"{{"+e.substr(t+2)},n=function(e,t){return e.substr(0,t)+"}}"+e.substr(t+1)},r=function(e,r,i){return r=t(e,r),r=n(r,i)},i=function(e){for(var t,n=[],i=0,o=e;i<o.length;)"#"===o.charAt(i)&&"{"===o.charAt(i+1)?0!==i&&"\\"===o.charAt(i-1)||(n.push(i),i+=2):"}"===o.charAt(i)&&0<n.length?(t=n.pop(),o=r(o,t,i),i+=2):i++;return o},o=function(t,n){function r(){this.get=e(this.get,this),this.load=e(this.load,this),this.textKeys={},this.compiled={}}return r.prototype.load=function(e){this.textKeys=e},r.prototype.get=function(e,r){var o,a,s;if(null==r&&(r=null),angular.isString(e))return(o=this.compiled[e])?((a=o(r)).length=o(r).length,a):(s=this.textKeys[e])?(s=i(s),this.compiled[e]=o=t(s),(a=o(r)).length=o(r).length,a):"";n.error("First argument passed to ctText::get must be a string")},new r};angular.module("ct.widgets").service("ctText",["$interpolate","$log",o])}.call(this),function(){var e=function(e,t,n){return null==(n=null==n?null:n)&&(n=function(e){return"#"+e}),function(r){return{restrict:"C",link:function(i,o,a){var s=r.get(t);if(null!=s)return o.css(e,n(s))}}}},t=function(e,t){var n=parseInt(e.slice(1),16),r=t<0?0:255,i=t<0?-1*t:t,e=n>>16,t=n>>8&255,n=255&n;return"#"+(16777216+65536*(Math.round((r-e)*i)+e)+256*(Math.round((r-t)*i)+t)+(Math.round((r-n)*i)+n)).toString(16).slice(1)},n=function(e,t,n){return{restrict:"A",link:function(r,i,o){var a,s,c,u=null!=o?o.ctThemeColor:void 0,l=null!=o?o.cssAttr:void 0;if(null!=l){if(null!=(a=t.get(u))){if(/^[0-9a-f]/i.test(a)&&(a="#"+a),c=null!=o?o.themeColorTemplate:void 0){c=c.replace(/{%/g,"{{").replace(/%}/g,"}}");try{s=e(c)({value:a})}catch(r){n.error("ct-theme-color directive unable to parse theme-color-template. Make sure the following template is valid: "+c)}}else s=a;return i.css(l,s)}}else n.error("ct-theme-color could not parse css-attr")}}},r=function(e){return{restrict:"AC",link:function(n,r,i){var o=e.get("buttonColor"),a=e.get("buttonTextColor");if(null!=o&&null!=a)return o="#"+o,a="#"+a,r.css({backgroundColor:o,color:a,borderColor:t(o,-.25)}),r.bind("mouseenter",function(){return r.css({backgroundColor:t(o,.15)})}),r.bind("mouseleave",function(){return r.css({backgroundColor:o})})}}};angular.module("ct.widgets").directive("ctThemeColor",["$interpolate","ctTheme","$log",n]).directive("ctHeaderColor",["ctTheme",e("background-color","headerColor")]).directive("ctHeaderTextColor",["ctTheme",e("color","headerTextColor")]).directive("ctLinkColor",["ctTheme",e("color","linkColor")]).directive("ctPointsColor",["ctTheme",e("color","pointsColor")]).directive("ctButton",["ctTheme",r])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}function t(){this.loadTheme=e(this.loadTheme,this),this.get=e(this.get,this),this.data={}}var n;t.prototype.get=function(e){var t;return null!=(t=this.data)?t[e]:void 0},t.prototype.loadTheme=function(e){return this.data=e},n=t,angular.module("ct.widgets").service("ctTheme",[function(){return new n}])}.call(this),function(){function e(){}var t;e.daysBetweenDates=function(e,t){return new TimeSpan(this.toJSDate(t)-this.toJSDate(e)).getDays()},e.daysFromNow=function(e){var t=new Date,t={day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()};return this.daysBetweenDates(t,e)},e.isInTheFuture=function(e){return-1===Date.today().compareTo(this.toJSDate(e))},e.isInThePast=function(e){return 1===Date.today().compareTo(this.toJSDate(e))},e.isToday=function(e){return 0===Date.today().compareTo(this.toJSDate(e))},e.toJSDate=function(e){var t,n={};for(t in e)n[t]="month"===t?parseInt(e[t],10)-1:e[t];return Date.today().set(n)},e.toDateString=function(e){return this.toJSDate(e).toString("MMMM d, yyyy")},e.toAbbreviatedDateString=function(e){return this.toJSDate(e).toString("MM/dd/yyyy")},e.toTimeNowString=function(){return(new Date).toString("HH:mm")},e.currentTimestamp=function(){return Math.floor((new Date).getTime()/1e3)},e.secondsToTimeObject=function(e){var t,n=e,r=Math.floor(n/86400);return n-=86400*r,n-=3600*(t=Math.floor(n/3600)),{days:r,hours:t,minutes:t=Math.floor(n/60),seconds:e=n-=60*t}},t=e,angular.module("ct.widgets").service("ctTimeHelper",[function(){return t}])}.call(this),function(){var e=function(){return{restrict:"E",templateUrl:"/common/toggletip/ct-info-toggletip.html",scope:{textKey:"@",direction:"@"},link:function(e){return e.direction=e.direction||"top"}}};angular.module("ct.widgets").directive("ctInfoToggletip",e)}.call(this),function(){var e=function(e,t){var n=Object.freeze(["top","right","bottom","left"]);return{restrict:"E",templateUrl:"/common/toggletip/ct-toggletip.html",replace:!0,transclude:!0,scope:{textKey:"@"},link:function(r,i,o){var a,s;return r.state={displayToggletip:!1},o.$observe("direction",function(e){return e=e?e.toLowerCase():"top",n.includes(e)?r.state.direction=e:(r.state.direction="top",t.warn(e+" is not a valid direction argument for ct-toggletip. Reverting to 'top'"))}),s=i.children("button").get(0),a=function(e){if(!s.isSameNode(e.target)&&!s.contains(e.target))return r.state.displayToggletip=!1},e.on("click",a),r.$on("$destroy",function(){return e.off("click",a)}),r.displayToggleTipBubble=function(){return r.state.displayToggletip=!0},r.handleKeyPress=function(e){if(27===e.key)return r.state.displayToggletip=!1}}}};angular.module("ct.widgets").directive("ctToggletip",["$document","$log",e])}.call(this),function(){var e=function(){return{restrict:"A",link:function(e,t,n){return e.$watch(n.ctVisible,function(){var r=e.$eval(n.ctVisible);return t.css("visibility",r?"visible":"hidden")})}}};angular.module("ct.widgets").directive("ctVisible",[e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}function t(t,n,r,i,o,a,s){var c,u,l,d,p;this.$element=n,this.$document=i,this.$window=o,this.eventHelper=a,this.getQueryParameter=e(this.getQueryParameter,this),this.loginEvent=e(this.loginEvent,this),this.resizeEvent=e(this.resizeEvent,this),this.show=e(this.show,this),this.hide=e(this.hide,this),this.visible=e(this.visible,this),this.invisible=e(this.invisible,this),this.out=e(this.out,this),this.in=e(this.in,this),this.on=e(this.on,this),this.down=e(this.down,this),this.up=e(this.up,this),this.event=e(this.event,this),this.getHeight=s((u=this,function(){var e,t=null!=(e=u.$document[0])&&null!=(t=e.body)?t.offsetHeight:void 0;return 0<t?t+5:0}),100),this.eventHelper.on("invisible",this.invisible),this.eventHelper.on("remove",this.hide),c=t.$watch("maxHeight",(l=this,function(e){if(e)return c(),l.$element.css("max-height",e+"px"),l.$element.css("overflow","scroll")})),t.$watch(function(){return p.getHeight()},(d=p=this,function(e,t){if(e!==t)return d.resizeEvent(e)}))}var n;t.prototype.event=function(e,t,n,r){return null==t&&(t=null),null==n&&(n="up"),null==r&&(r={}),this.eventHelper.event(e,t,n,r)},t.prototype.up=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"up",n)},t.prototype.down=function(e,t,n){return null==t&&(t=null),null==n&&(n={}),this.event(e,t,"down",n)},t.prototype.on=function(e,t){return this.eventHelper.on(e,t)},t.prototype.in=function(e,t){return this.eventHelper.in(e,t)},t.prototype.out=function(e,t){return this.eventHelper.out(e,t)},t.prototype.invisible=function(){return this.$element.css("visibility","hidden")},t.prototype.visible=function(){return this.$element.css("visibility","visible")},t.prototype.hide=function(){return this.$element.hide()},t.prototype.show=function(){return this.$element.show()},t.prototype.resizeEvent=function(e){return null==e&&(e=this.getHeight()),this.event("resize",{height:e})},t.prototype.loginEvent=function(e){return this.event("do:login",e)},t.prototype.logoutEvent=function(){return this.event("do:logout")},t.prototype.signupEvent=function(e){return this.event("do:signup",e)},t.prototype.getHostProperty=function(e,t){return this.on("host:response",function(n){if(e===n.prop)return t(null!=n?n.value:void 0)}),this.event("host:request",{prop:e})},t.prototype.getQueryParameter=function(e){var t,n=new RegExp(e+"=([^&/]+)"),e=decodeURIComponent(this.$window.location.href);return null!=(t=null!=e&&null!=(t=e.match(n))?t[1]:void 0)?t:null},n=t,angular.module("ct.widgets").controller("ctWidget",["$scope","$element","$attrs","$document","$window","ctWidgetEventHelper","debounce",n])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctEmailVerification",templateUrl:"/email_verification/v1/email_verification.html",scope:{},link:function(n,r,i,o){var a;return n.header=widgetConf.header,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.maxHeight=widgetConf.maxHeight,n.client=e,o.on("user:verifyEmail:success",function(){return n.loading=!1,n.success=!0,n.error=!1}),o.on("user:verifyEmail:error",function(){return n.loading=!1,n.error=!0,n.success=!1}),null!=(a=o.getQueryParameter("code"))?(n.loading=!0,o.event("do:user:verifyEmail",{code:a})):(t.error("[Email Verification Widget] Could not grab code from URL."),n.error=!0)}}};angular.module("ct.widgets").directive("ctEmailVerification",["ctClient","$log",e])}.call(this),function(){var e=function(e,t,n,r){var i={"welcome-no-invites":{action:"success",descTextKey:"text.household welcome title"},"welcome-one-invite":{action:"success",titleTextKey:"text.household welcome title",descTextKey:"text.household welcome desc single invite"},"welcome-multiple-invites":{action:"success",titleTextKey:"text.household welcome title",descTextKey:"text.household welcome desc"},"invite-sent":{action:"success",descTextKey:"text.household invite sent success"},"invites-sent":{action:"success",descTextKey:"text.household invites sent success"},joined:{action:"success",titleTextKey:"text.household joined title",descTextKey:"text.household joined desc"},"member-removed":{action:"success",descTextKey:"text.household member removed success"},"rename-error":{action:"error",titleTextKey:"error.household rename failure",descTextKey:"error.household rename failure description"},"deleted-group":{action:"success",descTextKey:"text.household deleted success"},"left-group":{action:"success",descTextKey:"text.household left success"}};return{restrict:"A",controller:"ctWidget",require:"ctHouseholdV2",templateUrl:"/household/v2/household.html",scope:{household:"=",pendingInvites:"=",declinedInvites:"="},link:function(o,a,s,c){var u,l;return o.header=widgetConf.header,o.maxHeight=widgetConf.maxHeight,o.widgetId=widgetConf.id,o.notifications=[],o.user=e,o.householdHistories=t,l=o.$watch("household",function(e){if(void 0!==e)return l(),e?o.householdHistories.setCurrentHousehold(e.id):void 0}),o.currentState="normal",o.memberToRemove=null,o.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},u=n.matchMedia("screen and (min-width: 620px)"),o.currentPage=u.matches?"ACTIVITIES":"POINTS",r.debug("Household widget initialized with "+(u.matches?"medium or wide":"narrow")+" display"),u.addEventListener("change",function(e){if(e.matches&&"POINTS"===o.currentPage)return o.currentPage="ACTIVITIES",r.debug("Household widget size increased to larger breakpoint. Updated to to act history page")}),o.cancelFullScreen=function(){return o.currentState="normal",o.memberToRemove=null,o.removeMemberError=null},o.$on("hh:leave-requested",function(e){return e.stopPropagation(),o.currentState=o.household.currentMemberIsHead?"confirm-delete":"confirm-leave"}),o.confirmLeaveHousehold=function(){return c.up("hh:management:leave",{householdId:o.household.id})},o.confirmRemoveMember=function(){return c.up("hh:management:remove-member",{memberId:o.memberToRemove.id,memberName:o.memberToRemove.name})},o.confirmDeleteHousehold=function(){return c.up("hh:management:delete",{householdId:o.household.id})},o.createHousehold=function(){return o.currentState="create-house"},o.clearHousehold=function(e){return e=angular.copy(i[e]),e.descTextKeyCtx={groupName:o.household.name},o.notifications.push(e),o.household=null,o.householdHistories.clearHousehold(),o.currentState="normal"},o.setHousehold=function(e){return o.household=e,o.currentState="normal",o.currentPage=u.matches?"ACTIVITIES":"POINTS",o.householdHistories.setCurrentHousehold(o.household.id)},c.on("hh:invitation:joined",function(e){return o.setHousehold(e),o.notifications.push(angular.copy(i.joined))}),c.on("hh:management:create:success",function(e){var t;return o.setHousehold(e),t=function(){switch(!1){case!!e.pendingInvites.length:return"welcome-no-invites";case 1!==e.pendingInvites.length:return"welcome-one-invite";default:return"welcome-multiple-invites"}}(),o.notifications.push(angular.copy(i[t]))}),c.on("hh:management:delete:success",function(e){return o.pendingInvites=e,o.clearHousehold("deleted-group")}),c.on("hh:management:leave:success",function(e){return o.pendingInvites=e,o.clearHousehold("left-group")}),o.$on("hh:invitation:respond",function(e,t){return e.stopPropagation(),c.event("hh:invitation:respond",t)}),o.$on("hh:load-history",function(e,t){return e.stopPropagation(),c.event("hh:load-history",t)}),c.on("hh:invitation:reject:done",function(e){return o.$broadcast("hh:invitation:respond:removed",e)}),c.on("hh:invitation:respond:error",function(e){return o.$broadcast("hh:invitation:respond:error",e)}),o.$on("hh:update-house-name",function(e,t){return e.stopPropagation(),t=angular.extend(t,{currentHousehold:o.household}),c.event("hh:management:rename",t)}),c.on("hh:management:rename:success",function(e){return o.household=e,o.$broadcast("hh:update-house-name:done")}),c.on("hh:management:rename:error",function(e){var t=angular.copy(i["rename-error"]);return t.descTextKeyCtx={errorResponse:e.message},o.notifications.push(t),o.$broadcast("hh:update-house-name:error")}),o.$on("hh:create-house",function(e,t){return e.stopPropagation(),c.event("hh:management:create",t)}),o.$on("hh:invite-members",function(e,t){return e.stopPropagation(),c.event("hh:management:invite",t)}),o.$on("hh:full-screen:cancel",function(e){return e.stopPropagation(),o.cancelFullScreen(),o.memberToRemove=null}),o.$on("hh:remove-member-requested",function(e,t){return e.stopPropagation(),o.memberToRemove={id:t.id,name:t.name,isActive:t.isActive},o.currentState="confirm-remove"}),o.$on("hh:display-invite-form",function(e){return e.stopPropagation(),o.currentState="invite-members"}),o.$on("hh:rescind-invite",function(e,t){return e.stopPropagation(),c.event("hh:management:rescind-invite",t)}),c.on("hh:management:invite:success",function(e){return o.currentState="normal",o.currentPage="MGMT",e=1===(null!=e?e.length:void 0)?"invite-sent":"invites-sent",o.notifications.push(angular.copy(i[e]))}),c.on("hh:management:invite:error",function(e){return r.debug("Error inviting members:",e),o.$broadcast("hh:invite-members:error",e)}),c.on("hh:management:create:error",function(e){return r.debug("Error creating household:",e),o.$broadcast("hh:create-house:error",e)}),c.on("hh:load-history:success",function(e){return o.$broadcast("hh:load-history:success",e)}),c.on("hh:management:remove-member:success",function(e){var t;return o.household.members=o.household.members.filter(function(t){return t.userId!==e.removedUserId}),o.cancelFullScreen(),(t=angular.copy(i["member-removed"])).descTextKeyCtx={memberName:e.removedMemberName},o.notifications.push(t)}),c.on("hh:management:remove-member:error",function(e){return o.removeMemberError=e.message}),c.on("hh:management:rescind-invite:success",function(e){return o.household.pendingInvites=o.household.pendingInvites.filter(function(t){return t.id!==e.id}),o.$broadcast("hh:rescind-invite:success")}),c.on("hh:management:rescind-invite:error",function(e){return o.$broadcast("hh:rescind-invite:error",e)})}}};angular.module("ct.widgets").directive("ctHouseholdV2",["ctUser","ctHouseholdHistories","$window","$log",e])}.call(this),function(){var e="ctInviteFriends",t=function(t,n,r,i,o,a){return{restrict:"A",templateUrl:"/invite_friends/v1/invite_friends.html",controller:"ctWidget",require:e,scope:{activities:"="},link:function(e,r,i,s){var c;return e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.user=t,e.client=n,e.activities,s.out("fb:share:success",function(){return e.fbShareComplete=!0}),s.out("twitter:share:success",function(){return e.twitterShareComplete=!0}),e.selectText=function(){return o.selectEl(r.find("pre")[0])},e.$watch("user.referral_stats",function(t){var n,r,i,o;if(null!=t&&angular.isObject(t)){for(n in e.totalPointsEarned=0,o=[],i=null!=t?t.channels:void 0)r=i[n],o.push(e.totalPointsEarned+=r.points_earned);return o}}),e.$watch("activities",function(t){if(0<(null!=t?t.length:void 0))return c(t),e.pointsPerInvite=t[0].num_points,e.pointsForSharing=t[1].num_points}),c=function(e){if(2!==(null!=e?e.length:void 0)&&a.error("ctInviteFriends widget did not receive proper activity data from /request"),"registration invite accepted"!==e[0].name&&a.error("ctInviteFriends widget did not get 'registration invite accepted' as first activity"),"invited friends"!==e[1].name)return a.error("ctInviteFriends widget did not get 'invited friends' as second activity")}}}};angular.module("ct.widgets").directive(e,["ctUser","ctClient","Facebook","ctBrowserDetect","ctSelectText","$log",t])}.call(this),function(){var e="ctInviteFriendsV2",t=function(t,n,r,i,o,a){return{restrict:"A",templateUrl:"/invite_friends/v2/invite_friends.html",controller:"ctWidget",require:e,scope:{activities:"="},link:function(e,r,i,s){var c;return e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.user=t,e.client=n,e.activities,s.out("fb:share:success",function(){return e.fbShareComplete=!0}),s.out("twitter:share:success",function(){return e.twitterShareComplete=!0}),e.selectText=function(){return o.selectEl(r.find("pre")[0])},e.$watch("user.referral_stats",function(t){var n,r,i,o;if(null!=t&&angular.isObject(t)){for(n in e.totalPointsEarned=0,o=[],i=null!=t?t.channels:void 0)r=i[n],o.push(e.totalPointsEarned+=r.points_earned);return o}}),e.$watch("activities",function(t){if(0<(null!=t?t.length:void 0))return c(t),e.pointsPerInvite=t[0].num_points,e.pointsForSharing=t[1].num_points}),c=function(e){if(2!==(null!=e?e.length:void 0)&&a.error("ctInviteFriends widget did not receive proper activity data from /request"),"registration invite accepted"!==e[0].name&&a.error("ctInviteFriends widget did not get 'registration invite accepted' as first activity"),"invited friends"!==e[1].name)return a.error("ctInviteFriends widget did not get 'invited friends' as second activity")}}}};angular.module("ct.widgets").directive(e,["ctUser","ctClient","Facebook","ctBrowserDetect","ctSelectText","$log",t])}.call(this),function(){var e=function(){return{restrict:"A",controller:"ctWidget",templateUrl:"/points_expiration/v1/points_expiration.html",
link:function(e,t,n,r){return e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},r.on("loaded:points-expiration",function(t){return e.pointsExpirationUserStatus=t})}}};angular.module("ct.widgets").directive("ctPointsExpiration",e)}.call(this),function(){var e=function(){return{restrict:"A",controller:"ctWidget",templateUrl:"/points_expiration/v2/points_expiration.html",link:function(e,t,n,r){return e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},r.on("loaded:points-expiration",function(t){return e.pointsExpirationUserStatus=t})}}};angular.module("ct.widgets").directive("ctPointsExpirationV2",e)}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctPollV2",templateUrl:"/poll/v2/poll.html",scope:{poll:"=",userResponse:"=",tierConf:"=",stats:"="},link:function(r,i,o,a){var s,c,u,l,d,p,f;return r.header=widgetConf.header,r.maxHeight=widgetConf.maxHeight,r.widgetId=widgetConf.id,r.getWidgetHeader=function(){var e;return null!=widgetConf.textKeyHeader?widgetConf.textKeyHeader:null!=(null!=(e=r.poll)?e.titleTextKey:void 0)?r.poll.titleTextKey:void 0},r.user=e,r.loading=!0,r.completed=!1,r.submitting=!1,r.getTierNameById=function(e){return null!=(e=t("filter")(r.tierConf,{id:e})[0])?e.name:void 0},r.getMinHeight=function(){var e;if(null!=(null!=(e=r.poll)?e.questions:void 0))return null!=r.poll.questions[0].imageLink?"includeImageHeight":"defaultHeight"},r.isPollDisabled=function(){if(null!=r.poll)return r.poll.isLockedByTier||r.poll.isLockedByPrereq||r.loading||r.submitting||r.completed},a.in("poll:submit:success",function(e){if(r.notification="success",r.submitting=!1,r.completed=!0,null!=e.points_awarded)return r.pointsEarned=e.points_awarded}),a.in("poll:submit:error",function(){return r.notification="error",r.submitting=!1}),r.onSubmit=function(){var e;return r.notification=null,r.submitting=!0,(e={})[r.question.questionId]=r.answer,r.notification="success",r.submitting=!1,r.completed=!0,r.poll.displayResults&&(r.stats.questionStats[r.question.questionId].answerResponses[r.answer.selectedAnswers[0]]++,r.stats.questionStats[r.question.questionId].totalResponses++,u()),a.event("do:poll:submit",{pollId:r.poll.questionnaireId,questionResponse:e})},f=r.$watchGroup(["poll","userResponse","stats"],function(e){var t;if(e[0]&&null!=e[1]&&null!=e[2])return f(),r.completed=!1,r.question=r.poll.questions[0],r.answer=null!=(e=r.userResponse)?e.answers[r.question.questionId]:void 0,null!=r.answer&&(r.completed=!0,r.poll.displayResults&&u()),null==r.answer&&(r.answer={selectedAnswers:[],responseText:null}),r.loading=!1,null!=r.poll.dateEnd&&(e=moment(new Date(r.poll.dateEnd)),r.pollEndDate=e.format("dddd, MMMM D, YYYY"),r.pollEndTime=e.format("h:mm A")),r.completed?r.pointsEarned=null!=(t=r.userResponse)?t.pointsAwarded:void 0:r.pointsEarned=r.poll.numPoints,i.addClass("ct-activity-"+(null!=(t=r.poll)?t.id:void 0))}),r.radioChoice={value:1===(null!=(p=r.answer)?p.selectedAnswers.length:void 0)?null!=(p=r.answer)?p.selectedAnswers[0]:void 0:null},r.$watch("radioChoice.value",function(e){var t;return null!=(t=r.answer)?t.selectedAnswers=null!=e?[e]:[]:void 0}),u=function(){var e=c(),t={labels:[],series:[]};return(e=e.sort(function(e,t){return e.answerId-t.answerId})).forEach(function(e){return t.labels.push(d(e.answerOption,e.percentage)),t.series.push(e.percentage)}),n.createChart("chartContainer",r.poll.chartType,t)},c=function(){var e,t,n,i,o,a,c,u=r.stats.questionStats[r.question.questionId].answerResponses,d=r.stats.questionStats[r.question.questionId].totalResponses,p=[],f=100;for(e in u)c=u[e],a={},t=l(e),o=s(t,c,d),c=Math.floor(o),a.answerId=e,a.answerOption=t,a.percentage=c,a.fraction=o%1,p.push(a),f-=c;for(p.sort(function(e,t){return t.fraction-e.fraction}),n=0,i=p.length;n<i&&(a=p[n],0<f);n++)a.percentage++,f--;return p},l=function(e){return r.question.answerOptions.filter(function(t){return t.answerId===parseInt(e,10)})[0]},s=function(e,t,n){return 0!==n?t/n*100:0},d=function(e,t){return r.poll.displayPercentages?e.answerTextKey+" "+t+"%":e.answerTextKey}}}};angular.module("ct.widgets").directive("ctPollV2",["ctUser","$filter","chartService",e])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctPurchaseHistory",templateUrl:"/purchase_history/v1/purchase_history.html",scope:{orders:"="},link:function(t,n,r,i){return t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.orderItems=[],t.user=e,t.expandOrder=function(e){if(e.expanded=!e.expanded,!t.orderItems[e.purchaseId])return i.event("get:order:details",e)},t.formatQuantity=function(e){return 1<e?"x "+e:""},t.pointCapReached=function(e){return e.totalPointsEarned!==e.totalPointsAwarded},i.on("return:order:details",function(e){var n;if(t.error=(null!=e&&null!=(n=e.data)?n.error:void 0)||null,200===(null!=e?e.status:void 0))return t.orderDetails=e.data,t.orderDetails.receiptDetails.forEach(function(e){var n=e.orderId||e.thirdPartyReceiptId;return t.orderItems[n]||(t.orderItems[n]=[]),t.orderItems[n]=t.orderItems[n].concat(e.items)})})}}};angular.module("ct.widgets").directive("ctPurchaseHistory",["ctUser","$timeout",e])}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctPurchaseHistoryV2",templateUrl:"/purchase_history/v2/purchase_history.html",scope:{orders:"=",tierConf:"=",commerceConf:"=",useCurrencyCodes:"="},link:function(t,r,i,o){return t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.orderItems=[],t.ACTION_TYPES={POINTS:1,PURCHASES:2},t.user=e,t.expandOrder=function(e){if(e.expanded=!e.expanded,!t.orderItems[e.purchaseId])return o.event("get:order:details",e)},t.formatQuantity=function(e){return 1<e?"x "+e:""},t.pointCapReached=function(e){return e.totalPointsEarned!==e.totalPointsAwarded},o.on("return:order:details",function(e){var n;if(t.error=(null!=e&&null!=(n=e.data)?n.error:void 0)||null,200===(null!=e?e.status:void 0))return t.orderDetails=e.data,t.orderDetails.receiptDetails.forEach(function(e){var n=e.orderId||e.thirdPartyReceiptId;return t.orderItems[n]||(t.orderItems[n]=[]),t.orderItems[n]=t.orderItems[n].concat(e.items)})}),t.isTierBySpendEnabled=function(){var e;return(null!=(e=t.tierConf)?e.action_type:void 0)===t.ACTION_TYPES.PURCHASES},t.getCurrencyCodeOrSymbol=function(e){return null==e&&(e=""),"1"===t.useCurrencyCodes?e+" ":"$"},t.getBaseCurrency=function(){var e;return"1"===t.useCurrencyCodes?(null!=(e=t.commerceConf)?e.baseCurrency.code:void 0)+" ":"$"},t.isPointsAndSpendSame=function(e){return e.totalPointsAwarded===n("truncateDecimal")(e.tierEligibleTotal,0)}}}};angular.module("ct.widgets").directive("ctPurchaseHistoryV2",["ctUser","$timeout","$filter",e])}.call(this),function(){var e=function(){return{restrict:"E",templateUrl:"/quiz/v2/questionnaire_pagination_bar.html",replace:!0,scope:{questionCount:"=",currentQuestion:"=",canGoToNextPage:"=",onSubmit:"&"},link:function(e){return e.pagination={current:parseInt(e.currentQuestion),max:parseInt(e.questionCount),canGoToNextPage:e.canGoToNextPage},e.isLastPage=function(){return e.pagination.current===e.pagination.max-1},e.toPreviousPage=function(){if(0<e.currentQuestion)return e.pagination.current--,e.setProgress()},e.toNextPage=function(){if(!e.isLastPage())return e.pagination.current++,e.setProgress()},e.setProgress=function(){return e.progressWidth=(e.pagination.current+1)/e.pagination.max*100+"%"},e.submit=function(){if(e.onSubmit||angular.isFunction(e.onSubmit))return e.onSubmit()},e.$watch("pagination.current",function(t){return e.currentQuestion=t}),e.setProgress()}}};angular.module("ct.widgets").directive("ctQuestionnairePaginationBar",[e])}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctQuizV2",templateUrl:"/quiz/v2/quiz.html",scope:{quiz:"=",userResponse:"=",tierConf:"="},link:function(r,i,o,a){var s,c,u,l;return r.header=widgetConf.header,r.maxHeight=widgetConf.maxHeight,r.widgetId=widgetConf.id,r.getWidgetHeader=function(){var e;return null!=widgetConf.textKeyHeader?widgetConf.textKeyHeader:null!=(null!=(e=r.quiz)?e.titleTextKey:void 0)?r.quiz.titleTextKey:void 0},r.user=e,r.loading=!0,r.completed=!1,r.submitting=!1,r.pagination={paginated:!1,currentPage:0},r.getTierNameById=function(e){return null!=(e=t("filter")(r.tierConf,{id:e})[0])?e.name:void 0},r.getMinHeight=function(){var e;if(null!=(null!=(e=r.quiz)?e.questions:void 0))return null!=r.quiz.questions[0].imageLink?"includeImageHeight":"defaultHeight"},r.isQuizDisabled=function(){if(null!=r.quiz)return r.quiz.isLockedByTier||r.quiz.isLockedByPrereq||r.loading||r.submitting||r.completed},a.in("quiz:submit:success",function(e){return e=n.useCamelCaseKeys(e),null!=(r.userResponse=e).pointsAwarded&&(r.pointsEarned=e.pointsAwarded),u(e),r.notification="success",r.submitting=!1,r.submitSuccess=!0,r.completed=!0}),u=function(e){var t,n;if(e)return r.passed=e.passed,r.numCorrect=e.numCorrect,n=r.quiz.questions.length,t=r.quiz.minCorrectAnswers===n,r.quizCompletedTextKeyContext={minCorrect:r.quiz.minCorrectAnswers,numCorrect:e.numCorrect,numQuestions:n},r.passed||(r.quizFailedGradeRequiredTextKey=0!=!t?"text.quiz completed failed requirements some correct":"text.quiz completed failed requirements all correct"),r.quizCompletedScoreTextKey=function(){switch(!1){case e.numCorrect!==n:return"text.quiz completed score all correct";case 0!==e.numCorrect:return"text.quiz completed score none correct";default:return"text.quiz completed score some correct"}}()},a.in("quiz:submit:error",function(){return r.notification="error",r.submitting=!1}),r.onSubmit=function(){return r.notification=null,r.submitting=!0,a.event("do:quiz:submit",{quizId:r.quiz.questionnaireId,questionResponses:r.answers})},l=r.$watchGroup(["quiz","userResponse"],function(e){var t,n,o,a,s;if(e[0]&&null!=e[1]){for(r.answers=r.userResponse.answers,c(),1===r.quiz.numQuestionsPerPage&&(r.pagination.paginated=!0),l(),r.completed=!1,a=[],t=function(e){var t,n;return null==(t=r.answers)[n=e.questionId]&&(t[n]={selectedAnswers:[],responseText:null}),a.push(e)},n=0,o=(s=null!=(e=null!=(e=r.quiz)?e.questions:void 0)?e:[]).length;n<o;n++)t(s[n]);return null!=r.userResponse.passed&&(r.completed=!0,r.submitSuccess=!0,r.pointsEarned=r.userResponse.passed?r.userResponse.pointsAwarded:0,u(r.userResponse)),r.loading=!1,r.questions=a,i.addClass("ct-activity-"+(null!=(e=r.quiz)?e.id:void 0))}}),c=function(){return 0===r.quiz.minCorrectAnswers?r.quiz.quizGradingTextKey=null:r.quiz.minCorrectAnswers===r.quiz.questions.length?r.quiz.quizGradingTextKey="label.quiz grading all correct":(r.quiz.quizGradingTextKey="label.quiz grading partial correct",r.quiz.quizGradingTextKeyContext={minCorrect:r.quiz.minCorrectAnswers,numQuestions:r.quiz.questions.length})},r.radioChoice={value:1===(null!=(s=r.answer)?s.selectedAnswers.length:void 0)?null!=(s=r.answer)?s.selectedAnswers[0]:void 0:null},r.isAnswered=function(e){return null!=(e=r.answers[e].selectedAnswers)?e.length:void 0},r.shouldDisplayResultsSummary=function(){return r.completed&&r.questions.length&&r.userResponse&&r.quiz.displayResults},r.$watch("answers",function(e){var t;return null!=(t=r.answer)?t.selectedAnswers=null!=e?[e]:[]:void 0})}}};angular.module("ct.widgets").directive("ctQuizV2",["ctUser","$filter","CaseService",e])}.call(this),function(){var e=function(){return{restrict:"E",templateUrl:"/quiz/v2/quiz_question_result.html",replace:!0,scope:{questions:"=",answers:"="},link:function(e){return e.isSelectedAnswer=function(t,n){return e.answers[t.questionId].selectedAnswers.includes(n.answerId)},e.isCorrectAnswer=function(t,n){return e.answers[t.questionId].correctAnswers.includes(n.answerId)},e.getQuestionClass=function(e){switch(e.questionType){case 4:return"question-type-radio";case 2:return"question-type-checkbox";default:throw new Error(e.questionType+" is an invalid question type value for quizzes")}},e.getAnswerOptionIconClasses=function(t,n){var r=e.isCorrectAnswer(t,n),n=e.isSelectedAnswer(t,n);return{"fa-check":r&&n,"fa-arrow-right":r&&!n,"fa-ban":!r&&n,fa:r||n,"answer-option-icon--default-icon":!r&&!n}},e.getAnswerOptionIconAriaLabel=function(t,n){var r=e.isCorrectAnswer(t,n),n=e.isSelectedAnswer(t,n);switch(!1){case!(r&&n):return"selected correctly";case!(!r&&n):return"selected incorrectly";case!(r&&!n):return"unselected correct answer";default:return""}},e.getAnswerOptionTextClasses=function(t,n){var r=e.isCorrectAnswer(t,n),n=e.isSelectedAnswer(t,n);return{"answer-option--selected-correct":r&&n,"answer-option--unselected-correct":r&&!n,"answer-option--selected-incorrect":!r&&n,"answer-option--incorrect":!r}}}}};angular.module("ct.widgets").directive("ctQuizQuestionResults",[e])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=["UNITED STATES"],n=function(e){return e.filter(function(e){if(0<t.length)return t[0].toUpperCase()!==e.country_name.toUpperCase()})},r="ctRedeem",i=function(t,i,o,a,s,c){return{restrict:"A",controller:"ctWidget",require:r,templateUrl:"/redeem/v1/redeem.html",scope:{reward:"="},link:function(r,u,l,d){var p,f,h=r.reward;r.user=t,r.location=i,r.client=o,r.step=1,r.isVerifying=!1,r.isValid=!0,r.isVerified=!1,r.isUsAddress=!0,r.isChanged=function(e){var t,n,i;if(null!=r.suggestedAddress)for(t=0,n=(i=r.suggestedAddress.changed_fields).length;t<n;t++)if(i[t]===e)return!0},r.updateUsAddress=function(){var e;if(66===r.client.client_id?r.isUsAddress=!0:r.isUsAddress=!r.isUsAddress,null!=(null!=(e=r.user.ship_info)?e.ship_address:void 0))return r.user.ship_info.ship_address.country=r.isUsAddress?"US":""},p=function(){var e,t,n,i;if(h=r.reward,t=r.vals,e=t.color,n=t.size,t.agreeTos,t.quantity,h.hasSizes()&&h.hasColors()){if(!e||!n)return;i=h.filterVariations(function(t){return t.color()===e&&t.size()===n})[0]}else if(h.hasSizes()){if(!n)return;i=h.filterVariations(function(e){return e.size()===n})[0]}else if(h.hasColors()){if(!e)return;i=h.filterVariations(function(t){return t.color()===e})[0]}else i=h.filterVariations(function(){return!0})[0];return i},r.firstStep=function(){return c.scrollTo(0,0),r.step=1},r.nextStep=function(){if(c.scrollTo(0,0),4!==r.step)return r.step+=1},r.prevStep=function(){if(c.scrollTo(0,0),1!==r.step)return--r.step},r.lastStep=function(){return c.scrollTo(0,0),r.step=4},r.moveToVerification=function(){return c.scrollTo(0,0),r.step=3},r.close=function(){return d.up("redeem:done")},r.$watch("reward.img_url",function(e){return r.mainImageUrl=e}),r.setMainImage=function(e){return r.mainImageUrl=e},d.on("verify:address:error",function(e){r.address.ship_address=r.user.ship_info.ship_address,r.originalAddress=r.user.ship_info,r.isValid=!0,r.isVerified=!1,r.isVerifying=!1,r.nextStep()}),d.on("verify:address:success",function(e){r.originalAddress=e.addresses[0],r.suggestedAddress=e.addresses[1],r.isValid=r.originalAddress.isValid,r.isVerified=!0,r.user.useOriginalAddress="2",r.address.ship_address=(r.isValid?r.originalAddress:r.suggestedAddress).ship_address,r.isVerifying=!1,r.nextStep()}),d.on("redeem:error",function(e){var t,n,i,o,a,c;if(r.redeemErrorInfo=null!=e&&null!=(t=e.response)&&null!=(n=t.data)&&null!=(i=n.exception)?i.properties:void 0,c=null!=e&&null!=(c=e.response)&&null!=(a=c.data)&&null!=(o=a.exception)?o.model:void 0,o=null!=(null!=(a=r.redeemErrorInfo)?a.order_quantity:void 0)?null!=c?c.max_quantity:void 0:null,r.countryError=null!=(null!=(a=r.redeemErrorInfo)?a.country:void 0)&&"country_restricted"===r.redeemErrorInfo.country?null!=c?c.country_error:void 0:null,r.redeemError=!(!r.redeemErrorInfo||null!=o||null!=(null!=(c=r.redeemErrorInfo)?c.country:void 0))&&e.message,r.maxQuantityError=0==(null==o)&&("sold_out"===r.redeemErrorInfo.order_quantity?s.get("error.reward sold out"):0===o?s.get("error.redeem limit reached"):s.get("error.redeem limit exceeded",{number:o,plural:1===o?"":"s"})),r.maxQuantityError)return r.firstStep()}),d.on("redeem:success",function(e){return r.redeemError=!1,r.redeemErrorInfo=null,r.successType=e.type,"coupon"===e.type&&(r.urlCouponTypeId=2,r.textCouponTypeId=1,r.couponTypes=e.codesTypeId,r.couponCodes=e.codes,e.codeExpireDates[0]&&(r.couponCodesExpireDate=a.toAbbreviatedDateString(e.codeExpireDates[0]))),"download"===e.type&&(r.downloadUrl=e.url),r.lastStep()}),r.doRedeem=function(){var e;return null==r.address&&(r.address={}),null==(e=r.address).ship_address&&(e.ship_address=null),r.address.phone_number=(null!=(e=r.user.ship_info)?e.phone_number:void 0)||null,r.reward.is_shipping_required&&(r.isUsAddress?(r.address.ship_address.address_is_verified=r.isVerified,r.address.ship_address.country="US"):(r.address.ship_address=null!=(e=r.user.ship_info)?e.ship_address:void 0,r.address.ship_address.address_is_verified=!1,r.address.ship_address.country=r.user.ship_info.ship_address.country),r.address.ship_address.full_name=r.address.ship_address.first_name+" "+r.address.ship_address.last_name),r.reward.isDownload()&&(r.vals.quantity=1),d.up("do:redeem",{reward:r.reward,selectedVariation:p(),quantity:r.vals.quantity,shipInfo:r.address})},r.doVerification=function(){var e;return r.isVerifying=!0,r.address=Object.create(r.user.ship_info),null==(e=r.user.ship_info.ship_address).country&&(e.country="US"),null==(e=r.user.ship_info.ship_address).street_address_2&&(e.street_address_2=""),d.up("do:verify:address",{shipInfo:r.user.ship_info})},r.addressChanged=function(){return"1"===r.user.useOriginalAddress?(r.isVerified=!1,r.address.ship_address=r.originalAddress.ship_address):(r.isVerified=!0,r.address.ship_address=r.suggestedAddress.ship_address)},f=r.$watch("reward",function(i){var o,a,s,c,u,l;if(angular.isObject(i)){if(r.vals={},document.getElementById("redeem").parentElement.parentElement.classList.add("ct-reward-"+r.reward.variations[0].id),f(),i.minimum_level)for(s=a=0,c=(u=r.client.fan_levels).length;a<c;s=++a)+u[s].id===i.minimum_level&&(r.minimumFanLevel=r.client.fan_levels[s]);if(r.isLockedByActivity=i.isPreReqLocked(),r.isLockedByLevel=i.showAsLocked(),r.isLocked=r.isLockedByActivity||r.isLockedByLevel,r.locker=function(){switch(!1){case!(r.isLockedByActivity&&r.isLockedByLevel):return"multiple";case!r.isLockedByActivity:return"activity";case!r.isLockedByLevel:return"level"}}(),r.state=function(){switch(!1){case!i.hasEnded():return"ended";case!i.isSoldOut():return"sold-out";case!!t.email_is_verified:return"email-not-verified";case!i.userHasExceededRedeemLimit():return"exceeded-limit";case!r.isLocked:return"locked";case!(i.minAge()&&null==t.age()):return"locked-age";case!((o=i.minAge())&&t.age()<o):return"underage";case!(t.points()<i.cost()):return"not-enough-points";case!i.isFrequencyCapRestrictiveThanCategoryCap():return"exceeded-frequency-cap";case!i.isCategoryCapRestrictiveThanFrequencyCap():return"group-point-cap-reached";case!i.isCategoryCapEndSameAsFrequencyCap():return"group-point-and-frequency-cap-reached";case!i.userHasExceededFrequencyCap():return"exceeded-frequency-cap";case!i.hasCategoryPointCapReached():return"group-point-cap-reached";case!(i.getCategoryCapBalance()<i.cost()):return"not-enough-points-in-category";default:return"allow-redemption"}}(),null!=(null!=(l=r.user.ship_info)?l.ship_address:void 0)&&(r.address=r.user.ship_info,r.originalAddress=r.user.ship_info,r.isVerified=!!r.address.ship_address.address_is_verified,r.isUsAddress="US"===r.address.ship_address.country),null!=r.location&&(r.location.countries=n(r.location.countries).map(function(e){return e.country_name=e.country_name.toUpperCase(),e})),r.reward.is_shipping_required&&r.client.is_us_allowed||(r.isUsAddress=!1),r.updateQuantity=function(){var n,o=p();if(o)return n=i.redeemableQuantity(o,t),r.selectQuantity=n,r.vals.quantity=n[0],(o=r.vals.quantity)&&e.call(n,o)<0?r.vals.quantity=null:void 0},"email-not-verified"===r.state)return r.lastEmailAddress=t.lastEmailAddressVerifyEmailWasSentTo(),r.resendVerificationEmail=function(e){return d.up("do:resend:verification:email",{oldEmailAddress:t.lastEmailAddressVerifyEmailWasSentTo(),newEmailAddress:e})},d.on("resend:verification:email:success",function(){return r.resendEmailError=!1,r.resendEmailSuccess=!0}),d.on("resend:verification:email:error",function(e){return r.resendEmailError=e.message,r.resendEmailSuccess=!1})}}),r.$watch("user.ship_info.ship_address.postal_code",function(e){if(r.isUsAddress)return/^\d{5}$/.test(e)?d.event("do:redeem:checkZipCode",{zipcode:e}):void 0}),d.in("redeem:checkZipCode:success",function(e){return r.user.ship_info.ship_address.city=e.City,r.user.ship_info.ship_address.state=e.StateProvinceCode,r.postal_code_error=null}),d.in("redeem:checkZipCode:error",function(e){return r.postal_code_error=e.msg})}}};angular.module("ct.widgets").directive(r,["ctUser","ctLocation","ctClient","ctTimeHelper","ctText","$window",i])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=["UNITED STATES"],n=function(e){return e.filter(function(e){if(0<t.length)return t[0].toUpperCase()!==e.country_name.toUpperCase()})},r="ctRedeemV2",i=function(t,i,o,a,s,c){return{restrict:"A",controller:"ctWidget",require:r,templateUrl:"/redeem/v2/redeem.html",scope:{reward:"="},link:function(r,u,l,d){var p,f,h=r.reward;r.user=t,r.location=i,r.client=o,r.step=1,r.isVerifying=!1,r.isValid=!0,r.isVerified=!1,r.isUsAddress=!0,r.isChanged=function(e){var t,n,i;if(null!=r.suggestedAddress)for(t=0,n=(i=r.suggestedAddress.changed_fields).length;t<n;t++)if(i[t]===e)return!0},r.updateUsAddress=function(){var e;if(66===r.client.client_id?r.isUsAddress=!0:r.isUsAddress=!r.isUsAddress,null!=(null!=(e=r.user.ship_info)?e.ship_address:void 0))return r.user.ship_info.ship_address.country=r.isUsAddress?"US":""},p=function(){var e,t,n,i;if(h=r.reward,t=r.vals,e=t.color,n=t.size,t.agreeTos,t.quantity,h.hasSizes()&&h.hasColors()){if(!e||!n)return;i=h.filterVariations(function(t){return t.color()===e&&t.size()===n})[0]}else if(h.hasSizes()){if(!n)return;i=h.filterVariations(function(e){return e.size()===n})[0]}else if(h.hasColors()){if(!e)return;i=h.filterVariations(function(t){return t.color()===e})[0]}else i=h.filterVariations(function(){return!0})[0];return i},r.firstStep=function(){return r.step=1},r.nextStep=function(){if(4!==r.step)return r.step+=1},r.prevStep=function(){if(1!==r.step)return--r.step},r.lastStep=function(){return r.step=4},r.moveToVerification=function(){return r.step=3},r.close=function(){return d.up("redeem:done")},r.$watch("reward.img_url",function(e){return r.mainImageUrl=e}),r.setMainImage=function(e){return r.mainImageUrl=e},d.on("verify:address:error",function(e){r.address.ship_address=r.user.ship_info.ship_address,r.originalAddress=r.user.ship_info,r.isValid=!0,r.isVerified=!1,r.isVerifying=!1,r.nextStep()}),d.on("verify:address:success",function(e){r.originalAddress=e.addresses[0],r.suggestedAddress=e.addresses[1],r.isValid=r.originalAddress.isValid,r.isVerified=!0,r.user.useOriginalAddress="2",r.address.ship_address=(r.isValid?r.originalAddress:r.suggestedAddress).ship_address,r.isVerifying=!1,r.nextStep()}),d.on("redeem:error",function(e){var t,n,i,o,a,c;if(r.redeemErrorInfo=null!=e&&null!=(t=e.response)&&null!=(n=t.data)&&null!=(i=n.exception)?i.properties:void 0,c=null!=e&&null!=(c=e.response)&&null!=(a=c.data)&&null!=(o=a.exception)?o.model:void 0,o=null!=(null!=(a=r.redeemErrorInfo)?a.order_quantity:void 0)?null!=c?c.max_quantity:void 0:null,r.countryError=null!=(null!=(a=r.redeemErrorInfo)?a.country:void 0)&&"country_restricted"===r.redeemErrorInfo.country?null!=c?c.country_error:void 0:null,r.redeemError=!(!r.redeemErrorInfo||null!=o||null!=(null!=(c=r.redeemErrorInfo)?c.country:void 0))&&e.message,r.maxQuantityError=0==(null==o)&&("sold_out"===r.redeemErrorInfo.order_quantity?s.get("error.reward sold out"):0===o?s.get("error.redeem limit reached"):s.get("error.redeem limit exceeded",{number:o,plural:1===o?"":"s"})),r.maxQuantityError)return r.firstStep()}),d.on("redeem:success",function(e){return r.redeemError=!1,r.redeemErrorInfo=null,r.successType=e.type,"coupon"===e.type&&(r.urlCouponTypeId=2,r.textCouponTypeId=1,r.couponTypes=e.codesTypeId,r.couponCodes=e.codes,e.codeExpireDates[0]&&(r.couponCodesExpireDate=a.toAbbreviatedDateString(e.codeExpireDates[0]))),"download"===e.type&&(r.downloadUrl=e.url),r.lastStep()}),r.doRedeem=function(){var e;return null==r.address&&(r.address={}),null==(e=r.address).ship_address&&(e.ship_address=null),r.address.phone_number=(null!=(e=r.user.ship_info)?e.phone_number:void 0)||null,r.reward.is_shipping_required&&(r.isUsAddress?(r.address.ship_address.address_is_verified=r.isVerified,r.address.ship_address.country="US"):(r.address.ship_address=null!=(e=r.user.ship_info)?e.ship_address:void 0,r.address.ship_address.address_is_verified=!1,r.address.ship_address.country=r.user.ship_info.ship_address.country),r.address.ship_address.full_name=r.address.ship_address.first_name+" "+r.address.ship_address.last_name),r.reward.isDownload()&&(r.vals.quantity=1),d.up("do:redeem",{reward:r.reward,selectedVariation:p(),quantity:r.vals.quantity,shipInfo:r.address})},r.doVerification=function(){var e;return r.isVerifying=!0,r.address=Object.create(r.user.ship_info),null==(e=r.user.ship_info.ship_address).country&&(e.country="US"),null==(e=r.user.ship_info.ship_address).street_address_2&&(e.street_address_2=""),d.up("do:verify:address",{shipInfo:r.user.ship_info})},r.addressChanged=function(){return"1"===r.user.useOriginalAddress?(r.isVerified=!1,r.address.ship_address=r.originalAddress.ship_address):(r.isVerified=!0,r.address.ship_address=r.suggestedAddress.ship_address)},f=r.$watch("reward",function(i){var o,a,s,c,u,l;if(angular.isObject(i)){if(r.vals={},document.getElementById("redeem-v2").parentElement.parentElement.classList.add("ct-reward-"+r.reward.variations[0].id),f(),i.minimum_level)for(s=a=0,c=(u=r.client.fan_levels).length;a<c;s=++a)+u[s].id===i.minimum_level&&(r.minimumFanLevel=r.client.fan_levels[s]);if(r.isLockedByActivity=i.isPreReqLocked(),r.isLockedByLevel=i.showAsLocked(),r.isLocked=r.isLockedByActivity||r.isLockedByLevel,r.locker=function(){switch(!1){case!(r.isLockedByActivity&&r.isLockedByLevel):return"multiple";case!r.isLockedByActivity:return"activity";case!r.isLockedByLevel:return"level"}}(),r.state=function(){switch(!1){case!i.hasEnded():return"ended";case!i.isSoldOut():return"sold-out";case!!t.email_is_verified:return"email-not-verified";case!i.userHasExceededRedeemLimit():return"exceeded-limit";case!r.isLocked:return"locked";case!(i.minAge()&&null==t.age()):return"locked-age";case!((o=i.minAge())&&t.age()<o):return"underage";case!(t.points()<i.cost()):return"not-enough-points";case!i.isFrequencyCapRestrictiveThanCategoryCap():return"exceeded-frequency-cap";case!i.isCategoryCapRestrictiveThanFrequencyCap():return"group-point-cap-reached";case!i.isCategoryCapEndSameAsFrequencyCap():return"group-point-and-frequency-cap-reached";case!i.userHasExceededFrequencyCap():return"exceeded-frequency-cap";case!i.hasCategoryPointCapReached():return"group-point-cap-reached";case!(i.getCategoryCapBalance()<i.cost()):return"not-enough-points-in-category";default:return"allow-redemption"}}(),null!=(null!=(l=r.user.ship_info)?l.ship_address:void 0)&&(r.address=r.user.ship_info,r.originalAddress=r.user.ship_info,r.isVerified=!!r.address.ship_address.address_is_verified,r.isUsAddress="US"===r.address.ship_address.country),null!=r.location&&(r.location.countries=n(r.location.countries).map(function(e){return e.country_name=e.country_name.toUpperCase(),e})),r.reward.is_shipping_required&&r.client.is_us_allowed||(r.isUsAddress=!1),r.updateQuantity=function(){var n,o=p();if(o)return n=i.redeemableQuantity(o,t),r.selectQuantity=n,r.vals.quantity=n[0],(o=r.vals.quantity)&&e.call(n,o)<0?r.vals.quantity=null:void 0},"email-not-verified"===r.state)return r.lastEmailAddress=t.lastEmailAddressVerifyEmailWasSentTo(),r.resendVerificationEmail=function(e){return d.up("do:resend:verification:email",{oldEmailAddress:t.lastEmailAddressVerifyEmailWasSentTo(),newEmailAddress:e})},d.on("resend:verification:email:success",function(){return r.resendEmailError=!1,r.resendEmailSuccess=!0}),d.on("resend:verification:email:error",function(e){return r.resendEmailError=e.message,r.resendEmailSuccess=!1})}}),r.$watch("user.ship_info.ship_address.postal_code",function(e){if(r.isUsAddress)return/^\d{5}$/.test(e)?d.event("do:redeem:checkZipCode",{zipcode:e}):void 0}),r.$watch("step",function(e){if(c.scrollTo(0,0),2===e)return r.redeemError=!1,r.redeemErrorInfo=null}),d.in("redeem:checkZipCode:success",function(e){return r.user.ship_info.ship_address.city=e.City,r.user.ship_info.ship_address.state=e.StateProvinceCode,r.postal_code_error=null}),d.in("redeem:checkZipCode:error",function(e){return r.postal_code_error=e.msg})}}};angular.module("ct.widgets").directive(r,["ctUser","ctLocation","ctClient","ctTimeHelper","ctText","$window",i])}.call(this),function(){var e=function(e){return{restrict:"A",controller:"ctWidget",require:"ctResetPassword",templateUrl:"/reset_password/v1/reset_password.html",scope:{},link:function(t,n,r,i){var o;return t.header=widgetConf.header,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.maxHeight=widgetConf.maxHeight,null==(o=i.getQueryParameter("code"))&&e.error("[Reset Password Widget] Could not grab code from URL."),i.on("user:resetPassword:success",function(e){return t.resettingPassword=!1,t.resetPasswordSuccess=!0}),i.on("user:resetPassword:error",function(n){var r;return t.resetPasswordErrors=(null!=(r=n.exception)?r.properties:void 0)||{},t.resettingPassword=!1,e.error("[Reset Password Widget] Could not reset password:",n)}),t.resetPassword=function(){return t.resettingPassword=!0,t.resetPasswordErrors={},i.event("do:user:resetPassword",{code:o,password:t.password})},t.close=function(){return i.event("modal:close")}}}};angular.module("ct.widgets").directive("ctResetPassword",["$log",e])}.call(this),function(){function e(e){var t,n;this.ctText=e,this.getTitle=(t=this.getTitle,n=this,function(){return t.apply(n,arguments)})}var t,n;e.prototype.getTitle=function(e){return null!=e.coupon_value?e.title+" "+e.coupon_value:e.title},t=e,n=function(e,n){return{restrict:"A",controller:"ctWidget",templateUrl:"/reward_history/v1/reward_history.html",scope:{rewards:"="},link:function(r,i,o,a){var s=new t(e);return r.header=widgetConf.header,r.maxHeight=widgetConf.maxHeight,r.widgetId=widgetConf.id,r.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},r.user=n,r.downloadReward=function(e){return a.up("reward:download",e)},r.getTitle=s.getTitle}}},angular.module("ct.widgets").directive("ctRewardHistory",["ctText","ctUser",n])}.call(this),function(){function e(e){var t,n;this.ctText=e,this.getTitle=(t=this.getTitle,n=this,function(){return t.apply(n,arguments)})}var t,n,r;t="ctRewardHistoryV2",e.prototype.getTitle=function(e){return null!=e.coupon_value?e.title+" "+e.coupon_value:e.title},n=e,r=function(e,r){return{restrict:"A",controller:"ctWidget",require:t,templateUrl:"/reward_history/v2/reward_history.html",scope:{rewards:"="},link:function(t,i,o,a){var s=new n(e);return t.header=widgetConf.header,t.maxHeight=widgetConf.maxHeight,t.widgetId=widgetConf.id,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},t.user=r,t.downloadReward=function(e){return a.up("reward:download",e)},t.getTitle=s.getTitle}}},angular.module("ct.widgets").directive(t,["ctText","ctUser",r])
}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",templateUrl:"/reward_list/v1/reward_list.html",scope:{rewards:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.client=e,n.user=t,n.showRedeemable=!1,n.redeemableOptions=[{label:"All",value:!1},{label:"Redeemable",value:!0}],n.rewardState=function(e){var t;switch(!1){case!e.hasEnded():return"ended";case!e.isSoldOut():return"sold-out";case!!n.user.email_is_verified:return"email-not-verified";case!e.userHasExceededRedeemLimit():return"exceeded-limit";case!n.isRewardLocked(e):return"locked";case!(e.minAge()&&null==n.user.age()):return"locked-age";case!((t=e.minAge())&&n.user.age()<t):return"underage";case!(n.user.points()<e.cost()):return"not-enough-points";case!e.isFrequencyCapRestrictiveThanCategoryCap():return"exceeded-frequency-cap";case!e.isCategoryCapRestrictiveThanFrequencyCap():return"group-point-cap-reached";case!e.isCategoryCapEndSameAsFrequencyCap():return"group-point-and-frequency-cap-reached";case!e.userHasExceededFrequencyCap():return"exceeded-frequency-cap";case!e.hasCategoryPointCapReached():return"group-point-cap-reached";case!(e.getCategoryCapBalance()<e.cost()):return"not-enough-points-in-category";default:return"allow-redemption"}},n.isRewardLocked=function(e){return e.isPreReqLocked()||e.showAsLocked()},n.fadeRewardImage=function(e){return e.isSoldOut()||e.userHasExceededRedeemLimit()||e.userHasExceededFrequencyCap()||e.hasCategoryPointCapReached()},n.rewardClicked=function(e){return o.up("reward:clicked",e)},n.redeemable=function(e){return e.num_points<=n.user.redeemable_points}}}};angular.module("ct.widgets").directive("ctRewardList",["ctClient","ctUser",e])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",templateUrl:"/reward_list/v2/reward_list.html",scope:{rewards:"="},link:function(n,r,i,o){return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.client=e,n.user=t,n.showRedeemable=!1,n.redeemableOptions=[{label:"All",value:!1},{label:"Redeemable",value:!0}],n.rewardState=function(e){var t;switch(!1){case!e.hasEnded():return"ended";case!e.isSoldOut():return"sold-out";case!!n.user.email_is_verified:return"email-not-verified";case!e.userHasExceededRedeemLimit():return"exceeded-limit";case!n.isRewardLocked(e):return"locked";case!(e.minAge()&&null==n.user.age()):return"locked-age";case!((t=e.minAge())&&n.user.age()<t):return"underage";case!(n.user.points()<e.cost()):return"not-enough-points";case!e.isFrequencyCapRestrictiveThanCategoryCap():return"exceeded-frequency-cap";case!e.isCategoryCapRestrictiveThanFrequencyCap():return"group-point-cap-reached";case!e.isCategoryCapEndSameAsFrequencyCap():return"group-point-and-frequency-cap-reached";case!e.userHasExceededFrequencyCap():return"exceeded-frequency-cap";case!e.hasCategoryPointCapReached():return"group-point-cap-reached";case!(e.getCategoryCapBalance()<e.cost()):return"not-enough-points-in-category";default:return"allow-redemption"}},n.isRewardLocked=function(e){return e.isPreReqLocked()||e.showAsLocked()},n.fadeRewardImage=function(e){return e.isSoldOut()||e.userHasExceededRedeemLimit()||e.userHasExceededFrequencyCap()||e.hasCategoryPointCapReached()},n.rewardClicked=function(e){return o.up("reward:clicked",e)},n.redeemable=function(e){return e.num_points<=n.user.redeemable_points}}}};angular.module("ct.widgets").directive("ctRewardListV2",["ctClient","ctUser",e])}.call(this),function(){var e="ctSocialConnect",t=function(t,n,r,i){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/social_connect/v1/social_connect.html",scope:{pointValues:"="},link:function(e,r,i,o){var a;return e.header=widgetConf.header,e.maxHeight=widgetConf.maxHeight,e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.user=t,e.client=n,a=null,o.out(["fb:authorize:start"],function(e,n){return a=t.facebook_connected}),o.on(["fb:connect:success","fb:connect:error","fb:disconnect:success","fb:disconnect:error"],function(){return e.fbLoading=!1}),o.on(["fb:connect:start","do:fb:deauthorize"],function(){return e.fbLoading=!0}),o.on(["twit:connect:start","do:twit:deauthorize"],function(){return e.twitLoading=!0}),o.on(["twit:connect:success","twit:connect:error","twit:disconnect:success","twit:disconnect:error"],function(){return e.twitLoading=!1}),o.on(["inst:connect:start","do:inst:deauthorize"],function(){return e.instLoading=!0}),o.on(["inst:connect:success","inst:connect:error","inst:disconnect:success","inst:disconnect:error"],function(){return e.instLoading=!1}),o.on(["pin:connect:start","do:pinterest:deauthorize"],function(){return e.pinLoading=!0}),o.on(["pin:connect:success","pin:connect:error","pin:disconnect:success","pin:disconnect:error"],function(){return e.pinLoading=!1}),o.on("fb:connect:success",function(){return e.fbSuccess=a?"refresh":"connect"}),o.on("twit:connect:success",function(){return e.twitSuccess="connect"}),o.on("inst:connect:success",function(){return e.instSuccess="connect"}),o.on("pin:connect:success",function(){return e.pinSuccess="connect"}),o.on("fb:disconnect:success",function(){return e.fbSuccess="disconnect"}),o.on("twit:disconnect:success",function(){return e.twitSuccess="disconnect"}),o.on("inst:disconnect:success",function(){return e.instSuccess="disconnect"}),o.on("pin:disconnect:success",function(){return e.pinSuccess="disconnect"}),o.on("fb:connect:error",function(t){return e.fbError=null==(t=null!=t?t.message:void 0)||t}),o.on("twit:connect:error",function(t){return e.twitError=null==(t=null!=t?t.message:void 0)||t}),o.on("inst:connect:error",function(t){return e.instError=null==(t=null!=t?t.message:void 0)||t}),o.on("pin:connect:error",function(t){return e.pinError=null==(t=null!=t?t.message:void 0)||t}),o.on("fb:disconnect:error",function(t){return e.fbError=null==(t=null!=t?t.message:void 0)||t}),o.on("twit:disconnect:error",function(t){return e.twitError=null==(t=null!=t?t.message:void 0)||t}),o.on("inst:disconnect:error",function(t){return e.instError=null==(t=null!=t?t.message:void 0)||t}),o.on("pin:disconnect:error",function(t){return e.pinError=null==(t=null!=t?t.message:void 0)||t})}}};angular.module("ct.widgets").directive(e,["ctUser","ctClient","ctText","$rootScope",t])}.call(this),function(){var e="ctSocialConnectV2",t=function(t,n,r,i){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/social_connect/v2/social_connect.html",scope:{pointValues:"="},link:function(e,r,i,o){var a;return e.header=widgetConf.header,e.maxHeight=widgetConf.maxHeight,e.widgetId=widgetConf.id,e.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},e.user=t,e.client=n,a=null,o.out(["fb:authorize:start"],function(e,n){return a=t.facebook_connected}),o.on(["fb:connect:success","fb:connect:error","fb:disconnect:success","fb:disconnect:error"],function(){return e.fbLoading=!1}),o.on(["fb:connect:start","do:fb:deauthorize"],function(){return e.fbLoading=!0}),o.on(["twit:connect:start","do:twit:deauthorize"],function(){return e.twitLoading=!0}),o.on(["twit:connect:success","twit:connect:error","twit:disconnect:success","twit:disconnect:error"],function(){return e.twitLoading=!1}),o.on(["inst:connect:start","do:inst:deauthorize"],function(){return e.instLoading=!0}),o.on(["inst:connect:success","inst:connect:error","inst:disconnect:success","inst:disconnect:error"],function(){return e.instLoading=!1}),o.on(["pin:connect:start","do:pinterest:deauthorize"],function(){return e.pinLoading=!0}),o.on(["pin:connect:success","pin:connect:error","pin:disconnect:success","pin:disconnect:error"],function(){return e.pinLoading=!1}),o.on("fb:connect:success",function(){return e.fbSuccess=a?"refresh":"connect"}),o.on("twit:connect:success",function(){return e.twitSuccess="connect"}),o.on("inst:connect:success",function(){return e.instSuccess="connect"}),o.on("pin:connect:success",function(){return e.pinSuccess="connect"}),o.on("fb:disconnect:success",function(){return e.fbSuccess="disconnect"}),o.on("twit:disconnect:success",function(){return e.twitSuccess="disconnect"}),o.on("inst:disconnect:success",function(){return e.instSuccess="disconnect"}),o.on("pin:disconnect:success",function(){return e.pinSuccess="disconnect"}),o.on("fb:connect:error",function(t){return e.fbError=null==(t=null!=t?t.message:void 0)||t}),o.on("twit:connect:error",function(t){return e.twitError=null==(t=null!=t?t.message:void 0)||t}),o.on("inst:connect:error",function(t){return e.instError=null==(t=null!=t?t.message:void 0)||t}),o.on("pin:connect:error",function(t){return e.pinError=null==(t=null!=t?t.message:void 0)||t}),o.on("fb:disconnect:error",function(t){return e.fbError=null==(t=null!=t?t.message:void 0)||t}),o.on("twit:disconnect:error",function(t){return e.twitError=null==(t=null!=t?t.message:void 0)||t}),o.on("inst:disconnect:error",function(t){return e.instError=null==(t=null!=t?t.message:void 0)||t}),o.on("pin:disconnect:error",function(t){return e.pinError=null==(t=null!=t?t.message:void 0)||t})}}};angular.module("ct.widgets").directive(e,["ctUser","ctClient","ctText","$rootScope",t])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t="ctSocialSetPw",n=["facebook","twitter","pinterest"],r=function(r,i,o,a){return{restrict:"A",controller:"ctWidget",require:t,scope:{type:"="},templateUrl:"/social_set_pw/v1/social_set_pw.html",link:function(t,o,s,c){var u,l=t.type;if(e.call(n,l)<0)throw new Error("Invalid type passed to ctSocialSetPw. May only be one of the follwing: "+n.join(", ")+".");return t.user=i,t.client=r,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},"facebook"===l?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:fb:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:"pinterest"===l?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:pinterest:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:"twitter"===l?u=t.$watch("client.enable_twit_login",function(e){if(null!=e)return u(),e?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:twit:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:(c.remove(),a.error("Hiding the social net set pw widget because the twitter is not enabled for client."))}):void 0}}};angular.module("ct.widgets").directive(t,["ctClient","ctUser","$log",r])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t="ctSocialSetPwV2",n=["facebook","twitter","pinterest"],r=function(r,i,o,a){return{restrict:"A",controller:"ctWidget",require:t,scope:{type:"="},templateUrl:"/social_set_pw/v2/social_set_pw.html",link:function(t,o,s,c){var u,l=t.type;if(e.call(n,l)<0)throw new Error("Invalid type passed to ctSocialSetPw. May only be one of the follwing: "+n.join(", ")+".");return t.user=i,t.client=r,t.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},"facebook"===l?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:fb:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:"pinterest"===l?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:pinterest:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:"twitter"===l?u=t.$watch("client.enable_twit_login",function(e){if(null!=e)return u(),e?t.onFormSubmit=function(){return t.newPwForm.$valid?c.up("do:twit:deauthorize",{password:t.password,confirm:t.confirm}):t.clicked=!0}:(c.remove(),a.error("Hiding the social net set pw widget because the twitter is not enabled for client."))}):void 0}}};angular.module("ct.widgets").directive(t,["ctClient","ctUser","$log",r])}.call(this),function(){var e="ctSubscribeToEmails",t=function(t){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/subscribe_to_emails/v1/subscribe_to_emails.html",scope:{activity:"="},link:function(e,n,r,i){return e.subscribe={value:!1},e.submit=function(e){return i.up("do:subscribe:emails",e)},i.on("subscribe:emails:success",function(){return e.subscribeError=!1,e.subscribeSuccess=!0}),i.on("subscribe:emails:error",function(t){return e.subscribeError=!0,e.subscribeSuccess=!1}),e.$watch(function(){return t.receive_email_updates},function(t){if(null!=t)return e.subscribe.value=t})}}};angular.module("ct.widgets").directive(e,["ctUser",t])}.call(this),function(){var e="ctSubscribeToEmailsV2",t=function(t){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/subscribe_to_emails/v2/subscribe_to_emails.html",scope:{activity:"="},link:function(e,n,r,i){return e.subscribe={value:!1},e.submit=function(e){return i.up("do:subscribe:emails",e)},i.on("subscribe:emails:success",function(){return e.subscribeError=!1,e.subscribeSuccess=!0}),i.on("subscribe:emails:error",function(t){return e.subscribeError=!0,e.subscribeSuccess=!1}),e.$watch(function(){return t.receive_email_updates},function(t){if(null!=t)return e.subscribe.value=t})}}};angular.module("ct.widgets").directive(e,["ctUser",t])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t="value",n="image_id",r=function(r,i){return{restrict:"A",controller:"ctWidget",require:"ctSurvey",templateUrl:"/survey/v1/survey.html",scope:{survey:"=",tierConf:"="},link:function(o,a,s,c){var u,l,d;return o.header=widgetConf.header,o.maxHeight=widgetConf.maxHeight,o.widgetId=widgetConf.id,o.getWidgetHeader=function(){var e;return null!=widgetConf.textKeyHeader?widgetConf.textKeyHeader:null!=(null!=(e=o.survey)?e.title:void 0)?o.survey.title:void 0},o.user=r,o.currentPage=0,c.in("survey:submit:success",function(){return o.notification="success",o.completed=!0}),c.in("survey:submit:error",function(){return o.notification="error"}),o.getTierNameById=function(e){return null!=(e=i("filter")(o.tierConf,{id:e})[0])?e.name:void 0},o.getMinHeight=function(){var e;if(null!=(null!=(e=o.survey)?e.questions:void 0))return o.survey.questions.some(function(e){return e.image_enabled})?"includeImageHeight":"defaultHeight"},o.updateAnswers=function(e,r){if("select"===r.input_type){if(o.answers[r.id][t]=r.answers[r.selected].value,r.image_enabled)return o.answers[r.id][n]=e.image_id}else if(o.checkboxes[e.id]){if(u(t,e,r),r.image_enabled)return u(n,e,r)}else if(l(t,e,r),r.image_enabled)return l(n,e,r)},u=function(e,t,n){var r;return null==(r=o.answers[n.id])[e]&&(r[e]=[]),o.answers[n.id][e].push(t[e])},l=function(e,t,n){if(-1!==(t=o.answers[n.id][e].indexOf(t[e])))return o.answers[n.id][e].splice(t,1)},o.isChecked=function(e,n){var r,i;return null!=(null!=(r=o.answers)&&null!=(i=r[n.id])?i[t]:void 0)&&-1!==o.answers[n.id][t].indexOf(e.value)},o.someSelected=function(e){var n,r;return null!=(null!=(n=o.answers)&&null!=(r=n[e])?r[t]:void 0)&&0<o.answers[e][t].length},o.onSubmit=function(){return o.notification=null,c.event("do:survey:submit",{surveyId:o.survey.id,questionResponses:o.answers})},d=o.$watch("survey",function(r){var i,a,s,c,l,p,f,h,g,m,v,y,w,b,_,x,A;if(r){for(d(),o.answers={},o.checkboxes={},o.completed=!1,a=0,p=(v=null!=(m=null!=o&&null!=(m=o.survey)?m.questions:void 0)?m:[]).length;a<p;a++){if(null!=(null!=(g=v[a])&&null!=(y=g.user_response)?y.value:void 0)&&(o.completed=!0),o.answers[g.id]={},"checkboxes"===g.input_type&&null!=g&&g.user_response)for(c=0,f=(w=null!=g?g.answers:void 0).length;c<f;c++)b=(i=w[c]).value,0<=e.call(null!=g&&null!=(_=g.user_response)?_.value:void 0,b)&&(o.checkboxes[i.id]=!0,u(t,i,g),g.image_enabled&&u(n,i,g));if("select"===g.input_type)for(s=l=0,h=(x=g.answers).length;l<h;s=++l)if((i=x[s]).value===(null!=g&&null!=(A=g.user_response)?A.value:void 0)){g.selected=s;break}}return o.survey.hasPointsHidden=function(){var e;if(null!=(null!=(e=o.survey)?e.show_activity_point_text:void 0))return!(null!=(e=o.survey)&&e.show_activity_point_text)}}})}}};angular.module("ct.widgets").directive("ctSurvey",["ctUser","$filter",r])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t="value",n="image_id",r=function(r,i){return{restrict:"A",controller:"ctWidget",require:"ctSurveyV2",templateUrl:"/survey/v2/survey.html",scope:{survey:"=",tierConf:"="},link:function(o,a,s,c){var u,l,d,p,f;return o.header=widgetConf.header,o.maxHeight=widgetConf.maxHeight,o.widgetId=widgetConf.id,o.getWidgetHeader=function(){var e;return null!=widgetConf.textKeyHeader?widgetConf.textKeyHeader:null!=(null!=(e=o.survey)?e.title:void 0)?o.survey.title:void 0},o.user=r,o.currentIndex=0,c.in("survey:submit:success",function(){return o.notification="success",o.completed=!0}),c.in("survey:submit:error",function(){return o.notification="error"}),o.getTierNameById=function(e){return null!=(e=i("filter")(o.tierConf,{id:e})[0])?e.name:void 0},o.getMinHeight=function(){var e;if(null!=(null!=(e=o.survey)?e.questions:void 0))return o.survey.questions.some(function(e){return e.image_enabled})?"includeImageHeight":"defaultHeight"},o.updateAnswers=function(e,r){if("select"===r.input_type){if(o.answers[r.id][t]=r.answers[r.selected].value,r.image_enabled)return o.answers[r.id][n]=e.image_id}else if(o.checkboxes[e.id]){if(u(t,e,r),r.image_enabled)return u(n,e,r)}else if(d(t,e,r),r.image_enabled)return d(n,e,r)},u=function(e,t,n){var r;return null==(r=o.answers[n.id])[e]&&(r[e]=[]),o.answers[n.id][e].push(t[e])},d=function(e,t,n){if(-1!==(t=o.answers[n.id][e].indexOf(t[e])))return o.answers[n.id][e].splice(t,1)},o.isChecked=function(e,n){var r,i;return null!=(null!=(r=o.answers)&&null!=(i=r[n.id])?i[t]:void 0)&&-1!==o.answers[n.id][t].indexOf(e.value)},o.someSelected=function(e){var n,r;return null!=(null!=(n=o.answers)&&null!=(r=n[e])?r[t]:void 0)&&0<o.answers[e][t].length},l=function(){return a.find("legend.question").attr("aria-details","checkbox-directions")},p=function(){return a.find("legend.question").removeAttr("aria-details")},o.goToNextPage=function(){if(!(o.currentIndex>=o.survey.questions.length-1))return o.surveyForm.$dirty=!1,o.currentIndex+=1,o.currentQuestion=o.survey.questions[o.currentIndex],"checkboxes"===o.currentQuestion.input_type?l():"select"===o.currentQuestion.input_type?p():void 0},o.goToPreviousPage=function(){if(!(o.currentIndex<=0))return o.surveyForm.$dirty=!1,--o.currentIndex,o.currentQuestion=o.survey.questions[o.currentIndex],"checkboxes"===o.currentQuestion.input_type?l():"select"===o.currentQuestion.input_type?p():void 0},o.onLastPage=function(){return null!=o.survey&&o.survey.questions.length-1===o.currentIndex},o.onFirstPage=function(){return 0===o.currentIndex},o.onSubmit=function(){return o.notification=null,c.event("do:survey:submit",{surveyId:o.survey.id,questionResponses:o.answers})},f=o.$watch("survey",function(r){var i,a,s,c,l,d,p,h,g,m,v,y,w,b,_,x,A;if(r){for(f(),o.answers={},o.checkboxes={},o.completed=!1,a=0,d=(v=null!=(m=null!=o&&null!=(m=o.survey)?m.questions:void 0)?m:[]).length;a<d;a++){if(null!=(null!=(g=v[a])&&null!=(y=g.user_response)?y.value:void 0)&&(o.completed=!0),o.answers[g.id]={},"checkboxes"===g.input_type&&null!=g&&g.user_response)for(c=0,p=(w=null!=g?g.answers:void 0).length;c<p;c++)b=(i=w[c]).value,0<=e.call(null!=g&&null!=(_=g.user_response)?_.value:void 0,b)&&(o.checkboxes[i.id]=!0,u(t,i,g),g.image_enabled&&u(n,i,g));if("select"===g.input_type)for(s=l=0,h=(x=g.answers).length;l<h;s=++l)if((i=x[s]).value===(null!=g&&null!=(A=g.user_response)?A.value:void 0)){g.selected=s;break}}return o.currentQuestion=o.survey.questions[0],o.hidePoints=!o.survey.show_activity_point_text}})}}};angular.module("ct.widgets").directive("ctSurveyV2",["ctUser","$filter",r])}.call(this),function(){var e={}.hasOwnProperty,t=function(t){return{restrict:"E",require:["^form"],templateUrl:"/survey/v3/question.html",replace:!0,scope:{question:"=",answer:"=",otherLabel:"=",displayNumber:"@"},link:function(n,r,i,o){var a,s,c,u,l,d,p=function(){var t;return function(){var r=n.checkboxes,i=[];for(t in r)e.call(r,t)&&(r[t],n.checkboxes[t]&&i.push(t));return i}()};switch(n.isOtherSelected=function(){return"multi-answer"===n.getQuestionType()?n.checkboxes.OTHER:"OTHER"===n.radioChoice.value},n.getQuestionType=function(){switch(n.question.questionType){case 1:return"freehand";case 2:case 3:return"multi-answer";case 4:case 5:return"multi-choice";default:throw new Error(n.question.questionType+" is an invalid question type value")}},s=function(){if(null!==n.answer.responseText&&!n.isOtherSelected())return t(function(){return n.answer.responseText=null},0)},n.anySelected=function(){return 0<p().length},n.includeOtherOption=function(){var e=n.getQuestionType(),t=n.question.questionType;return"multi-answer"===e&&3===t||"multi-choice"===e&&5===t}(),n.parentForm=o[0],n.containerClasses={"question-required":n.question.required,"question-type-freehand":"freehand"===n.getQuestionType(),"question-type-radio":"multi-choice"===n.getQuestionType(),"question-type-checkbox":"multi-answer"===n.getQuestionType()},n.getQuestionType()){case"multi-answer":for(n.checkboxes={},l=n.answer.selectedAnswers,a=function(e){return n.checkboxes[e.answerId]=l.includes(e.answerId+"")},c=0,u=(d=n.question.answerOptions).length;c<u;c++)a(d[c]);return n.includeOtherOption&&(n.checkboxes.OTHER=l.includes("OTHER")),n.$watch("checkboxes",function(e,t){var r;if(!angular.equals(e,t)&&(r=p(),n.answer.selectedAnswers=r,e.OTHER!==t.OTHER))return s()},!0);case"multi-choice":return n.radioChoice={value:1===n.answer.selectedAnswers.length?n.answer.selectedAnswers[0]:null},n.$watch("radioChoice.value",function(e){return n.answer.selectedAnswers=null!=e?[e]:[],s()})}}}};angular.module("ct.widgets").directive("ctQuestionnaireQuestion",["$timeout",t])}.call(this),function(){var e=function(e,t,n){return{restrict:"A",controller:"ctWidget",require:"ctSurveyV3",templateUrl:"/survey/v3/survey.html",scope:{survey:"=",userResponse:"=",tierConf:"="},link:function(r,i,o,a){var s,c;return r.header=widgetConf.header,r.maxHeight=widgetConf.maxHeight,r.widgetId=widgetConf.id,r.getWidgetHeader=function(){var e;return null!=widgetConf.textKeyHeader?widgetConf.textKeyHeader:null!=(null!=(e=r.survey)?e.titleTextKey:void 0)?r.survey.titleTextKey:void 0},r.user=e,r.loading=!0,r.completed=!1,r.submitting=!1,r.questions=[],r.pointsAwarded=0,r.getTierNameById=function(e){return null!=(e=t("filter")(r.tierConf,{id:e})[0])?e.name:void 0},r.getMinHeight=function(){var e;if(null!=(null!=(e=r.survey)?e.questions:void 0))return r.survey.questions.some(function(e){return null!=e.imageLink})?"includeImageHeight":"defaultHeight"},r.isSurveyDisabled=function(){if(null!=r.survey)return r.survey.isLockedByTier||r.survey.isLockedByPrereq||r.loading||r.submitting||r.completed&&!r.survey.updatesAllowed},a.in("survey:submit:success",function(e){if(r.notification="success",r.submitting=!1,r.completed=!0,null!=e.points_awarded)return r.pointsAwarded=e.points_awarded}),a.in("survey:submit:error",function(){return r.notification="error",r.submitting=!1}),r.onSubmit=function(){return r.notification=null,r.submitting=!0,a.event("do:survey:submit",{surveyId:r.survey.questionnaireId,questionResponses:s(r.answers)})},c=r.$watchGroup(["survey","userResponse"],function(e){var t,o,a,s,u,l;if(e[0]&&null!=e[1]){for(c(),r.completed=!1,s=[],r.answers=null!=(e=r.userResponse)?e.answers:void 0,t=function(e){var t,n;return null!=r.answers[e.questionId]&&(r.completed=!0),null==(t=r.answers)[n=e.questionId]&&(t[n]={selectedAnswers:[],responseText:null}),s.push(e)},o=0,a=(u=null!=(e=null!=(e=r.survey)?e.questions:void 0)?e:[]).length;o<a;o++)t(u[o]);return r.loading=!1,r.questions=s,r.otherLabel=r.survey.otherTextKey||n.get("survey.other"),r.completed?r.pointsAwarded=null!=(l=r.userResponse)?l.pointsAwarded:void 0:r.pointsAwarded=r.survey.numPoints,i.addClass("ct-activity-"+(null!=(l=r.survey)?l.id:void 0))}}),s=function(e){var t,n=angular.copy(e);for(t in n)n[t].selectedAnswers||n[t].responseText||delete n[t];return n}}}};angular.module("ct.widgets").directive("ctSurveyV3",["ctUser","$filter","ctText",e])}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctUnsubscribe",templateUrl:"/unsubscribe/v1/unsubscribe.html",scope:{},link:function(n,r,i,o){var a;return n.header=widgetConf.header,n.widgetId=widgetConf.id,n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.maxHeight=widgetConf.maxHeight,n.client=e,o.on("user:unsubscribeEmail:success",function(){return n.loading=!1,n.success=!0,n.error=!1}),o.on("user:unsubscribeEmail:error",function(){return n.loading=!1,n.error=!0,n.success=!1}),null!=(a=o.getQueryParameter("code"))?(n.loading=!0,o.event("do:user:unsubscribeEmail",{code:a})):(t.error("[Unsubscribe Widget] Could not grab code from URL."),n.error=!0)}}};angular.module("ct.widgets").directive("ctUnsubscribe",["ctClient","$log",e])}.call(this),function(){var e={NOT_PROCESSED:{className:"warning",message:"Processing"},TPG_PROCESSING:{className:"warning",message:"Processing"},INFRRD_PROCESSING:{className:"warning",message:"Processing"},PROCESSED:{className:"success",message:"Successfully processed"},MANUALLY_PROCESSED:{className:"success",message:"Successfully processed"},ERROR:{className:"error",message:"Error processing"},INVALID:{className:"error",message:"Invalid"}},t=function(t,n){return{restrict:"A",controller:"ctWidget",require:"ctUploadReceipt",templateUrl:"/upload_receipt/v1/upload_receipt.html",scope:{receipts:"="},link:function(r,i,o,a){return r.header=widgetConf.header,r.maxHeight=widgetConf.maxHeight,r.widgetId=widgetConf.id,r.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},r.user=n,r.imagePreview=null,r.fileUpload=function(e){return r.$apply(function(t){var n=e.target.files[0],i=new FileReader;return i.onload=function(e){return r.imagePreview=e.target.result,a.event("receipt:upload:start",{image:n})},i.readAsDataURL(n)})},r.submitReceipt=function(){return a.event("do:receipt:submit",r.uploadData)},r.formatReceiptReason=function(e,n){return t(e)(n)},r.clearMessage=function(e){if("NOT_PROCESSED"!==e.state&&"TPG_PROCESSING"!==e.state)return e.hide=!0,a.event("receipt:message:clear",e.id)},r.getClass=function(t){return e[t.state].className},r.getMessage=function(t){return e[t.state].message},a.on("receipt:upload:complete",function(e){var t;return r.error=(null!=e&&null!=(t=e.data)?t.error:void 0)||null,r.uploadData=200===(null!=e?e.status:void 0)?e.data:null}),a.on("receipt:submit:success",function(e){var t;if(r.error=(null!=e&&null!=(t=e.data)?t.error:void 0)||null,200===((r.uploadData=null)!=e?e.status:void 0))return r.receipts.unshift(e.data[0])})}}};angular.module("ct.widgets").directive("ctUploadReceipt",["$interpolate","ctUser",t])}.call(this),function(){function e(){}var t,n;n=Object.freeze({NOT_PROCESSED:{className:"warning",message:"Processing"},TPG_PROCESSING:{className:"warning",message:"Processing"},INFRRD_PROCESSING:{className:"warning",message:"Processing"},PROCESSED:{className:"success",message:"Successfully processed"},MANUALLY_PROCESSED:{className:"success",message:"Successfully processed"},ERROR:{className:"error",message:"Error processing"},INVALID:{className:"error",message:"Invalid"}}),e.prototype.getClass=function(e){return n[e].className},e.prototype.getMessage=function(e){return n[e].message},e.prototype.getSpinner=function(){
return"data:image/gif;base64,R0lGODlhlgCWAOZoAJmZmf7+/v39/ZiYmJubm/v7+/z8/Pj4+KKiovb29qSkpJqamqCgoJ6envLy8vDw8O3t7aampvT09Ovr6/r6+qmpqenp6ZycnJ2dnefn562traWlpfn5+aOjo6+vr6Ghoaurq5+fn6ysrODg4Pf39+Tk5PX19d7e3r+/v/Hx8e/v7+rq6vPz8+7u7tfX17S0tKqqquLi4rKyssHBwba2trq6usPDw729vezs7Nzc3KioqLCwsMzMzNnZ2aenp8rKytHR0bi4uOXl5c/Pz7u7u9PT09XV1ePj48jIyObm5sXFxc7Ozujo6L6+vq6urtvb2+Hh4d3d3bm5ucLCwre3t9/f38nJybOzs7W1tby8vMDAwNra2rGxsdjY2MvLy9bW1sfHx8bGxtDQ0MTExNTU1M3NzdLS0peXl////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEYyMTg3MDM3ODdFMTFFQkIzNzRGODRBREUwMkJENzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEYyMTg3MDQ3ODdFMTFFQkIzNzRGODRBREUwMkJENzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowRjIxODcwMTc4N0UxMUVCQjM3NEY4NEFERTAyQkQ3MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowRjIxODcwMjc4N0UxMUVCQjM3NEY4NEFERTAyQkQ3MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXWyglHZmM0GhsNF2dnFw0bGjRjZkcJ16cPRUQI4vP09fYINUUP7Z8WYRH2AgoMGCGMBX6YEiwBOLChw3kRlrBDGAkCigUPM2ZcgAICxUYQamgcObKGx4+HTKAYQLJlxgEoTKAcFKAIBpc4M14oEgClCic5g2Z0ooKiEQJC6y1gmXQeASPtCmQJqkAKjycWWBQYZIBECgtPeEhREJTIVmoOKrhskGWLBEkS/7ZkaeCygoNpFj6QBBBkhABMAkZIAUDyw0FoJcJpbGBFZicTVuhqvFDiGRSMGRvw4CCKAw/JDxdAaVYCs8MBWkiYIjGDqcMFlZVZQPrQRwZVGXxkJHD42AMGGZucVVWgSUYG+4xRUOvwQhdYXRQ31EHBmEiHHybIwqHXoZRiRR5GuDvLAcOGRYZBoD1QxERaCUQ4JHDyVwD5DSO8r5XgvEARPf0ihkMIpKBLCvI0NMQvErAXEH28rNcQAW/1MlVDPfjSg0NZ9DKBQygAg4JD2u2CxXTD9VKADg1hscsKDQ3AhDBMuBbQCrpcJ9AMxMzQUA25sECYQA3sB0wCoNkDAP8LuHjR0BLGLNGQF7cE0MFAIVRXDAUhDIRAgLQI0dAPyPzQkBC2TDEQAI4Zk8CQAU1hS4IBfZeMFF7WgkNDIygzQkM40DLEQA38lYwASdaz4CxUDATkMhcGRAMtXQoE1TJbYDkLCw0lp4wEDTEZy58CdeAMWQL1GcugAgXhTBADLQqLmgKR2YyZAskZy4kCZdjMhgK9IAsIA93WTAYDwSALnfbUt8wDecZyk0CiMkPCQBjI4mA9BzhTwEAEyNIQmMyIYO656Io70EyuSGdPiuyiApxAbcaLin/1lGgvKjsMVMW+qdwwUHoAn4JrQDYUfIoLAzmhsCkWgEvuw6AYAKfBPThSPAqxAvGg8Sg+CuTBx6LkMNAAFZLsCQcXK6oyKDIMVMHLnwBxJs2dvDkQFTh3QkNDzvZ8SRQNTSp0JgJcOdARR2dic7KGNl0Jlw15LLUlPDQEgL5XS1IAs/V00FvXknQhUA3dkk3JffUQ4ILal6zgGghFwX0JEuIoYYDdgL0QA9+ABy744IQXbvjhiCeu+OKMN+7445BHLvnklFdu+eWYZ6755px37vnnoIcu+uikl2766ainrvrqrLfuuieBAAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TVjgkGaCwrDwYcDyoJ1q8CKhInSFYoIBU7Gg0LOjtXMlgoZTEm46UFBxNWU0CcCTHgjMGDCA0OKGjwQw0zKwrs60QhR5kNDAAk3Mixo44pUR5InEjpgAQrVzB0XMkS4YIOWIqIIxmpCpgFBFrq3Hnmwg0oJGguMmChBgOeSHdusNFCKKIJU44mnbrzxgSngwoA2UC1q04AIIBIEBoAwguvaHdeaTrRhAsEaP8XaAwBIsIFBSJAwE17hsAQAeMgTOm64MwVFGNyWIhhgYMBFRYmQJhQhQeVvVQbzEhRTcgVqjtqPHnwgFEAQg56oKigMekLztJKVEAKwOcTFZhInJgRIekHIdAKxMCsU4SWFkE3kUgCRgFSBk+cGejRYCcAAmJWiDqwxPlOBD1OL/vivSUCIrhJGZgwpsNOAlCWQSG+UkYUVVVg7MSQIZkKrjqNkd4qPzDEUgRXGdPCWS0RkAMFrlCwhQ86aTAWMRwM1hIIJYj3yhE66ETESMJ4IdVKLyThISwSaKBTESv6AkFOLNGAgy0SfMYSAWz9kmNLTsBmywMetHQFib2YwdL/ABGUlssE+q00ABm/MCHQSiBUwUsGKq3EgJO8SNEaRw30ABgvObTUxJm5BIBDYSv9cIAvAWixJBO7mGADSzogyUsCUXZ0RYy1VFHeRgjcF4wQF6x0wQi6EGHgRjawCcwNLKEA4S0SdMmRAv0N06mUDtxSgJIrIeEnMECsBAAYt6iAxUofsGDMAxR2pMFMtORwKEIDTIHMGGMmRICWtcxA40YRxIBMCp5SaiksBuTKEQr6HCNAFit1wGssE7iaA6HDVLFsQgDgOQsZK+lwITISXLnRArDOUsNKN5BLDAor1TCtKx+sZAQzURSL0AZgvnIASwMmwwJLCbtSwkoYNMOC/wwdXdCDLK0K6gy/HSkhi4YcIeEMEuciVGksRBh8UBfOnDApQkF8ywoHQawUg77FrLCSAtm84gAVHTVQgjNJnJjQBjyfYoKOzB7dDA7yJgRCxKsIMBtHHQDXTAG9ceSDuq4IoDRCANzYjAHVcQQA1qpIEPZGAMzZjAPuuc0BLA/s0BECDSszQdUIKWDzKhxAnRACkDYDpa49ulKk24oyA0HAHHkAASwC5NzRCc0EYMHMBzlxuCoFIBFnzB0NwEXTpxTROhXO/LASEbJ0ES1CMqx6TBADuHyGF7LgcPZBCCS4TBI8ZAFCCHK11ji1bXPU4TMCQJADElREQMDpqxxwL7FHA9hQzQFkx8LDShoEjZUqT1Sf0AVev58KBXlzBMa/9o+y7c9w618oAvAElqRPgKTAG7rOEIQiZAuBpiDZGTYghRKUCoKoOEIIzqCDMVgAg6ygwRc+CMJWuK+EKEyhClfIwha68IUwjKEMZ0jDGtrwhjjMoQ53yMMe+vCHQAyiEIdIxCIa8YhITKISl8jEJjrxiVCMohSnSMUqWvGKWMyiFrfIxS568YtgDKMYx1jCQAAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1Y0CaA9oTAcWLSYZaCYJ1q8pEEZFWU0gGiINHgsiOh01L0QuXSMFaPzloglOfHlB48yHMwvOKFzIkOGHDyG0GBkB4V+nB0d+bIhwBkDDjyA/RvCAIgc2i5U4OACzo0PIlzAZLgCw4YcElJEOVEHSIKbPnwuzTMDZ6AQNH0CTAqVRgiiiJDZCDFBK1SeAG0ICOEUTwMASBgSqio25QMcQB1pxVqkxtq1PDFL/cKDkQOaCR7EXznAE0cEHlwZOGJxBoHBqVQJDDpSDMCOhUo8VNthAEuWEhKwWVDJJUMWFCxQ6Kgiu2sQBtQAWNIRVuiNIDyYsHBlAw6FEDysaqA540WJajitKO7yIgeMkJQ4UhNyg2sDkMwFCRv/U8KOKpwReegLdcOIZEI4/FXgxwSFUgSEKkhoxjowClIMxPSqxwD4U9g0/P1hX1sWJVQ/dpVUKBTFgcRdMAECRDAQfGBbSVF5os8oDSvxUgVzGQMBWTCAAwZUrI8Dgkw/kEFMACgeGpEEG/rwiRAU+EVHeMGbk9RIAV2QgICwsYOHTEMOoAN9LMqxgSwI+xhQO/zAONBHTCyrgYsILMXlAATBAhPDSABWssGMtEugQkxe/WAACTBX0wAsE+L1EQEW8CDBDig0t4EKLuuQQ0w1f3mIBBjfWMJsvXiDY1C5ZwMTFUL+QIANMMuziAEwfbCGMBQhaoMsMMNmgmDBTwERFfbOQsBpIDcApzAPpvWTaLUbAFEafvwABUxm0wiLCSxi8SowAhIWkQIm0JOEYSDPk+ssPMB06SwA8HPtRlMdIYCNIKCi7igQbgsSFMjc42FADeMKygoghqZkMFFsuGUsAUJzakAISIlOAdB8pQYsVL0lB7DEBhBrSt7IE4EFIC/wwaDIxvBSBr69MgBRIBFi6zP8D+Dak6itMDNnQABDbuytIALggSwniMhRpM91+BIYsS7w0BanHFJHyQjXQnIoAStCpEABhODPCS07IosVLXzhjgccMVfBvKwWBdEEMziTwEgIzukIClSTvx8wDMIL0AbWuCPBoSO4yE+xHBIS8ygFhf4QBo8ykEHdDCGDoSgFRfzT1M+iCtDErBuRG8uDJSNDqRxu4rQoHQYR0wRPOpDCx33q7EnlIOThjAtMLIVDuKgIg8WAZziTxkgdPs/LDzQol28wTWoLEeiw5+KyQBlcyE2tIUsiSxM1h0TD6MSi8JIa2pzjAUVgwKDCGDUIkoTMxJNzN0AVJy+LBDFNUUQLECccnk8HiDSU4SwLlMxOAC9p91MDCW6FiQIUhEVH/KhQEnr4Z19sfKEpwtSowT4Cd2BxINNAbBJrCAbA7wwBu4MBTGGAKFVjAzaJQQVQkgAw7IMCBOtC+DoJCAFEIQgM88gMTskIIM1BAbFzIigbS8IY4zKEOd8jDHvrwh0AMohCHSMQiGvGISEyiEpfIxCY68YlQjKIUp0jFKlrxiljMoha3yMUuevGLYAyjGMdIxjKa8YxoTKMa18jGNrrxjXCM4xADAQAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS06gB1LgcgisHEDEOVSxMDyQOaAdoAtfVgg8sE2I8SyIyVAROHQg7C0EdMzRFZSCUMKdOlIADJjKgIBLkwgAGZyJKnDhxwRkfG5rwcEFBQkFOAoSM4OGBwBkAFFOqpNjgDJYZRQIk+GhJwAkrHiqs3Mlz4oUzMrw8oSnJwIkaCCD2XLqUAIIrFjwSXSRgBI0QKJlqZUpgyhMTUxGVuKF0q1mmOoiMCEtowhIfFv/Pym36QUmBsCSSvEAwt69WGEmmLuHSF+WFCGd2aNhAo8ELBhtM+j1T5iOLMQPOoqwg5cqPIy6OUCiRAMeEAyceDMlBZQaBDnOpzJxWtcZZBRVuAEkAQSpVNCwcmCnSAbHZCAOlCdEgmamIH0WSWyLRZQjsrQxcQDOQwThTJ0ZKgN1EgQMSGWV7fjBCoRmHJyC0gjCC4y4oC0awaN2gnVkPD5n1tAEPGRhgjSgcOABEczx9MFQyAYygU08E1ODCAQea8sAOWuWQjAogBLhTAzfgkM4qXjAVAhQZDiOBDEtVsEQ2rkCR3koazEYMGD0BoEES9r3yAIw9vdCeMAE8kdX/SgtoAMWJsZDQxFJWtOiLBAr0JMVatUiAAoMpMSBEMAcQUaQFVsryAA09ReBbL18sqVIEBeYigRM9IfHLA/HtxEAVvEjQ50oDTNCLADxgwNMSBvQyApgUUdELBBqImNINwCzRExS7CLCEpRQxoEIwVPDkwS4FTKjSBVsIswKkE8WQiwGa7lQDjcF8utMOuaiA50obSEfmBjzhgMsILa2kxZvBuCAnRSjcIsANOxEQQ5q/UKDDThjgOksLWa5EAzJGgDpRFLY4uxIAXBqTAF8rBVGLACgQykWQxtiwEwI6xiIBDDsp0SgyTDwrEbu0JPGTSgBYoIwAxK6kxCwBlLET/xfMTLGTCNiuIsAMOzVxZDJJVHuOLBoQ2gMzBsSlkrGx4GBwRKI2o2pKK8eSxI0SVcAsMiCvBIYsUJgbkQcdF+OC0WdQAaUrRYTsTAkzn1EBvqwEoK9KAwzhTAojYr1KAEoYPYAYzlBQNQAju1LvSl+kHcJKGPTbCowWMUgAus2YsK1KDMD8ihVDBGGFFlLwgAUPN7TgzAEirHRBBrIU0B4LaJCQzs/K3EyR4GypIgC8KQ3AeeilmBBuSh+Ug7oqD3hHUQcQvK6KBHOr1AAJtqcSw8a9p2KErcGjEsZOMzxdvChEqmTG8qWooKjuTEBPygnJhmmo9aIgUbUHA3P/idkDEatkhfihjPABoXyj74kSVW/guvucOLD+Sk0oT/8lFTN9Rhf74wQOALYSH4wngJgIQBGyRxEC6AmBmUjBoFTSLghaIkU7wYLYLBiJDNxPd2PiYCUkkLJ11YB3IqQECbACrBwkLYWMyAAVXDaRIBwQhpMogBdYKBEEhBCHljgBCJb0QCBeIgU3MIkHTmZETACBTk3cBOWiSMUqWvGKWMyiFrfIxS568YtgDKMYx0jGMprxjGhMoxrXyMY2uvGNcIyjHOdIxzra8Y54zKMe98jHPvrxj4AMYyAAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLTpgGC1mjY1K8CaAkcJCMPPV8ZQ2YZLi4tLSUJaAUG26fyDw4jPEMaKAobMGcdFJxBUAEgFQ8weHwZEUPFvFEtmCAZg8DJmQtnzgzIyLFjRgAZCYjwIOJHDjQcHmqigMZFDx8ezoD0SLMmTZBSrEBQYUCbykhJTtCIYLOo0ZogiJxgUqDbz0YFUhipsOGo1asZP1z5YoHlU0UOytSQibWsVQI7xCRw+pXQgSQ+/zqYnYs1SBm2bUvwmEm3r1UaMUh8NQDkhd+OC0J+PJwRBJIJPqklaCJwLsgLGxZIARHkh4YbP5xoIFKQQQO6ABDckPCwhYbEZgGAAAFkDIQnLThMQEMBArwkDxK44DFjxo6+Mk4coJbkg9kOC34oYZEhUooUJrooaXB649UKQ1JIO1EWZI0lQlJiymBEg0DvRgFsCOPVWZeyDM6jEcxJQhQpH8BnVANaOOCMEVhhAEIMK4hiQA4zlIWCPMu4wJdRMoBRHylfEHGhTQ1YUYAyJ8hllRIxqOLAVLAZFQZexGSggVUYfMGaKgIU4IIGGBnFQBfHFICFVQqUAGMqAkChhf9VADwRGTBTWCUCC7KEZWJRGuBADIJHyXBkKwEcUIZVRBgYzASVFUXDl68cMEQIRl0wxIa9BHEUDcvh4sVRGjT4Sw5H7dCCLhLcYNQCTbBpSwI+GKUAFE/aIsVRX/gyplFF+GJBQUXtIN4uKZxWFArAQEGUTQSQwQsYRsEw4i8U/EBAURWYiUsCcBYF5JkiGLWELkAYRUWkuxjQw6w2vaCeLQE0ahMGvhEzFogn4FKCUTcoyksVotZ0BX+1ZFHUBdESw4GdNilggS0cYFAUFcjEkCtNqdoyglElIHPAkDbRYIuhNiGQjAB7gujQLBScWpMSyjjAQFFA0AKBUbspQ0T/UVpQGMsWvdaEALHDFNGiRx7kGYsQGRQxRQcRVABbDcyUMK9HDNwoiwHdQLBFFzwogUC1y0hwJU1H5FKACWhMsKwyNBTlRVuvDFFUEFC7ckRRXNBZ9Skr9EiTBu9srQoOCNjkA9Jip/JAmjSjnfYpCSjs0QI2v12KAFXZZKvdpQzt0QN8n1K2TYAH3ndRhRs+Src0Uam4KBQIiFjYj4PCQlEMLF15J0wU5YO2m1vCZU0yhA4KwDXZYPoncntkxOqdcDByRwNUB/smUBTVALi3YxKhTRr0rkkAg9f0g/CZZGAUE8hjcrFNDGjc/CQSzN7RDdNb8gO+2VPiwMwefQB61/eIbF8UEuRLEmpRC+ydPiMFiFsUzO8/EoO7qPpZPyMJ6CCs9PtDxAGeB6KKBTARFFiC9ToygwMqIgAlilPiHGgIJjjLJgtQFQUPMYG8qUlrG2zBw+K0rg0aggpWeYIJD5EBGXyIIwBA3wpZCIKaLKAGdZvhIAwwAv/RzgP606EhnsA2BSRBiIngQBFE9QHbITERQ/jABwz4REQkQAmfqqIiQKjFLnrxi2AMoxjHSMYymvGMaEyjGtfIxja68Y1wjKMc50jHOtrxjnjMox73yMc++vGPlggEACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NWKAmgFBgcTEiMpPQ45DiUJLBRoBtaq2DElZlljGy8YFQQIBBsNGiFEHl5LXJB4sI4UExdAQGxAcIbAmYcQI0IccKbBmQhZUPSQIKHgpgMtjgRB0EGiyZMnHXqYwYOgOo+TBJxQcgWlzZsmMRCwAkVCAJiQcmDZ4BCn0aMYUERZAZRREhlnABydOlXBlS4pmh5iQYSqV68KgvTgoHXQEqlf007dYCWJ1hJO/9TKnXrBw4iOBROYYSiXwZkKCkRw0UBDhBMYGDacuSC3ghIK2Ko5UMJ3KkUMGkCIMfMkRQk0E9BAQGMhwYgSX2agYECgqNcpR6olkEKRqoINYaCUwPZT0U8BEgoYCVMjLYIjkaEx8eFVQ5guLNAkl3SAxAQUIkJQrWCErLMAIxRP9WFGRYJOELy8qIyzg5hnFipMxSDmQO9PE3LQm9rFBLMSfh1lAzqkCDBBESIcpcAQ0xnzAAxHeeAWKhSU0MQHRoXQRTIJeGBUA2F4p4oDYmyAlk0hCFGAMQbcYNQGZJDwygkJ4vRCBsaUsQBODTzx0is4uIgTEQQNI4RRMOBAS/8CRFiEog3DHAACThqoYMsEYOBEQBTCzNCeELkEgVMFBPqShGsnKRBaLim8gKZJSADj4U0u8BIDDTc1MFovLtwEgBe9CHBEBDe90EsBhNokw4qH9mnTADHwUsRNCBT5CxU3ObGLAQGiBIQwDziJEpe5tBAGYydp8CMwPNgEABZl2hKAAULwoFNEA4xAjAHinfSBrrpgAwEYMgS4gzGOpvQDo7xAsEQNCJxwTI0nORHdLyqssOowXdi0ABTB3FeMBHGhFMS2ZZnCARgnSlRBC+muEgWGJ2EgbbypmJDoSUPgq4oVNmkgor+lQPEmRBUoSbApEOiAUgNMLVwKB9SaVIT/xKYg0W5EP2BcoBgHP0SEuB5/UoKisZbsSQsKoFRBgypz0sKOJ3XgQMygBLCvRB2ch7MnKch30gBW/txJAL1KhIDCRn9UcUQA4NW0JgnsHFEITE+NCQWomoSA1Fpf4gC9JoWAbtiTxECzSTrIiPYlVdhEA7NvTxKAETYFUfclQp40xt6VBNDy0E8ATokJa5tUtOGRRFGbSQ0MzLgjxaH0wtmTJ1KAqCa9l/kjJ9u05ueMBJCFTR2kTDoiEHAuEQokr35IGDeBKbsiJGiHEgOY3y7IEjcp4XsiEnQK+Z7DFyLAFDdlEXvyTCRukgXJG2IChDa9AHPySuBEffWDBJAsyEo3gE8IE8abdIGl4ENgtUQDeG7+BNjb5MQB5qNhQk03MYB89RlwGE7E8LzVUSAHSUPJDMxXADK8zyQguFbyEjCFjZ1EBFmp3hMGh5MLxKZ6YpgKAsAFvifo7iYRAJb5tNDBHGzPd+6ziQgilj9BDOEkF6jBzWo4CBI44XEVUQL7eIiGJ7iGAUVQHQ8FgKkzUOF/RCREEnSwhSj6xopYzKIWt8jFLnrxi2AMoxjHSMYymvGMaEyjGtfIxja68Y1wjKMc50jHsgQCACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NWMBQFoBysPB0lMBxMqaCaCAtasDiNfYmE7GxoiCw0gIQ0yEVdKKCdVLGjn0I2awONKBAUMzihcyLAhgDMAPOwo0iXAAYGdLChR0LCjR48DzoTYMKYHiYAYKeHgoeOjy5cdBzgJkyRlpAMlbCCAybPnmQEXsmRIYJORgzAVCPhcypPBjShFEbVAEoKp1Z4IaqRAGbVLhatgey4o4iCqChQYwqrlGWREgZQn/1qqZaDUhwYEG3YwaLBh7RkEQEigS1Cm6lUAO5QMIRPFgQMLKdBAmECin5EaNQgYtjplQjUKKK4ukOKiBQcOBhidY6Gii40ISpleyTANhxOmBIKcyHYJQowsEZg2EMKVWQouPhfAQALBUxIePpYi+PJMRfCeBKZkuPiJwoElHxb0VPCFtzIcMMRKoV0Kx4zoPD+MoKDMhIyeOrakEhCDRs8KXSjzAk8ASLGCeag8oBNMAyiwwjEGKBESTFa8coALGvDkwQPGFPHQSxv0UBwrFtwG0wz0DWMAFjCFMAItEFwhnksNDDGiLweM0cBHCnhWywpNwHQBe8MckEMHHSHwov8tFu0AExXlECOACVh8qBBUuUCAnEsE8HDMATzseEYRvMQA30cd+FgMBUIoMMZbuwhQRVouaYFMACzAyYsAY8zoUQMWIBjVKQ8E8dIUEgy6igUXuKRDDoquMoNLC9RwY6SiTPDVRww8iOkpAiwRm0dhfIoKBPfxKKipoRRQxEtMsGqKCWJ6NIOspgT50Qe4llLCSzj0SspmHZUh7Cg1uITFsaI84ZIPZTH7iQSjNqRACdJ+IoCTf+qXbScFKOESGal9u4kBQFjZUKnmcuICsQxx0S4nMajLEAzczYuJBC55MI6+mBxwXUcVcAAwJi1k6NEF+R5MiQQffBSCmg5TwpH/RzpwWDElDoggccMbQ9ICvAuFEFnIkpBQLUMeRIkyJFAk5FEFL0tygks06FlzI0u4ZMPOkNzw0QIVAt3IAdx6FMOqRhuiwsoLNYBt04vk4FIEOlN9iBQ4X6o1Gins9JEYTH+Nxs0fEUCk2YUI/VEEZX/tANQLKVEu24SEwSWWeA/CgcwYZ423FS/90DchDvjZ0QLRHo5GaHU6LkgSdC/UnOMJpOeSFIKbDflHF1ggeQ+VKzSF5BaInXaihzsw8EdLOP6Awv2miHcC/r30wdpmpwACT2b0LcARmr9ERNxAb6F6v6x/HUALWvT0QbBsC3FFTxjU9LUAGdxg70cIRIH8n8YGTIDExTwt4C3VKngBwve7Lml0AD1UydQGJ3i9sdVWgdDC1yaIwIR40oAZNE9rTRjgSwAghs4Z7QmK8wgGpEAxs0kAfR4JwRKI4rgsKHAhH7DB/ySHhh6oawERmIGnSIgGB6iuAU0YAQdZKAj/VKAMI6QhIUpwOR368IdADKIQh0jEIhrxiEhMohKXyMQmOvGJUIyiFKdIxSpa0YeBAAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TVkQEJKhMrECSDAtasBgkTJ0A2LzAdDRgMESIeOxoeKGJHFhAF4aUqLlMeDM4IHEiw4ICBTlD8OAFuH6cEMX7s+ACgoMWLFztUyCLkgD6HlAw4yHFjQ0WMKFMKBDBAgZgMFEBG4rCkgsqbOAVeGHMigExGEqw0yEkUJ4MsI34iOlDGB4GiUG8quPFA6aACJ2g8jco1JQAFSzgodWAFQ9ezKgd4mAAygIUdaP8JEtAIokLAuASMxAxn5CBUAghE1PjRI8MDCQkSsMCR5MiRHD+oKFAwNKoNB9UETOG6o0wMBz4XBfgIAQgKuFBfsJVmAMtJnBdouDCBCcIJJVtziighLYCLnApQnHDQMNOBFGUQ5Fa5oQprJMsNhgiSFJQBDlZ85ETQQ1qBJtERxjAFAQUCnAp6FHcmIMuCgguKqMrxAmcEKNJYSPF75sqK9aekYAN6LUiDgwxnDKAEZq1w0EV4FlWQgDQWXMGDWK+4dVdKNwDYzAG0OKDDaxh94aFVo5DgAX8XfZABiqk8wIVKREgAIyoZOOEVEDeiEkMEKYmwQo+ndGEWRgCgQKT/KRT8kFIHLy5JigkaoARAEFKWkkFKC+CQJSk3sFjQGB99CYoE52HUQIFmhoIbSkaE1qYnEFSJEQ1VzelJAFaghEAOen5SApAYzRCoJwkMiJEIJx5qSQwoMWCBo5wcsGFBAJhBKSc3oHRDmZte4sKREdoYKiYrbIARBpOeegkFM2IEqKuXoIDSELResgRKhuZaSRQoXeFrJRagVMGwlLCAkgLITnIAShg02mwiBVyAUQgTTvsIBQpghIAK2j6SAAgYRbBauIy0YKdFGpyLriIWwICRB3m+q0gJlxK0A4b2JlICSk70u8gIKMkgcCICDIHRAFMcnIgUKBUhp8OEdIuR/xAUG9JCB0i6mzEaRZBaEL0fE6IFr9L2qy5KPJQ8yAliDtTBeC5zMIOxLgviAIRnANCryzykxETOB3CMkQ4guuxFSkBMTDEEFrfY6scGoBDzQFoY4HIVlbVI88cS6IhSDaA6bMDJKDWQRMm+qfRzxkzwLJAC9VKcQr4G4foxB/Km5EHK4TrAxdUDEQDBx2/d9MXHR4hw0wxaO0zBFoSmtIOpAgdgghUkYrTB4Q5nsG5KDKx9sAlN5NSAcwK3gAQChBeEwBP9kiCEFRrIXVB69h4AxRSqEtVBddMeYIERROB9kw6gD/tAD17c4IEC1kYlRdLI1oAXGYBvykPnRVGRQXjk0xoBPk4VDMFguFW8R9QACNwQ5bsZVI/TAC9gLPADyluU5JAOO0DwriUDIEBgLxRzHKYYAAItbEEFTnMYggRCAB8QYQgZ6F6/lmCDIUTBAhIgX85GSMISmvCEKEyhClfIwha68IUwjKEMZ0jDGtrwhjjMoQ6rEQgAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1YwBgwEOLS0PJNjWsRItKlE/WVcvL1waER8MCjAvU2JRFhIG4aUQLj81G2fOAAAQsKDBgwR0EBmSQYC+TgVImJEBo8HBixgvAmAAQssTFeAeUnIQQwqBCxlTqjQY4goQCBRERmpBRsbKmzgDAkCxQmYjEzx25ByKE8ALIT4T9fBAkKhTlQMQ3GCS1NAKi0+zqoQxxEHVQQKmNNVK9iKVDPm+SkDwFIACHT7/OhAoa5AAGYdfi6wcwCCECC1fqpyAkgGCBBIJHCRxgaSGhw4on9Y48JWDhowKqNiIUgBNAbyKAhywYIRIiKc6IHwdMdeghyIxOls6cKKJAqIdoFQtQOTMAAIvYqTgZEKIFRELciroUZWJjx0lZH9qEQbBAJwIniQtwEK6KAlNcjYY8fVUhss3GSQpXyqACStjU25QzZ4UhR4Rbu6QUL/UERA3zZBWf6KsINRKXxBIigNcrEQAfQqGwgEMK3kAWoSfpHBaSgOIgaEoTLSG2QMfghKACyvNUCIoBqCgUgPrreiJBOhlVIN3MmpSBVYYfXBEjp20eF1GAgLJCQS3ZfSB/wVGcuKFSkCE1OQlB3SQkg6UTZkJDypRpSUmDoh4EAAqfknlDClVYCYmJwx5UQcxrGlJCzVexIOclmiR0gwX4glJEZFdtAOJfkrSgpUYATBBoZMkiRFSjEYiRUpFSBnpIgIMkdEANlwKyQgpyeDpIyWk5MSojpTAQEY7cIAqIxZQiJEHhL6aCJ0ZabCorYmYACBGEezK6yEFOHoQAioMi0gAGGQUQgLKHmJAShj0GS0aEqSkwLWGWJAmt4U8kdIV4BLCJZHlDhJeRkOkiwYFDWaUg7sTAIQRBkym60KzGFXAX7o3pHQDjtEesGqiZrgbQ0oM5AtuAjakJIK1ypaQH/+65QZgRUoIzFsuBHUeREOt3Coh5kFGWKrsWtS2ALCbF40RE7gZqLQAhNeaELJBAARRLgU/qNRBBuX2wG+iKJQbw8UZidATtxk4oRIAQID7QLwp1fBvwR7AfNEHRF/rQAXxYWQExaMGYMHBKt0wIK8cdHFyvyZEm0LENyngsrJPvIBTBLoNCwEKbOXdA9qFCsCBFUyvhABzrx6QwhJy5bTBCa9CcILJRInwI6NpQWCGFgcS9YKwQBbgAAkFHCABDkkcUUIVYgShgAI8EmWDV1NOENAFClQgQgVsk0WAETNPWcLcdA3gAepTbpEcXQW5tUSWZgJRNlkK3ECymUhs/xR+A0SQVygK4g91wRhRqLwmFl4XNYACYmSQfKEB7LxSBzpkUcIBBPNTlaBSEA2g4AcnQFyhEiCDDzQAAwyIgAg8sAMNeKAJYjiCBSAQQFsFIAEqmMAKIAAtQSjQXShMoQpXyMIWuvCFMIyhDGdIwxra8IY4zKEOd8jDHvqwGIEAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NWOFGgGDmgJEAYBKRyCBtauOA5GQDxXNy8bLxoIMkHzSz0nQhLlpi0lXjUezjA4Q7CgwYMIYGgIsmTCPlACpMg4Q+CgxYsGARBUoMTCQ04UamAcSdJgBCsrPmYCsqCky5EYiJwwobLSgxAvc1oEsAFFhpqUdugcerABipRAIX0hyrRgAy80kzZqMbApUwJYfkpdFEDDRQIXzmxAMCDCBoIYrBbkUWCrIh5n/zRu8CDFSJkSGapIgBDDQgsXXsCgcKKR6YUbKdwiylCDCJQjaNouKmAigYouNVoSrYBDsaEC2AJUCpAjSEWdHXII8PxJxRANml0yiML6kwEIXs6+HOCiNqgJM06XZNBjtW9PRya6vAD5eKcAKpQUJtnAoXNPUTq41LDtOqcASbyWlGLc+yYHTlwOMd+JQ5DhQthzciCUpIYD8jdJ8FHSS/5NOChAEgDd/YfJE2mNpIWBmkxBEgFaMWjJASKQRAU2ElrCRFgjIZVhJQ6O1MSHlrDA4UUAJEYiJXCNhMSKlBRQ1UU+SAZjJEiMREAON0rigHAWjUFOj5CgMNIGohH5yP8IOiah5CMOCIiRGEk+yYhIGGFRpZWKRDFSBBhyqUgLQBqEQQliLsJBfRdBsWWahjSBEQAvwpnIECPZYGciVYyEhY17EhLDBxhVEOghB8R2kAf6HEoIBDhd1ECBjqLhQIUXMYBfpYNIaVEFKnAqiAQIYBSCdZy2IJ5FGGzK6QG6WQSDq5WyMJIHoYoKxXQHzSoqGi40gJEMvxogBq8GgfFrAWOMRMaQnAYk6Ra/klBmQQqgKaqXGOnAwq9EjETDrwFEetESvzI5EgTgjoTArw4keJGenBYABEkecToBmxYhyakAXlxbUJ2VWsAfRh+g6qiRGC1wQ3mHMiEwQRWcwKn/CjSQNEajhxowhaJFrfAmnALkcOJFU3A6QqwXKdCZoxNIi9EF6B4aQAKrYiRFAo4yES51+Qa6L8hFATEylwFkkDNGNgCaZgJkwOASF5Sm2YIWM2JU1stwFjDCCy+BQK2dFjTBsrtHOK0kBwn8wACyGEXQhZiiHWGFpy4pMHdtR0eywglB4C2bBRAr1gUVRjzAwQFhJtKWAxN80YQCcJdEg4e13VCQBjPwAMQWLZhgAQQC4JCBBE9sAQQNVAAgLFNhsHucCWefEUJFCjjBwAdOhLCAdmqdoQAZtNbWw8TBj0REDNAe10TlyV+EwRffendABNG71EETEhR+XA7IZ48AkQoj/KcF9Mkv0MAMFhTvHQuCZz8AFz8E/Z8EIMgvUAVgRHFA3/JRARCo4IMIEConABgAAGRwBRfwqHEwMsERelAEL7ygAh7wQANCEA8GYAEEWPiBDR6jD+8paUgFgIADCmCBFVBABQ9AAwkEAcBf2fCGOMyhDnfIwx768IdADKIQh0jEIhrxiEhMohKXyMRiBAIAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1Y8FBhQmHBIcCRRoBWgC1rICNmMaNwo3G00iYFlDX1sFEOWuBihnA2f+/v0InGEAIAKNICeY3MOXysa/hxAhwtgxo8UBDgxLWYnIsaOUISXIZQzlAkDHkw8JiGhyYiSoJChj/iNAAEsGl50sLJDJ0x8RFjg1QWDQs2iZoJgCNChaFAYUpJUSeDgTAYCOARHOIDizk2lKJEChRqIAoYeFEypOrMjhokgNGwj/PlzweuYCkQkBxErKKyhvXgEkCmwxMgXA0qIDrkzQ20lciiVNYDBFUIXxJxZJlvhgSkac5cYHxGDoicDFZ1AUHPJc8OU0qBJTZQLI4foThTJEY25gUtuTgRMa+qFE0KJ3JwFHRMgMYtzTAxkywYhsrolCEJMnMZSgzgkCdJQREnDfRCJ2xwFgxm9q0QHlgMXqM40QeJLG9PiWlsQ8gh8ThysoaWBAf5eoQB9HA/BHoCU/CMfRC3wtOMkBCpx0gQUSVvIFSlpkSAkHFXaEgWceRjIESk+VGIkDuXFExH0qMhKAahwxgFGMj0yA0k04OiJAixEd1aMj+3TEBYlDKhID/3YRXXBjkooc0BVHxUG5SFYIdmGlIgFocdIUWyrSxUnMhYnICCe9AI6ZhpRwIEQRHMCmIRIA+VAISM6JBgWjcdSBA3oSksBmHGGAQ6CDcABCRwSYgKggAoQY0QcrPIqGA4tyBACgjwYgKUQKSGDpBG8+1EFYiD6wFUcgwDgnmh3JkCebAgBR6j83WIqGDQ5C9IOlJEjWkWmPQoBlRAwshGgVU0Kkg7KB0hiRDAMi6kB7HRVh6RN2/hNCioEewGtHMDzwqAMVnISCq2YWYSGPgQagw0lcOIooECcRwEO1eibwwUkICPHoDCcBIAW7W2bAJEcxIFqAeQ8iesCJ+WKop/8BOazaUa6B5rDDcKLqiYMGC0cERLgQRzSAB4EmcUNMDGw3Zwov3PrQB7/OecQLMQEwRchhFmDEBjENUAO0VuIQhsYnbTABwjEmEAUNc8WkQMMZBaBCKRQI8cOxKOnwBdTSnLCADYBGyIkBJRShQU8YQLEmQxzs0A8GSDCRAicFlDCDBjZzpMMWOJnRqwJNDIEh2YuwwMIJL0RQNU9ORDGrNQ9chWwIQeRwAlAYsZuXOCak8IAVN3zMFAAwwOeStB1V8MEUPyxhQQ8kHGFAEiSM0AIZW4BBBQ1nlMzTAF4gzZAQ//YkUAMMMAACAx4woAMDC4xmfE8eLGGA2gwJQEXQr3SVz9EHNGRAAlJibG+++QRUYIbyI+XQ7Pvvw6BFDOAH5QAKBHAf/mICghqMQE6nYQIKYBCCAfZkA0gowd6MkwQxZGE05HMgAUIQASOsYH3cEYADWgAGGKTLgXOpwQ++II7+cccBVchBEGCwqD4V7QwdGIAMxvCDDHAAgR4ixwQmMIIwDGEHWdCBByLAxApU4AowGIMUXOCCIwgAaFYixwMCwIQCxIBtBqiUeHRFxjKa8YxoTKMa18jGNrrxjXCMoxznSMc62vGOeMyjHnERCAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TVmRRoBda9K0NmEFVoCdu4PWcRITpaNyU9aCbks0hn9ANnFwsbWVYlKfGwQegJHPjhzAwbFPz9WyVioEOBA0SM2YLGwMJTHCI83HimAQAkVeBdJJVCAceTGoisGDkKB4KTJy8Q6KGCJSgmGGDqRJFDgM1OJc7k1HlSBBISPzdBKIOCC5YzL4k6ZPCiZlJNNZOcAELDwxkAUgUqSHK107gRJ3bsOGNPKoAoZf8/pVgRpkKDsGdcxPXkc0QRHXiB7P1EgoQUjVLFDAb1JYvUBUYWf5ogZihMBTkCSO7E4YhJnRombPbkoKFOGqP5yiA6JnUnAVSIUnS9iUMNnTAk0N6UICBMLbs1BYDgROeR4JpO3D0pA7mmITpnO78U+6QPbNMtuTwJQHp2SktggtD2vRII7kLKV3oCs4Zm9ZIomN544QD8SexPdrkv6UCHkzvwJ4kV3CEl4CMpwATXgY9UcBJwDDpSxkk6+BQhIxCctIBuFy4iwHIbxdAhIxqctMSIi4xx0g0oKhLFSR60mEgLJylgkYyGSHBSA/bhWIgBC3AEgEg+EsLASQ4UWcj/fxw9oCQhUW3k5JOCMLmRQk9SsMFJHD4pAWIPXdClkip89pACRCqJQ0EbVZBmkUwEuZEG41CZw0lXWPgkGCc1QWVFxXFkxp8QHLkRABb8CQWIDm3Q45NegLXRFRz86RVHY+jpYwBJSLpRDlQWMMNJHTxaZAIlcjQDlQEYQQBHDZxAJQvncRQBDlQa4elDM5B3aqobIYCrkgcQeFIW2G1ahZmfPnnADScNQMONRS4RwkkIjPDkCbs+JIWpMqYA7EYNpFekBYDtOISSFEihkxRTyijABC/oxEAUmjLDxCwBPHAbTA3wUKkzAeSAwBOxBBCDFK/C9C00SaS6RAH5ouKA/xiXiicawREPNMME4JYiQAJKdCDnSRFAAI0DTzkkgxnxllIAFChcq1MDPbzXTAs1dEvPBleIWMoDTThI1AbaPnNAEzAFucQI1HqSARjz6bQAEDo30wSjMNIAAa4VU2LACUgosEBbOlXwhTQZS4XADV6kkOQkFglgwhIoXIAB2jAR4MF+0gTgW1hgveDBCUUMJ0iyhZDnwBFJjIBCiSdLVcMJA0+jRAN8E2UPAzTs8IUNVUCRAwcxVHHAEUXEcEIWQcjgRMN4QWWFVdaQ4cQFtQskpw9ngOABAB7sAAACRvPeu1AVLJG1NUfYwOzy1BNFRA9vbvMAFGtV7z1HCAzBgstNFE/+/fnnLHFcWScM0QDt6Iclgg3pPf/TAQ9kEVvl8T+0wAtKWAELoraXA0CgCDIwWv/YQg8GzGAID3BA2BZjARU0YQoA2NL37vKBChShCgZIwART44ASuIAINwDAeQbgM4fchQAayMIFYzA+AmbHPjiwwAjAYAQs3IAGH5CCBhogBRpEIAte0IINMmABHMQsQtowgG4y8IADjAACB6CiODhkQxy9x35/CqMYx0jGMprxjGhMoxrXyMY2uvGNcIyjHOdIxzra8R+BAAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfYywLZuwlPK9vct2URWF5RAeK0AhpnZwwMNi7qshME7u4YAE1f9K9L+AIuGGDjib9VBtoFDHihAY8MB1GpWLCwIgMZIxJELCWmosczIHg42Dhqw0ePGGiYIAnqgYKTH2V0KcCyUwIjM0TAXAhAR5GanlJkIKMBwE58CJ6kA8qpwIQnIowevVBkJdNN6VaY0XH0zAYxNK9ipTCCyIejEYaEFatJAIQyDP+kfhzwYQvbTgWKyDiqYMLdTg+kyP3oZO3fTA6wYIA5YIaBw5smaKEIMwfkTSqm3Du54cHlTAFU1NhJ5LMmEx5gXsix1LSlEgNgyvDs+lKRzR4ZfAlXm5KAIDCvjOxdSYWPkwSiELdEBiYIjcsnHXgR2yOALtEnBeiB4OOCGdknOUj98QPt8JCMDF44BH0kElw/UuHtvhESyhURQKj/CMrZj/Pw1wgJOn1kg4COiIHfQjAcgCAjVSzm0QcWPLiIBP9VdIEQFi4C3Ec8tNahIVacNAN9IxLyxUlUpIhIBifp4OIhJnTnUQMSzFiIChF8tEELOhJCQgcfhTBckGgEQOT/RywgKYgAIMzll5MEfoQBRE6a0GNuQDpZQAMfEUCCk2gcUF1FCximowonMaDmjFCsh48Gb7oIxJkLEYHijFmc9AOZaJj0kXJOcoDnQucFWcVJGNSZIhEncUFmAQycxAOZMZwEAJZIjvZRBBw4ycIFJpLpBUwcIklCpR8p4GiHPMD0J5IsSOjRAk0iOQNMpSEJBUwETKljQjBJgUwRFPhSAAowYSDsMAnYcIYWj/FChpwBHVhMCTsYhYERvCSxZHk5EgMEAnIlFyouGbB6Uj/DPHADbviAUEW1tWQAw05XJCuMETBge4YTRuzpSgA4vLBTBEcG08GhAQGwAbyy4LDD/1FfiAhMczsp8ISDsEBhI0xjGEOBFhAvFIIN+7kyxFEDUIEvMSRQtxMBHhwBXSoS0NCVDs8WM8EVAuMDgAc/SOAvKQJsB+ZRHQRtjBBU0GslCk9Q8KomEljQRFcgrcCMASVQATYDSoxwwNKdnADGlkdpcITGybCgMNgfKNHDAztfIkACGdBQAdgD6ABFNCpQEQLY72ShxBe5TkKBAUL8wCzjZ4iQajQWIIH5GQ0goEETSZSQhCCGpdOaABLgcIISu7oLNg3lTiOAEeOCbRQATkRAQxE/LAGBCyUc0QMES4yAAg8RXAH65+5cik0ON9iKeXWVhtDjvgrcU3RXCMTATeEBLWihw4LQp6/pGVmALE4COchAwPfqf84ACAEe5AAPMAyQcv2Y48IPVFCTB4BBB/MD4PXOAAMxbA4oLfgBCDaAPgV6RAEVQAIH3CcWCHyhBi+wngXdga4w9KBCn0nBCp5gvnfUzygRIEAYlgCRrbGlAAYgARCsgAQNYOA4ZyCV0QTilZjtoAg98MvMokOBAxRgBD0YgRaagAQQBAELIphBBcLwgiH8IAZVIEHkUmQCAQgABwGAAAU4oJExLRFQcIyjHOdIxzra8Y54zKMe98jHPvrxj4AMpCAHSchCGlIWgQAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g3hLhsyweUQXkrwJaZwxaEOqtRwtnZwQKI+nyqSL2/xGUjONnqseAf/8wEIlHcJSEDQgjUmHSUFSYiBgVUKzoKQMBjBhBbOHIyYCRMwdBIvSRwQBJTQeWgFAZkcuJl5oMtCBC89+ACi1wZgpQAAnEnmdqsBCaicQRHUjP2EjAFFOAE1yQNlhSNVMLH0gJqOiKSQgNpESWkq0UYEKElCD/LwARsNaSi5k0NSSpW4nClo8qFzTZx1eSgRs9L4woTEnFjp4vGFPaoqCnBcmSSCjpiQWzpAdgaabwHKlITzCkIRlAQPMDhdSPlvQcCbtRAsAYB2ShW5tRjbwMeyuK0fpEAOGKDmhQOWAu8kQGwNAM8jxRgC4hVF54Xf1QhsogFyzubuhABZUEvpA/1E7lkOPrCQGhSQV+fEEuGqj0QPW+ICY0eUCCf4KYwBpIDBB2XwqhYdTABASiIUEHKikwkH8B4JUbDhGmABVICATnH3gYETAagSo0GBECD0SYAE0IHBBhEh+oVEF//o0QYIRoAAFXRDfw5p8UNKFGIAcaRgRA/w8RtqCfSiLGBwVNFajlHwo0yRAhBdmphESEJ9A0wGUEBvEjQh8ouJ4D9ahkg328HGEGnMIEcBFNGfRSwBNUXMDAicRwSVMEA+piQhFOEACAPWMYw0NPQNBJywpI+LDAjxdwOAwEB4I0wIW2jADAoiChUGgwTfREhKSzOEAqSCG4IIwQPS2gaS4z9OTERr6YsBxNNPACwZMgAUADd71sRtMCZOoSwBivYrSAEULq4gJSM/iCw68qRcDkLkx0ClIDLfpSRI3M+ZAEq7KkQKJKQAAjQa497bACLg84gdQV1fbiwFF57VWLBI/Veq8wLmDQ0wAeHNGvKxB4EJURxAgwBf9uNsagJitQAMzcDBv/8kCqSPnwAxrsFhRBVCLIaMwDG5wZ0UFKHKwKDliyDKgxUcgQFQAwyPpwKBxEwUW0KjUghDIFCNGBzDOf0UQMLpHiwBjoItXB0swYkWRPIdiQAo6eHGAFsWE9MbQxAljwbsljfMtJC1NAbSPXz4xwVlT/fKDBFha4PIkAByTwxBV8I9RBDGsrg4MMCiduDwgyAFECDgJUrYhLLJxAhg0rS36PFKBG40AYGPN9kAIfEDGFEVvgMMIBRyQwQQkPuAAEEFR0EMEFov8zRunSGPAEA0hLXg+FOmCgAAwLQH9Gl8H37ULj0ZTQXvXcJ84ACg5wc9y+Fxuk3v359iwAAhnEazOBFQy0if75F9hgczglZPH1/JKjACFBAjjCEt7GP5oQQAnhIwkFYoIFqNjtfAQggAiKEDKOSCADZgABDM6QvOANAAYvUEIMGFOAI0ShBkQAQGXMpyR7KMB3SHhCCRJIGhZIYAtPmIISdvACDyjgCg24AghAgAIp2OAEUeCa5p5DFQgEAAISOEA8EvCalPHoiljMoha3yMUuevGLYAyjGMdIxjKa8YxoTKMa18jGNroiEAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq650GYSkC7KUUYAQySfKjAjwDZwM7FvKFMnKmYEEQDgR6ymGwIRYOCjdVQdCwoRITES8FSLKhYsMLZeJlpMRBiseKEaKMpBTgSYSTBgd0SLCSUokGMA3aIFFzUhQGOc9c6NFTUgAxFHNySVgUUoEhAHIuQNI0UoIaQRlIqAopRVKYPA5wfbQEJ0wYR8Y6SnAjJwEbav8dCcGQs4GBuIwEzAjq4i5eRRA65JSS4q+iAChyRqhiWNGIEDAvKGmcyATWswUoHwrgIurJAQE1G1JRIScQ0YYEJIZJA7WhHjlDuC7kICjN2YOAwhyBexCNnF56C/qRk4hwNFtgDpARoHeADP1OeriNG8IHmB4gCJ8AA6aGFttBwFRAfbYDwScBQOxtwKxHACqEk1AA0wcT4RZKnwTxQHgSyCdt0FxvK+SkgF+4nRCdR0GU5xoSC8Bkg0i4rXZSGLqkMMISzbAgQ2RE0ZJAEkVo4cEHBADQ3zIsBLViLGXIoMAFAACwoAvMROGZRxu8CAsRC1bUBDNN5FQDhbAUkZP/DlslI4F4J01FywQ5AfDEgMdUEWF6ocligA85NdGkMQJkYaCDsMxAAEwRQIHMA3RJiKUsOdD32RTI2LBjRQTwVosKv8H0AZrAPACmd4S+UoCSOfGQGTFiVEnVLSbEeZICGRDDwgU5DcDULUDmNOEwZuY0AwW5VGHnSQioFEwJnMKEgZ+4mGBDUDo86ksC3eX0Ai84bAnTDzz1glhQoPVSw54VNdAFkrk8EdQZKECLiwVQwgTCCbxkEKugPu5iBrIbxJcLd8gaAYwEL0zrRGG3PODBtC/o6gsEawZFwwS2eDjtBeYG44Vuvgox5yssZJuTEQf7wsGt06LV8CpHvDRt/xb2BqMCFtOescATqLbCQQ+HBqXBmMSoYPG0NgScSgBWdHyGDzgkE8NXQXGRgyon6DctBpkq40JHHX9QA3ikGDCBDTi7FQMzBmwB4LQDELBEl58cwAN6HXewxcTGFHAE1x2DgEILxWpCghBKkD3tBztDU4LPHQNAwA1buEwJCSegQLTMZyAQdDRCtAu4QR4E0cMD5oKNxpwsPIGCDsx2/MKn0rQA8eEFRXXFDTY8wUQMTBxQQAsWrAABE08g8cJ1nBvUwBSYT5NAF25zvkA/IcCwAQEdiAADwbF/BIS10wQAQaDFN3/4C3pjs+jfzldf0QIiFIHRN0vDbv33TdQsjqMBFhBB/PeHRzBGuONUgQQB+aL/8w0xiJXOASZY8YKl8hu0gAI0KELa5EGBKJQhAh+onPMqYIMTpABBCinAASbwgzGI4AwMCJJyFoSAGhRhAshbiQAekIAq/OAHWhBBBWSggRAQoAJceIEMaDCDIcQgUXghQTxYMIEHCIADDyDhcYZIxCIa8YhITKISl8jEJjrxiVCMohSnSMUqWvGKWMyiLgIBACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09e8xLwL2mwZKZ2dI9mVSAeLfmQErBFpyQcDgPxEBFEo6UMOhwy4SIVnoYNEhggIZHU0A0NEhj5COeJQ0GIICSkYCYKz8B+QloyMzz3TQZ1MRjZxReiqCkJOGUEVUZgJIcBSRkJw1mx6qMFOG1ENDlHK4WkjCgJk5uBbyMHOGWEIqV4I4O2iFUgNs/9EEaLjSQlw0Tma6uGtj5o+7RWbeuFtl5o67E2ZGuGtiJoO7BWZeuIsmpywRmDNrfhbAciy6JUE2OzCTgCwMM0k4YzETgywEMx84I7oSgSyZKzM4yzBzbawXM3s46zETi6wpfp39mDlFVtaVQZwFmTlE1oiZCpxxXDlCFuuZEpg9yMliVoiZW5gZmRmC1s+VWZhVXEmF1vOSDXgiE9CAOi0cOXWXzHUz4VALbCtJoYwUM9lWC3IrLYWMCSSt1FwtTyV3zHIzCWFLAAiW1JIxFJy3UgcR2eJFTksYs0ROXuDCQoX4MTVMAv1FWB4u861k1jAz5FSDLm7NNAATwjDx1f9MCemCRU46iOZLATrkZNwuieWEAjAo5HTGBL1k4aVwvRCXU3y9SABaSQRAwAsEa3ZEQHi+3FdbCrqkEOJKYgATgAheRmCjLQlE4CVEwcB56KCzJABoTm0OE1igDtDigKFeFlEMg15+YGAsE3zg5RlDFkNBlV5egNErXVwwagUuGfMAA6Oe0YSUqRTQRK0MyIaMBXGu5INuqWTgQ60E2KVMCQvUOsAMqpVCghZLerlACc1A0WytDfCwVSgc8JDjqAtA8UwJrtZ6RgNWmOCJCVaMO+oF2EJjgajqngGAFCPoV4kAIwRBY60fKBuNA1Tl+08DWWxBJyQSbJGFvOpWUCm9NQUQobBFCkjBwxMWpEACXIIUwIIFT/AghQIbO5QFrtQYEWzLBg2wLc1yGrGNCnnh7POoTqjQTQBFpPvz0QZhUESK3piAQrVI0zwACu6OA0GPUStcg5vnQIDCzVnPtAAKXKuTwBKYhm1RBEsw2o4FYaQddQRhGEzPA0XUsKfCCBBRhK8hJXCEGWPQoMEGDaR7QQMbaEDDGGYc4TZllFdu+eWYZ6755px37vnnoIcu+uikl2766ainrvrqigQCACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/v/bBACkZMHFi4GPAqwYU+FMgxEIF7EQUkPBmYtnUERElKBIjTMDMF5EkGKjoQkiU57pEsAkIQcWVV6UItClIAE/ZF78wMHmICYYdGLo4VOQgR06z1ihlYFEtTAhZVJJIOsAhg1YkGzBYQAak6QXesYqcXEAgAUhYNTgUaIZhJgq/xuskDVEJoABB5kVwCLUiKwmScE4kxJVpRhZLwqnfOKMR1IlBWAdQKozQ0tmI5Ji6frqARedIXA4GwFAp4hYDzzorGDBWYwOOrkcgEXCx+rWzR7ATemkBawCBHQieOCMQmmZG0q+crBA54XIzVQ0l9mAs6sVOnR2EMssw26REWq6cqBh9QRnSWzL3CEBVoDsMkO0bZaEgU4syl0JUC8zQ7MAJSgmEg1OvXLARzINkIMzT+gEQBCX6ReGTguE4YwXSWkUixVJZeEMDUmVIUsODei0gwPN2KcTRLE4kNQZxC3zwItUtRiBTgNswYwLSYUwiwA3JFXDMgGgkBQNtFgxnf9KFaCYjAkwJDUELRMsmdICCyYTxXEyMUHLATfqRBMyCWiR1AbQyRLAhDoR4NsxJYSp0gIa0gLFBQ7OgIwSAmLUAVG1JKCaThu8SYwEsOn0AgS3eMGlSksUg9OLYlBwiwRWpkSAk8KssEFSBLCASwE2vDikMAKwmaAUusQQVJsxCHPCdyIpEMUuICZVgQnACNBQUjO0p8sEj6p0Q4S7HOBYUgCsgOwtAczw4hmA7iLAEyU6SIUvKSDwIgHz6TKCCC9W4J8vLvQpEmu6PKCDuhhN+YsBuSalgQq4OEBZUjJw6ssD2SbFhb+yQEDFtACcJwyP08JAsCsBZFAvaEgQU4D/kdNGAIUsQpA7rRbcCZOAE9OeEYELIatSQBQXwIvRFYwaAwF804Lx7CkpKFHyGQrEfIwFAb+owwmqnCDDzgxsrEwJr06LgA0rWCeKCll4W7ICfhGZA63CeVEgKBOIgYHLIjXQQ5rLnPDBziMpIUSNmpDwgBblsd0BFGgzw4TVbG+AQhRwV6LCFk1cUKzQsUrjwMQ7A6BDEy7EKMjNhjzwwBNSDMr2RTKEq7gNQW9+xgdY/HCCBRCsYEELBXBgQQwW5DBGEy+ccfjOWvhMTQBmNC16SgzAIIICF2wAgn0DBPe7n1/wms0DfC0vvegvTEB5NSYUIUKm03ePkQJmWPoNqgQYe2/+BzMoLM4DSshpvugh1JCE1OIcEEMTvr8P6gJKEL3OAWSggQK4p78LXAEJEphNOwyQghPYIEr6A8AHNsCDHKQMHgKYABmIwDeQ7CwEZ4CBDaywggOITx8JiMEQtEADGbyACxUgQANEAEMQoOAHSIiCCR5AP4AkwHIcEMADJoAiAQSuKEhMohKXyMQmOvGJUIyiFKdIxSpa8YpYzKIWt8jFLnqxHIEAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/v9oVgCkRMJHjRMBBkIqcgbABRlfDihsVOGMRQALYJR5MDHREYsgzwwAoICIxI6EAigJyfLMBJSEHMhoCXIHTEIlItC0mOOmoAA9COyMYMKnIBs7zzQpYFSAgp0EgBiYJkBAilkZMOxEMAKaAAdJtky5IUKArCgNdn6QwEwAkxhK/2Yo0HFG6AeBsAJ0GbCTSjMDWc5coNk11oykZZoFoLETAJCErwpQ2YmhiDMrSW3E4sB4ZxVnLvjSbEIhFl2aGCA4K5HUQ6wHCHYqUN2sRFqaMhLA4lCR5gUVzkwAkD31lQOtNBUUZ7bidssdJGA50EkTAQ5nDmLT/BD9VQLtLRuUbqZCKE0Ry1sl2LCzA15mQgbT1FD0lQEQSYE3WxFipwaz9jmxUwOFMXNCUn7FMtlOPTizxAI0AdAEB7GMsdMASECmjAA/JAWGLEMkJYMzQST1hCwxDEfTBmwtk0B/NDVwhCwsJLWABczEgFxLCGQgSwIaJNXFMgEAsSNLPgAYi/8USdGwzAFaJKUFLUAkRYBuyZhwWksDbKEkLA+oSBMZykCR1AZJ0BJAbzTZlEyJO73ggJo8JAUAbcaYYF5LCyhhCwSi0XQDMh1eWOAsHAgIFZbEkMBAUhEwZYsLSZ3hZzF1JsUDLiQ4Fx4TxDzwVFIs4BIAUggOwwESldagSwry7XSoLyeMGuF1ujRRaQVz/qLCC5U6uYsKsdI0pS8FaAHhThfE0AsYlZ5hRi8F5HAkSwMQkV4uEnRQKQMl8JIDfklVIMQvXUT7AZ62BKCCCIG2dMGmvwgAZ1Ii6GdLC0xWKgVHwKhwbUsgAEyLCleI6RsOGv7yRLRnaIBrLAFYEIT/wi0RQK8wBigRb3WfwSIADiJEO0AWjApTABcQb+ACLECUHC0NExPDggcQn3HDS6s80OHHLWFQczEWPBotAB7kcEDDpDwhw55JafDFMhZQFy0DNhg8igU2LIAxaieclEwAJxRbaQNhtPjJAQeAscHXNEWwxDMWyJzzGTO04EkVPLAJMQJQSKqYEFbf/cIJJBzwZSQHqFDFC4VD7EEPizeTABFQ5xyBDUaMUGrlhkwFwQRk1IAz3Dtl5CM1CYQBNMQX+LBBEEWQ0QNYOFCQRAFCQFCFC1Y0EYFOqNt5g9ZUdQHe3Sw9uoAIF4CgAwb4PZU58wMM8EV32EighdHMhy8+xEg1hLyNCUaIsOz47NvZgBmKfzPBGAO3z75DNoA6zgQovG7/3RF4gbOYFg4WKOF6/6uUAsCQg22ZowBFAMECEJjAM0TACT9gAffaAZcrVMB/2LPgBpYwgqvQIwVH6IHbPuCthkQLQh84AxZo0IUTCO4exSnBE54wBRrcAAY6eNoOOgCDK4DABjdwARlYoDfQ6cMsFCjKBCQgAQsIQCAmIKBRtsjFLnrxi2AMoxjHSMYymvGMaEyjGtfIxja68Y1wjOM4AgEAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/EBJfSgEjszEvicB1LOAHASw58mMmcSAmCwJIBBSzg2JJxIoAaEh5MMKFkwcSKACl0wQgqQQUfHjgMGFBTZiAOYASc7MljBspEDHzEnXshRk5EBGzkn3ijQc9EEiUF9TCi6qAiBoAPCkGCaqACNoGc6ZHBI9RCTBlhvdEUkwArWBRbGHuJwNScAImr/D7UIAVWMgLiFjJx9gJdQgBlQxfYdRMEDVi8GBgsyQddtWsVoqmAFkRiyi6c5ZSSAjOYH1imc0QTB+oUzBxlBL4zgXOBK0AWrOUfAyhdygcYxCWyGzEJBUAS1mQVIgcaBAQMO0BDnEMsEjKAhaDYjMQMFlzA7bNQIMqZGLAOz3V5sNiEhx4kcQXB9hQArC2dCMAR1MhUWzqDSmQnBHNMJ0VcCuBbUE86MgJUM67USgBZY8eAMD1gpIcsSYTUTgBKHyRIFVhU4M1pQRcgCwVn/KXOAb0ElIcsB/MWEAzMZnBeTD/XBIgAIWC3BDBAw5aRBP7EEANR8dykTUFA3FBnL/wlYEUBcMg/gdtIFW9BiwgVYmaGMES12dIGKswSwA1YaJCOAFD3GpEGJsgCB1RmPGdMCA685WAsLMsbUxDECKJFmTLHVYlhQAAQ3jAXtzcfmLFu8qUUxBvAgX04XkIELB3RitdQwK5gUFANg3uIZVlQQg8SbM1R2iwNgYVVlMEJkmlMI4+VyKlY61NhLARpgBYAWquLiwAdvBkGBLxoBwOFKu4jx5hlDKKlLD89qoWsuJFTw5geB5pIBijkNEEGcvECRZ0wY3IOLABAMitUPwBhww7MbqGvLClkoi9UOzAFzAI5vemBBgrAEkAQRz57BxDAGPutEfrFAcAWWTQJRDP+EzyJwwncWiJBwDdIKc4O+b3rxiglDAPymBtcKo0KvCVOxWyoFpIBEByT/dkQyECD1bAMbhxzKXTk0QfGbFbiwTAswJ6wFDiaM4lAGQEiJqxHBIpOBu8/6YEW3nNyFgwvEJnzGBi4c4MwRIuT8pgg1MFGA0JTMzYQRHfz5ZgRQ0J1MBk0nrKwNQGSAxqKQJBDDFlZ0YLZCPnThtzISfPh4VgSMscQIJkStSGUqmNDCDzd4kOjlNfBUDcaXJ0RsEB4UgcQKLpgwQgoWlCDBFyeccMN2yh79eAgozFxNDGW3rtAZYHWwAQI7YLADAwSE5/bjA4jgRXLZHJDFGXorL/7UsxjAMILx2XyhQ6vjt58aEJt6o0IYXLvv/gBj7DxOCWVoG779ZtNCFc6RAAmAQQGnAyBWBnCBAdggCuzIgBmmwDwF5iYCEfAC2NRRgAAIQQmAac//HscRBFDhB12AGDwMcIAVLGEJPkBNe67nkYSABQRBeAEPWtAC9NHDISmAQA6+oIQpyEAKG6ACA2SggwrcQANNAIIVXMCCCfiwJkRJDg44AAELJOAIAkgBcdSGBoKF5oxoTKMa18jGNrrxjXCMoxznSMc62vGOeMyjHvfIxz7CIhAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jpmlDqql8EZAXtpkVnZzpR86Rm9vYRVQL0gXLRoJ89JxYEdgowwofBfjIsBFCoicWOhwZpOKCYiQhGgxdecLzk5eNDLiMrjVhgsl+QiSklCfDQ0p4UAzEn8ah55oWEnJImsGwJIwNMoI+y1ASwBWkkITx/OI10paaMqZAsDP1IQAjWRzVq2jj6VRELDC03HCjbaElNMWz/GQXQ0fLD2riKLNSUileRkpYAWPRNZMChSZGDEUEg0PJEYkQuWjaQ97hQgBstqVQ2ZICuyS+bC0lA+3HBhNCEkgAwaRf1oMgmPZAN/aOlDdeCAjRpSQY3GgFYWubwXYCmySS+OcAwCaBF8gjMN+Km0KHlT9wGELRM4BuNdpMpuhv+iNy3jJZPumM2CaS7lZZIAuIushrjABSzN+fYetKZAA67ZFAfRiFwt0wCPGzhQgZrBSDfLAcwIBwzUJyhgA4aaCBGDDGsQAItNLSkBU7K/GVPfQx4IMUUtAAx4EMaSIeMABUwpwQtQoRgEgIQKPPAiw+VQEsK0H00wA/5DTNE/0sEUECLAFKkdd0xNR5mSxQDtOQCMiXU1IMtBYDQEg0fGhMEYGU+aUNLIcRgTAZZmnSVLQzF+dELaQpDRU1V4ELBRS2BNkwGjJm0gS49AGkQFw8kqQsJgJo0hC4cGFcaEgACQ4ai/WyQJ51FFPrRBn3+kkJ1LZXBi0UtDYCFgbxAWhMCn+KSA2km1TBlLgeAUdMA7fVCgVI1ebGLAS5ISBSsvFgAg50YETDEXbfEsEFNBAj5SwBAKGsSAV/eYoECS80gzANn1rRBDiTOsoK3JlWggjAClDDet0aY8OArJYjaklfEbFFQTT4MER4ssC01aTEUvMdTCDcAvIoAJNTGE/8BMzh5DBL8GalAFyzsW8oBSaDA0xkAUDEvMiaEyNMAFXjhlaOetOBFpDXBsMIyEhDhr0kNcJEDs6AkMIII3/GkQELMOBDcySgT0ZvImhTwxV/QtqTAac5MUAOuJxNRBgcNXoJTCUk44RnUERz8jANhbJB1TR5MwYQFElDrSEAFqHAEEjt8AHU/HtTKTAAPDFHk4Gcg8IIVSJABAQcFXKcxiSagkcAKEFhhRgdOoMz4GTXQzIzRy42O8gcNdECDGDbMEEMVP4wgxA89IEEEGAhYOvoADICRzQNNLK66PTrew1gFjAl+fD8YyCBoNi0UwcUAcz+v/UMbWCGxNgccgQXBqtuXv2gGgn1jQg4um7+9DGH8No4AQOzm/ugMMNDDEem4MEah2bsfWlCAhAfoowRliABafma+C4BgCmTggMYE4oAtEIEGMLhW+UDAgCUg4QAGjIkAJtCDE/AACwpAQJUGhhEEDGABMlAAD6ZggfJghQLysEARThCFJqCgDDdwwhi04AQvKMEKRxiCA3CwFqqVRWMS+JADDOgA7pTJdN3Joha3yMUuevGLYAyjGMdIxjKa8YxoTKMa18jGNrrxjawIBAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+CrLAnhsjwEQOWvUCBnZz4P6qsSPxfu7koG8qcBOE0N99whKLHPFIQXAwLek0Kh4KgRHRQGbNDDIagCLgBIVKjBhEVPTxRsVAjAxkdOPQiMlCjmpKYR9lbe25HBZaYJPmS6Y8BDn81LLHLqhPGkwE9MNxLKrADF59FKYnSe2aHi6aUJH2QCCMLBqiUKInRqaOHVkhiNK0VIKFvJQcyRDf+YsKUkAIXMBTnmUpqAduQYvZRoyNRwALAkHAtkyjUc6YbMKYwjpWCwMoSDyJC8yPSCGdKGlQzIdW40QabJ0Y2QrCQwATUjAzpWUnHqGtEDmVVqL+qxurBuRAKarJTxO1GBCCMBGCmOKIFMsswNJVEqsYGA6IaijpQRAHshGyt/eCdUd+Xy8YIMyEheEb0g5Bsv1HQvoN3GASzco3HwOX5V9wFQtlEEl7knQWwbLeAbegf0J9EHK+hnAAwjhZCfewXsMNIAMeiHBhYjYdChfnaNZIaHPKw0hlHuubASDR4KsRIGKeiXgIMKfTAieiasd1869E2x0hUexvCWQgu05p7/BfBJhMES+lHwwoZUeOSedht9MJ8x1wFjQkQjTdFdMQacUEVXvhwgXIUQGDMCABVIUcWCugTQhYAbZWHMlGcs0MEOJxTQkC4tUDjSBYsJE8NGVACRApq4gJHYSFwMw4ETK72w4y0tAJRcF8IAIVMILOaihEwdFOgLDiHI1NIuLLS6khai8RLAFajSlguWGxEwBJ24BKDaSgOcx0sBho7kw4m7uCiTB132siixCpygixAIyIRBEsFkQd1GPrRpSwBQyLoSZME8UIFOMuRVCw7JjiSCrr64IFRyMMQQLSwxZKXTEcRwUIa5yuZAryoHGHFkr0ASwwISfVWoxKCrBJBA/xlgyoQCxQ6DqBMAREDBCgs3RDzSC6Uak0IF3/ZagRk1otKDSFKJEI8yR8jQ8kYIZLEFCaUcJJU7EeDQDBP2SRWBEj0cjEkAAkAww9BnDDDWMxZgOvQCClARBbCXPJBBGBhQfUYFJYzZTAAZEGHySgs0AEMPGUA3SUMZlHEDzVR7cHM0D9DgqdkgcDGFBRms1dC+g1xXmAM9FEEFAXgOjcEMKUfDggs7U+0ECEoMAUQSW0gw5wkOfBGDFzZogQGOZivAw1rVdNeDFGYrlJA9DTDAQAQMbMDABQCplHtAEfSQOTUFsDADgsdHn3sNdmvjwAhXlC399ish4O43K4jBBbH35N+zgBVqg0OBBUiMX/7xC1yAgqryJJDCEBpU/b5ODIAwQ6IWKYAEcuCBChhvf+7QSANQYIYt/cQAI+gCCi6QrfeBwAlIcIAJGHcUo0yADGK4AgJic0CZUEYDO6gBFI5woch0JQMxOMEMeMCFLBTOBx6IAA1AMIUXkIEHUHCAuJhjlHhYAA1MEIDRaOehJjrxiVCMohSnSMUqWvGKWMyiFrfIxS568YtgDKMYx4iLQAAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2NnajRZV27YrVhFnHt+yJlVEGGfsIRDmrxYoGwDs7ABm8KwTKA32/wNo6EuVgEeIfwjPfGgx0BQTGhcSIgRApuEoA0PqSUQ4IEgAi6AcNFm3MSECFSA9tYBRsuSXlJsEnOjQMiEBKSdgbhqBoKa9BRqWpNC5aYtGnwp+4ChANFOAJz19EpixoummJP58vshgdRMEBj4B2HjQVRMLDz4RPCmrSUAWnyL/hHxki6mITxBD6WKyELUkDRJ6MVFA21ID2cCXxNTc4ADxJRMRS36Y4PjSmJYEXFS2tCLyxiabKxV4W7JCgtCUIBxNuEAIakpTWt54PUnCgpILDtOGtGRASSS7IxUAUbIB4OCPRhAoOQX5IwFWShLQ7ZxRhZI1qjtasXxjDu2NjJQ8CZ5RDb/lFw0v2SO9IgtZbVJ2j0iIb4kajtM3xKN7wiD7IYJESV4EaIgAUrBnoCFObBRCTgsOkoAMGwEgQYQSfrBRA1VhiEYBCmxUAXULpkCcRAwI4CEaKoAlUQgkGmiAhhLBgMOKFDQoEQImrOgAhRsx5GEBOiYEwHcrBrER/wZFrIgGDyXxwBSGAnSx2j9aTInhCTQmBIMBK2YwzkYoeZjAiRJVtCIRJcngpHgbEcCBjy0h6aEO6K34g3QxBvhAS2VoGSGaCYlgwYpLlAQAGGBi+ABNGylQgocBzOBfQlKsCAWhHB2hYoQJRFfSFfNF2EJfRmbRKC8UPPCpMQNK54KguBRgAwNR6EdMCj601MFau9h1BgFK9GhMEQeVBAMTukSBkAYtrCoMCSjUBIIDr9LCU0IhGHEaMV/VFIRrtUwwpk03mDCXMF+gaiQIzM4yQnwb7TDnMAaI2lIFMazbSgEuhNgSAE0Wk8ALPukwxLetxNrSAErQKkwLINxXXP8WN6oiABNU+HTGC/4WU4UGHnOxhcSjdNGrT1wwfIwBGQhcUwdBcEWKAEdgYXFLILzDTA4s+TQAAWA4cMAnARwghKUenxGBkM1Eca5PHSgBBRrZYrKCEhVc2WZjzwQAwQZNs/MBFk8cSslcBfTwgtcteZBxNBCcV/YZACBwgxkrkIVyIRQccMAEZiB8NztZVvPAnoefsQ4WLyzRQw8pZLCCARAkoQIEPQDhxQwiNG62GEdbQ4HKov+DwAIYaPBBCCDQBAC9jevgTTYGJNFE6rz7FMIUYG+TwBYM7Nz78TC0NxAJU0x9vOgI8JCXRTGMAenzZRMAAhIsEMUBBFN8cBuM9jUpEEYSpVs1wRJXjE8+QiIM0adVBZzgBQg9wd14BVb4vBlTJ9gCDV5AAAC4Ly0RqEAQgDC/zagoASUQQhh4EAQR0AABHXACAxqwgx3AAAs8MEIPSmCs9MzlaA54QAEmcDkWQGBK0nKSDGdIwxra8IY4zKEOd8jDHvrwh0AMohCHSMQiGvGISJxFIAAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbIBhIWUWI2S9e1AhlDRDoEZ+hc4LABD09aIAwA6PRnIAHrrAUtQFch9QDPKCCRT9UKFAsCKgzxoOCpJC/mKVR4IYNDUkxuIBgwceKCExdDORgCo6NJAEZCejKQIYjJlwC8qOQkgMy5ly9rzNR0oAZOih08ZPHSo+HOSy0q/ATIgAgZCweOaoKiYCk6BTNGEJS6acuGpQtEWBGylaumHAh+DkAQpoXZTiP//v1sYuJtpyQMfoqwaJcThAg4AVgxga+vJglccG7oQcHwJgNTcII44piTC5w7LFTe1OJmxx0ONmsK4OFlhaiiM4mROLGB0dSXUnztSIAv7EszXn4pfLtSBrkTURjobalAFpMaJBC3VOJDxwYgl1OC3HHAjQLSKa1wPrEDjuyTBJgx+QP8pAM6OiJAbR6SBZMy20eykVAhgRTyIymdqIV9fkZHVKXQAFH898gSHWngloGMCJBbcAw28sAOE2FgRoSMQMAaQAgsiCEiAWTQUQcfKhIAGR0FUaIiNmxYzxLDrXiIDB1VISMipU1E2Y2FcECjQgzsyOMgDySmUAVMDEnI/wQaTCQCBEoOgoMPE8GQQJSCPJCWQgo0hmUCwAFEgJdRBtBAR2VFOZtCoWGJRkkTJenmCx3l4CYaNnRUxp1idNTEnSd8xoGbE5zJ5QpumgBnQBd84aYBN3SUxZ1FuEgPA1diOQF3CkHhpgBNTjRFplHmOVEEJbgZRQcdgcHbkClQ0dGTWAZgBG1juPmAoQp9oFyUBShR3aRYtlDfREm4GYSl9CSHZQYCToTEoFFqwSw6F7igaaineholENeio0GySkpAxEs7qBAlE5wO6EGaMgpwmUkD+IDfLAe82owATeDEABP6rkIBDy9oFk0CIOBEgAv+qeKAEvPIMIE0KgCGk/8Nr6EiwApX1CNFm9DEQCVOLzyhik0ALVCDANEI4NVPH6DwXSlHODERAddJ88SWOEUwLcugjCBFCBzdjAR20YxgscIIlJFCw5YI4EAVWkSrG9DQlCCCVWcQMMYJUF5iQhc0XGAVAC8gHc0EWHCNjgcoABF2AQEbEgALRyxhpNtaYC0NC6a6jYECClDxQw5HHJEEDhIkkIAED2TQww81iICAZ1YNkNI1FHyBuduXViBCBR18Djo9HgCczwQ7FH366y9hgATI+XAwhALhwg46AVhEofZFKdxgte6nL+ADD/CqNEIWeREPegNW/GpWACeMgYHzS1WwBLWGUZABEAoMkPt+6wBsQEQODsS4WQEHJHFDBcOTz4AHP0BBKnEBVPGDFjajM349IfDAFFygrv8UAAIWOAIQUOABJ+zAAyKIAAMw0IAOwOAFNhDDCSaQAPVhCGskgMAKJqCCBNTtTihMoQpXyMIWuvCFMIyhDGdIwxra8IY4zKEOd8jDHvqwFoEAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NWMAoMkECsTKgkB1rEFEBZHQCgeTjseIhEMGA0fMibhqgJVP1pOZ/wD/P8AzyAgUa9UgQNCblRQELBhQxHgCoaikAGIggEAHGr8N+CFRFABTozBsLHkPwA3PnoakYWByZdnAIRRuelBE4YwXwIQQxMThyEKMuZ8uaBHT0sTPPgbCpNAjKOTKHy5wFQjgwogFlI9swJqJBY2qvJroEBBkCVVjhxJgoPFAQok/xwU8PpoAhaxHlAAgSDIAF1MJUQwJWDjBN+/m6psyEkAQZkUBxBzeoIgZwQkHPxK1iRgy+KXH27g2Nwphg+YV56Q7qTis0kbD1ZzSgDiJQEXkWVzbvKSAZOIujEJcGFygI8UwTcx+VBygAeCyTNJIGJyh4romoAI1aghCfZMEzSUjADleyYt2xticGEeUwacGq1waH8pSPqAGljQt9RiQUkh+1VSgBIbDZBFgJU80MBGH0iA4CQBGLERAWM8OMkDQWwkwmEWQhJFBxuBAVyHjoSlUQQlkAiJAOJpNEUCKtbFnEblxehIEff9wwB0Ni5iwA0bHdgjIybAoNEFXwzJyP8ECzqkQFdKKnLCRh7MF2UiYmyU0pWJmOiQF1wm8sJGRoV5iJEaMWHmIa415MCahQTQpENzwZlNCBoRgI2dgjxQmZN18onDaQ7BQA+faISn0YaIovEAFxpVoCaiHMhg1RGNouHBRpg2aqlGVWRqQ478LKGZnQGQsVEQjQaQwUYdZAoBqQK10OgDO2iEARCNCjDDRihkusRGGtiK6BHwBTRAFJlWsJEWufFpg38OEYAcohaU9EOjB+iw0UCICmCGto2uMKNDHYzGpwG/ajTADYHCWcK5DTVwAqIFZFGSBg7ymcGcDqFwKpztbvTFiGam0GZDBGSAqHYlhRAbqpuWVEH/tGu2QEB1b9pJXHUW2GnAFC+J0OmaEkBq0gY9UAAnBBG8NAASJiAcZRIulezwmiPgCVMT/Y5iAAvxFpTDn8UhEAaHnhQgBBc+7KySZzktIIIVJRyqSQoxvECAPzUUXRAUIA7VwQ0n8EhJATEUkStAC4TaUwvOVhUCEUZYcIDNhggwVwEiUZEsQCJg/NEBNYh1xgUKeEAEEi4k4UACB0gAQQYxnDDCFzOIEAIDS21kBlQCkLGx4gx34EMFG9BaEgJB02RABlSgbru7M+x5lANDoHn772dgEDJdTNyAQOjAVwWAE+whlsQLyCcPkwc8xI7YCihQK31JMhTBNGkUtADEgRU5b88PAQQEEcO10QXwwBMzgMCA60NhAAMXQJAg9ncCZDAEETo4nU6EogAp/MAF37OQASRggSgMYQovgIECGMCACGiAC1d4gQyIYIUotKAF1gtTAEjwgA86QHd8y5QKV8jCFrrwhTCMoQxnSMMa2vCGOMyhDnfIwx768IdAhEUgAAAh+QQJAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TViwKCCWgpExwWGQcOEweCBdar2CYjUFNgNDovDAwiIQsaThE7YEAuIw7npDig2WJExg4CZwCcWciwoUMGCiJc4TEBYCcBFJ4gifDhzACHIEOGjKDCYqYMXjwoFMmy5UIEKUxWIjHhBoOPLnOGBEBEJqURMzrqHAqSQBefkVig2EC0qUMFEpA6MvHlAk6nTgHUkMqowJEsWMMuXPCFqyIORhSIZdihQQMPCv8+eNBxhgADkB0emEWkIkzYBguoBAFy4kmCCTgCPFhhwkGUIkvG7FhZI8BeQyuoOCXQYYaRFjENMDJwoICDHkSMXCYUYAWCpgiknMCxmtMTtUMjICmBxnLtTAF6VNAJAAMPCRR+bypQ4nXODVkqKucUBYTOK1GwTd8EocJVkQxQQNjOyYSMnDDMkCC/HExOEELYcyoiVKQ96fIzTQjhskaG/JokAFZLTrDgG4CXANFASyCsgGAmDzDF0gZRPJiJeywRsIVoFlYSAA71gQRAE9p1SEkCGIr0wngmVjICDCwNIMSBLUYSAAoIidRTjZSo4NxI8fE4CQ8sAfADh0JGMpz/SE44mGQkLbQ0hDlPQoJEhnpVCYkPLNGgJSQPtJTDl4+QwdIFyZHZSA1dqtlIAjCKdJSbi2QQgUgD/EOnIieE2BAIJe5piABdrASSFlQKegiRIvGQqKKFaBYSBkVAekgBTogEQIWWFuLAeSKV1CkhmIqEgAmjEmKAnwzBQFuqgqjA6kINZAmrA9aFxECgoxqAG0gV2JqqCT861ICTsCYAqogswDpIpiGFwCmsArApUg/OCmIFSz9ki0YZOYJEhbdJsCSCNs5awF9ICyCbqgG5huSCtwOGhIW3RrD0AYuwTnABS1t4G2dIQWQrwA8sLdBCtlD8K5IW2cLLEgbowjpE/0tKZGtCuCKKCqsSLe0I6wOGgrTAEc4W0ERLPqDaLwYtZZGtXxmqluyCLDHwH6xFuJQXrAUsKxIM/HY6QQcuXeHyqC7kVIHHlt7odAy8CmpeTgzMO6oKSOeEAg5V06muTh5U0WkAJ/za0gBEZBC2mlFw3BICYExQAI1ultB1TgCA8AN+dAYwwp1EAXCFC49OQkHiqz2gQVhYkIGDBBIIhIhvAsVQBRFU8LadBFPgjBUIRChhBRkTWDDCCiyccEQJPABRgwh3KpQxeQIUIbdTDiPAVAhMAeCwQxUw/tsEUsC8VlMXuLtdAkPMujxLQyCowhjST+8QoA9OMEUEC2g/MYXg+SUABQrriu8QADy02EIZA6u/0BWWtwiBFUt+hxVCMtRgfIcPMAMRPACCX+kPJAwAgAaa8IMMFK1KCWDCCHIgQCxIgQYK0MA7XoACLPDACEaQwAPppB3TWEYF2pCAOf7nrRa68IUwjKEMZ0jDGtrwhjjMoQ53yMMe+vCHQAyiEIcYi0AAACH5BAkDAGgALAAAAACWAJYAAAf/gGiCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NWLAmgUHAcTBzEJUBJJCQ8caAVoAdaqJAY5W0A0MxEvISAEMAQeDFIVSDZFJghZR+qAgSo/wvhowODMgjMQI0qMeOGMAhgijOSwQHCTOgcuysg402CiyZMnN0QIkiHFgY6UAlDAMUSBApQ4c5rEgqQKNpiPHExQcnOAzqNHCUSgkQMoowRHUOhASpUqgAEykjg9VOAImApVw4b9sZVQiy4ixKpFugBJWTQc/yAE+bC2bs4dJN4u2VEXwBkEZ3woACFCRAUQIXycCVE1RJSyE8qofRiCBg0yLqK0KCGACZoMBWJM6FGmjA4QGHTeQAc0wAQNBMRekTJEAg5s6hSpE3AkhpIOHU528Nx6xAu/SAkgwCIEQoJK2Fh8GaNhopWfMKFEoBpCx4wM2DOZgFBk6pkKDoAWgBL8KAARS2KEClAACAMyTp9oMKozwpgj4YVCwUswWUCXThh48EReb4kigArV5TTAAkpw1OAoEMxwVARLXEgKCWFUlJMTJeTmYShi3IQTATswEeCJnUzQHk41HAHjKC/o5MRzN4ayhYQVlNBjKAnMeJIIXQwZCv8YOTXgAgVKfqLCQziFAWWUnjSRkw8SYOmJBbGhRMAJXnYSwBTInRSEiWVmsgJYKDWgQpubCGBESSgpQecmBxCBEwI87olJCg2h5JagmfyAkwIrIIrJASOdBEANDDpaSQYboISBGJZeUkWYJl3wQKeVGHADTkGQWokJkZoEAH6qTiKBkRIhIF+sksSAUwNd4hqJETgR4askiqJkA2vDOqIlSkYkC0mOJzUAhbOOUOABTgNRy4gAcJr0AQvaPqWiSQ00Gq4iCXQ70QVXnouIAYydpMCc7iLigGInETBqvYjAgNIA6fF7CL4mYZCtwIQUAK2rLiBciAAaolSEw4UogRP/GGw6XAROHmSMsAX8hYosxQeEPNEA5lKMhgHqSjQApyqjIcAUOGkQsyBR4ASACTc7kFOSMQsQ4UkyGHCzZCgtkMHNKpg8URY3o+GvmAGrbEZONtwswbgmEdDCzRbT+CK/DoB60gg3L4uSAlU7nILZJkEdM5M5AeFxvSYUKibaKveQprwpI1wAFjopUCLFLGSakwYQqNzFUQocjHAYf5+EQA/mIJwAF0dtAAQFd2srwbU6ATBD2/VmoHdOCjSMcAlc5/TC1wKXYB5SNjxQwNjDClDF6ggqMQLt5+IwNFIdBAHGQARSK8ENIlKVGg1DFOHSc+ios5vMjqYABvBUfQAAwRE0WGEEEBYYAYELGQCRQaV7UmAEYH2dUVEDBISAAWMhoL6nXHbByQX8J6gn0CqAZyAA30gVACtQCYEQIROuHDCDEETPLq7zlQXCwIUDrWUAYQhdp1bggimUpHJIkZuzBHAAEvAAC6SrChXqJQELWGAGUuDCAG4CN4l4IHP8eoABStCDHmhhCTKYAQiaIAIUcAEJKOAdv4zWpfSkp3lRy6IWt8jFLnrxi2AMoxjHSMYymvGMaEyjGtfIxja68Y24CAQAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1YkBggcSaCwlKik5GSY5EAcWaBTY2NanJgksK0AoXjYKGlIKDVcbGEEwVEiCjCiSQkIBNOvYfbKwBcwPLBgGYCBw5gyAigMwVlxwZkCDM1RAGFlyIIVCTgV62IhQ4UPFlzBjyoR5kcYVKEcQnqRkwIGXFx0zzhxKFCbHK0EmTNgJicMDFBqKSp0aswIWIwUOMlWUQYoPqmDBUpxRhMVWQwKggGEQtm3YCE7/LAg4i8ZACzMdLrjdCxYAkHNbY8yIIJTvS6GFDZ8JYsTAzi0aKLq9eCaCjjMgpHSocKNDBBBnECj2oSUBuwle+OqoAKPGECFfnhSAMIICixEptnzJIUVJg8tuCexoQU1AkiYfwy4IEiZKD8BzFVFAcyBGEiIozoRoi0DItBFU9IJlYKWH7emT5qooMYOKRbFanRXYAnzqAB9GSqCJnknCAStYsCXVAFJs80wJ9UmlARBLfYJNBlVUQNlQL0zA3zJpJTjUACBMkUJCoQjAwRQizATAC8Q9g4MCA56BRRQPgEhKDjPIpEMM0DzwQmIzNRBEBvGh8sAXGFQEAAg4PmMC/xZTaTDEAa4Yx2IIPUAjABKSEXUTB7Gw4AFWzxTwBUdFiVACerFc2EwSHhQ1wAsP0IWKATZkOZMCGciJyhYCDgWDd3qaYkKJRBEwQqCmGLDEhDI1IEaQiIaywgZEDWBDpKUEYEVROzCBKSkqREAUBi6o+aknPBSVBZSnhuLAV0MRAGirDpJBFAA2yEjrJgHcwONLPuCwKygOdEAUCqYOm8kQhUKhrCcUyECUB5A+i8kEos1EgAvWdgKFeDL5EGe3m1jxa0VcmEauJoTOBIau607Cgp0x5RkvJkeQKZMCyd4biQv6xkQDvP5CAsS5A4zRb8GOhEGUFwQz3IgURBUhcf8lUQ11wsWUUDpUgxxDEkC2M5kVMiQFkCyTgSc7wgGLMw1gcsuNcACrTAuYRHMjFIBmorA7M1IAF0TlFPQiAgRBVJVHKxJAjUMt0fQiZRB1Q8RTR0EUCI5NjQgOAcOEgbpeG5KAyjANMGvZhAiQ8Uw/sH2IDUQ5gXXTIxQ6s9yCJFDkUGbw3ba0Q1UgOCFmFAXY4SkwGlMNhw9CNFEQRI5GDkU1YbkAaMN0gaeRp0bUDmTzTUKfMvll+RhFITCu4Cx0DtMLJERedVFWsMq3BKIShUAXCx89QtgxbaDf4U2c+5ICa7MNAcxEMZDE4VBMRcDxfA/h+ExPCM4BCsTLVIb1CcG3DMEV28t0Qwm6e81EBVR54EXlbDMhu0wIVABF+01PAP1UYShCAe52sRT0jioR8EAMcNS1oJHACW1hAAiQcAIVcKl89woAEdqSERAoYAhgmIAFHICGajEMCQpI31Q80AAb/IiA5OoBRBRzhjJgcF0Z+MEB92KFoMGDC/QCC7ea9gMa7KV5O0tCDjpgLKoMgIRlewAPavQ3ojSggV6jgABcEAYQsOVchmMcB8oAhA206yVXwOLhmICDMZQxQACYgRoPNxcB4OAARSgB8CynCC7x8Y+ADKQgB0nIQhrykIhMpCIXychGOvKRkIykJCdJyUoOIxAAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tOlAWjW1LYGaBJoKyRHGSVdK0YQFjEGEgnZrCZoIzFWSDs0DE5nMGcICAMeCDCm1BhTIoYFQQLahUrh4IsWIhc2nAFwpqLFixcJnCGgwQeVE0JaJFSoScIBIDS4nLmAsaVLjAMqVrjhZctIkpVcjNlxZsHLn0AvMsBAZMlNnI4cCJGBQWPQp099yuBxACkjCV1Q+ITKtauHMhysIqoSxEfXs2evmBFLqICNEE7/0cqFOiMH2yT65mKkaDGm3o0MyLRAWuYvgAEIIoCgAgKFCCIyEMhgGULvhiYTFCYIMrcCAyQoSrgoUAJNiwMUIKDJYCHFECRIQABggHaADAvbpgkxexZEBRdPHIR1hDrAEy9BNKAVMWQ4tC0Iui5QQOZE1UsQMjyR0YDrAAY/cjcr0EUB1w9YvFA4iikAiwxXaENlUOQ6sy0RuNJwkTkUCQs7dPcUATw4wEwVH0BFABAJUFCKBDGA4BdQCCDh3DEjTAjUDqqdYo0FPJgX1Ac/FIBMBiIG9QMrASRgBAxxvYRBF8cYIMNTDBzxigE5ZPGUAisUUwART8lgYCwcELHV/08asEAMGU8Rwc4sCTQhn0uzkTAMDh0ABUANKdiiAhhLXrSAFAcJw4EHQXHRoS0SIMGSRbOVwd4vZPD1EghH3hKABDfQqQEUxaQg4EsVDLbLATsMQIAWThZjQ1A5YLNLEhWQccwEerqEBDBBHkPkTx7cyVYpEwRV2qmqNAGUDayqYkKnGF3QZ6ymDAEUD7imkt9LDUzZayk4aIjRp8OaAsZPBKiQbCkC5OXSC8+W8kCMFw1AY7WjuPBTA+9wG0oAKPxErbihGMCbS0agG0oCtF4UprufrMCsqfRisgWT+X7yw0+w9suJAD6+NITAA/P0UhQIcyLRS282jEmKLd0qcf8lBejw0gI4XIyJBBW8xEB/HldiQnQufWBxyZEIcOVewrI8ibQtdSzzJBxc8RIBVdw8SQE6u0TACT5PMqpLaxUdyRLxVtQEvkoj4gK2FskQc9SLlPCTDyZi3cgBKLsEhaVeJ1LAjViGV/YiASjx0gDnrq1IDkBlQLbchbDQpUsLqI33IRxw5pI/d/8tSABAAEW04YY8kOBLVDjIOCEGFOxSCCNALfcWGPw0w9WMP7BuSwjEMDkhAiwBlNWnD3KAchuv2DoaFJRB9UVJzI4GBB4YexEXkrfOQ9MWadH16RKw+RMGReieIVAEdKHl6QaA4ftFOnRxPOMGiBAUDGWIx7jpBWEPjsEQFBQutxFPIWDGA6dTMMX1F11AA8mGH1DD7Rjp4MLKa4OAkoIygAhkgQmgK9sKbjAn6L3ACw+YntwEsALLBYUoPJhAAqOWABqUCSgNoIISohCptUlAC3uDCgYqcIUM4K0FQPjgU1z4ty7ADiofmBwTrPCyn4RhcgLgABCw0MCX2GxyB8jADUAgw4p0QHMmPAENNiBDJehuEA7oAg1AEJcB0PCKgnDACW7wgs5FwD5gDKMFioACK6TxEAc4wPbeSMc62vGOeMyjHvfIxz768Y+ADKQgB0nIQhrykIhMpCIXycg7BgIAIfkECQMAaAAsAAAAAJYAlgAAB/+AaIKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tOmAWjW1LcHARI4FEdMFlUOMQ4QLAUJaAbZqgcHBTlkZDc0RBFOGiEeDU5OO01qLOFRQgiaBAEEtBNl4YmRGR90dDiz4MyZARYzZhxAAECHBVhoACEDQQIahQs1GejRBAsMixg1ypwpkwABHwjA9LBgAmVKSil+REDQgKbRozMBbJAxg8kDAdh+OrJwY8CCmEizaiXwIQyZp1IZxQhCQKvZsxYB6PCwxQSHsIb/AsS48RGtXbMDfKDIoQ7uSQhDPGC4S9hsiAZeVJAIGwBCkxCFjWKNfIYBFSNvU5IYUpQwAIwROnTAogPLCxgvMIDAwKAs4QsEhrQokE3AhBkMCCPwAGNGFyMnJJRIwcIChRItcmxZYuWKhgsXANhVICVGNhxBpNv1wMPFiAMGDgiKOsga7QMOhDyUwmDwWQxOqoiHFk8BWow3oDgwSakAhRUl1LADARWZJcMQ8zkzggZoMfADCwawk4kABVRRBBULaIfUAh/k8EAzBbiQm1k+AEEeJwKgx4MGCJgFAhgJKRMAFBWYpQMPKUgoigQT8KDABVoh4IIDyRhwQotZNRBE/w78lSKAAVtIEYFWToiRjAVOaAWADTisQoEDYjAA5FEEMFACBcY4IINWGkRxIioBUFAEFgUeFcQIPgVzgA1ZAaDBCWi+kgAENLhmFAZEpDCMAUVAhhQVLcwSwBEzdGZUToECc8SYkr0wQS0CqFDDiDRZdURmvhxQQ1YvqIDLBFrUSdMNBvligBnulQpDBm/KIsAKhR7FgBU67mIBqTTtyksOWCDlQRS9BKDEZDUZUSwuCRyBALUZNUBDgrlkYJ9RCyhBWy8GjDEuTQhAqwsFQSDFhau/THDDUQvQcC4uGXxwVAgn5NnLFiLga0EuFNigoUwDoHBtLw4MIWtaH8AARf8uOPhrlAJJDCMADi9lRIACGizxIS4CAMFtWj/sGwwHZliEQQRYuADuLRJ4cBQCJw8TQAEi6HBDFb4IkatMW7o8zBNM/FLADyufgUDTfq2SgA9HvZBp1aj0axQBLvTKtSgBiLGwRgr0PPYpWRwlBaprl5LCDkYB8IXYcX/SgqEyNVBC3qec4OhMGhAJeCliHEXFw4d/Mi1NABDb+CgcrFrqF5OPQsELRn1wQuY7ZkkTBiuAHooDBdPkA9Wme/LABpfe3LomEKQ+kw6sz76JCsiibYLunaRgu0wIlA78Jg9MSVMEGRy/iQGizxRC885n4kC8NF2wRfWZFEDE2RY1MAT/3tw7EsAYRyEBd/mSGGDExBnRIDD7kATQA5IzKUAv/ZMkMZHqOeBfJUBglAsMYWsCdAQH0GcUFBgugY8QQBcGJ5MKdAmCkBjB8GRCBgRiUBEPoMJRuODBDyYCDJaqyd9M2IgjaIwmTZgfC+NyBfBZhAEqkOEMCfG+o4zhdztMBAv+N7oYlDCIgkBC1M6ghYMh8RApCEHUOrAE8u3QBkeTyQ4+90RDTAAENjwDBjyQAB3u0ABgWNdMYgOBLhbCAkRASgR+cA03DuILNZJMBJ7QFzuqgAdhtIgHXKA0JAogBTDg1EwWEIETANGNAXgCg44yAA+UoQBmNKEAfJSVCBjBt3hubIEX4CeTDtxgAoWcYQAegIXeMewMQahCpNwYAy0s0SIXUMAUcthFCkDgBXwr1QKKILsdRiELwZxJB3L3xAOwQAYvpMkMMjnDJIRBkRoRwSztOJ4WWGEDZwMbNw0hASBQYTIa6OM4x0MBIVxhXJ6zohtxUAYZLMAGjFvnSQpwBBRcUJ+ICMD6AErQghr0oAhNqEIXytCGOvShEI2oRCdK0Ypa9KIYzahGN8rRjnr0oyANqSACAQAh+QQFAwBoACwAAAAAlgCWAAAH/4BogoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TVjwkqDwcGDysOaAYJ1rAmMWUoWFxXOzoLDSI7FTBNSGA5LCoG46QFK2Y1H84IPDNgoMGDZxqcqTADiYUDFPZtKvAgypQKCDNqPAiAgQIvTzhIvESiCI0OCzaqXHmGgAwwLA6MhEQixo0LLHOyJABAyYmZjVTYiKCzaM4GQYQUAHoIRxOjUHUy0LKC6SAJZkAAiMqVZQcxEYGqwNK1bM4rKwRIDACEgFmBCP9AiFCAIQIIBmcAuO2KwIiEcSmmKOSKgMaPHCtaTFjxwAAFC0dWnAiD7kzKqChwVHNA1iiAClpy/B0UgNGDBzmIcInK5ci0DAiMbtByggQm1CgwbNXpA0q0KHh1dgiTxPamAw+maCiKYETYZQGedNCJgIdxUBPMNNi9skGXpcuOYMjZYcwEfaQe3IjNUgGZZUwGr6zwM1WVKzlDjEgGgShLJK2kEEZOCmhmjAlOsBRBDyK1UsAJGBSkkgwQFFPAUytFEIMsSSy3EgoyCROACyyB8I0sATBBw0ohACiMCuOpxAULtkAQxEoAVAVMAZ1t5MQDuDiwmown+vKFhBpVoCP/LilUgGRGQ/ySQkAbESAEL1B4mGQGvQSgxUo99CJADvIhBAAVvazAXUY3lNYLB2WoBIAFbuISwIobVSDOLwHAoNIMo+ESQ4wZEeBaMFUosJECOeRSgA0q1TCMAGBsNEAQddYiwWUZXVBkMBP4V+intPyw5kFREiPAECoN8dwsCXiwUQQqGHOAohpdUWEtMexl5hTIhPGkQR2ESUsASlRZ6zEl+KDRAk3UcoCoCNWg1jEJfKmRAuDJsgKnBy3QaDIngHsQl7NYYe5AFdCYjAl+arTELALcsBERzMyg0QBoyuIAtQYN8AQzOQw0AAAAYLDBCzzMwoJKKTDDwgIEILDD/wxkZHCdLGRqtAOpyAARA8i0WHGvVawIMGBGC4SB8ioH1LDvuC+jIoCzGqFb8ykB6KBRCIfubEoKWh7kg85Ck7ICRhkhsGfSpLDg60EEvAp1KAVMbRACQF49Cgk4I1SBBV6P8oCsGY1dtigPDIlQCAau/ckBbiMkRKZyc/LCsAN1kTcoGGbk8t+esKqRDIR7UsJGGCTeyQEqde24Juxl9MXkmxCxURbXYn6JEbPu6rklOJw6EABk4D16JAaIsFEQ7q5OCRKEHtQAzbJLAoXPGhGheu6NsKC5RgxMALwkBjyh0g3dHu+IAMEVuqHzkIChtUE1mED9I0K4rlEDXmzvCL0FYqj0QQviN5JA5RlREWj6iXhx/eleWA1/ISzgtxEDPPx+vyAd20gDtvA/RBxgZVXyTQENQYII8M0gG+iC/+43At5thAYNWuAgBACE2h1kA0mY4P0SYLKm1UeDhijAjRAyMBQiQgJoG8h7XJiICcigIAPwQudoeAgmvIAAYbAfDwkRAAmAoXlDTKISl8jEJjrxiVCMohSnSMUqWvGKWMyiFrfIxS568YtgDKMYx0jGMprxjGhMoxrXyMa1BQIAOw=="
},t=e,angular.module("ct.widgets").service("ReceiptHelperService",t)}.call(this),function(){var e=function(e,t){return{restrict:"A",controller:"ctWidget",require:"ctUploadReceiptV2",templateUrl:"/upload_receipt/v2/upload_receipt.html",scope:{receipts:"="},link:function(n,r,i,o){var a,s=null;return n.header=widgetConf.header,n.maxHeight=widgetConf.maxHeight,n.widgetId=widgetConf.id,n.isUploading=!1,n.imagePreview=null,n.imgClass="",n.readyForSubmission=!1,a=function(){return n.isUploading?(n.imagePreview=e.getSpinner(),n.imgClass=""):n.isUploading||null==s?(n.imagePreview="#",n.imgClass="cleared"):(n.imagePreview=s,n.imgClass="")},n.getWidgetHeader=function(){if(null!=widgetConf.textKeyHeader)return widgetConf.textKeyHeader},n.fileUpload=function(e){return n.isUploading=!0,a(),n.$apply(function(t){var n=e.target.files[0],r=new FileReader;return r.onload=function(e){return s=e.target.result,o.event("receipt:upload:start",{image:n})},r.readAsDataURL(n)})},n.submitReceipt=function(){return o.event("do:receipt:submit",n.uploadData)},n.formatReceiptReason=function(e,n){return t(e)(n)},n.clearMessage=function(e){if("NOT_PROCESSED"!==e.state&&"TPG_PROCESSING"!==e.state)return e.hide=!0,o.event("receipt:message:clear",e.id)},n.getClass=e.getClass,o.on("receipt:upload:complete",function(e){var t;return n.isUploading=!1,n.error=(null!=e&&null!=(t=e.data)?t.error:void 0)||null,n.uploadData=200===(null!=e?e.status:void 0)?e.data:null,null==n.error&&null!=n.uploadData?n.readyForSubmission=!0:s=null,a()}),o.on("receipt:submit:success",function(e){var t;if(n.error=(null!=e&&null!=(t=e.data)?t.error:void 0)||null,n.uploadData=null,s=null,a(),n.readyForSubmission=!1,200===(null!=e?e.status:void 0))return n.receipts.unshift(e.data[0])})}}};angular.module("ct.widgets").directive("ctUploadReceiptV2",["ReceiptHelperService","$interpolate",e])}.call(this),function(){var e="ctDynamicForm",t=function(){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/common/directives/dynamic_form/dynamic_form.html",replace:!0,scope:{form:"=ctDynamicForm"},link:function(e,t,n,r){return e.submit=function(){return r.event("do:dynamicForm:submit",{form:e.form})},r.in("dynamicForm:submit:success",function(t){return e.modelError=e.propertyErrors=null,e.success=null!=t?t.message:void 0,r.event("do:dynamicForm:success",{message:t})}),r.in("dynamicForm:submit:error",function(t){var n,r;return e.modelError=e.propertyErrors=e.success=null,t=t.exception,n=t.model,r=t.properties,setTimeout(function(){return e.$apply(function(){return e.modelError=n,e.propertyErrors=r})},50)})}}};angular.module("ct.widgets").directive(e,[t])}.call(this),function(){var e="ctDynamicFormV2",t=function(){return{restrict:"A",controller:"ctWidget",require:e,templateUrl:"/common/directives/dynamic_form/dynamic_form.html",replace:!0,scope:{form:"=ctDynamicFormV2"},link:function(e,t,n,r){return e.submit=function(){return r.event("do:dynamicForm:submit",{form:e.form})},r.in("dynamicForm:submit:success",function(t){return e.modelError=e.propertyErrors=null,e.success=null!=t?t.message:void 0,r.event("do:dynamicForm:success",{message:t})}),r.in("dynamicForm:submit:error",function(t){var n,r;return e.modelError=e.propertyErrors=e.success=null,t=t.exception,n=t.model,r=t.properties,setTimeout(function(){return e.$apply(function(){return e.modelError=n,e.propertyErrors=r})},50)})}}};angular.module("ct.widgets").directive(e,[t])}.call(this),function(){var e=/^\+?[0-9]*$/,t=function(t,n){if(e.test(n))return t.$setValidity("phoneNumber",!0),n;t.$setValidity("phoneNumber",!1)},n=function(){return{restrict:"A",require:"ngModel",link:function(e,n,r,i){if(i.$parsers.push(function(e){return t(i,e)}),i.$formatters.push(function(e){return t(i,e)}),null!=r.required)return e.$watch(r.required,function(e){if(!e)return i.$setValidity("phoneNumber",!0)})}}};angular.module("ct.widgets").directive("ctPhoneNumber",n)}.call(this),function(){var e=function(t,n){function r(){}return r.prototype.load=function(e){return t.loadSession(e.user.me[0]),t.loadFanLevels(e.client.current[0].fan_levels)},new(e=r)};angular.module("ct.widgets").service("ctFanLevels",["ctUser","$rootScope",e])}.call(this),function(){function e(e,t){return function(){return e.apply(t,arguments)}}var t=function(e){return e.sort(function(e,t){return parseInt(e.min_points,10)-parseInt(t.min_points,10)})},n=function(e,n){var r,i,o,a=t(n);if(null==e)return null!=(n=null!=a?a[1]:void 0)?n:"";for(r=0,i=a.length;r<i;r++)if((o=a[r]).min_points>e)return o;return null},r=function(e){return null!=e?e.replace(/\s+/g,"-").toLowerCase():void 0},i=function(i,o,a){function s(){var t,n;this.isLastSocialRegistrationConnection=e(this.isLastSocialRegistrationConnection,this),this.lastEmailAddressVerifyEmailWasSentTo=e(this.lastEmailAddressVerifyEmailWasSentTo,this),this.age=e(this.age,this),this.isMaxFanLevel=e(this.isMaxFanLevel,this),this.pointsTilNextFanLevel=e(this.pointsTilNextFanLevel,this),this.nextFanLevelMinPoints=e(this.nextFanLevelMinPoints,this),this.percentageOfNextFanLevelComplete=e(this.percentageOfNextFanLevelComplete,this),this.nextFanLevel=e(this.nextFanLevel,this),this.fanLevel=e(this.fanLevel,this),this.fanLevelInfo=e(this.fanLevelInfo,this),this.getFanLevel=e(this.getFanLevel,this),this.getScore=e(this.getScore,this),this.getTierImage=e(this.getTierImage,this),this.loadFanLevels=e(this.loadFanLevels,this),this.points=e(this.points,this),this.isLoggedIn=e(this.isLoggedIn,this),this.facebookId=e(this.facebookId,this),this.photoUrl=e(this.photoUrl,this),this.clearSession=e(this.clearSession,this),this.checkSession=e(this.checkSession,this),this.loadSession=e(this.loadSession,this),i.on("user:update",(t=this,function(e){return t.loadSession(e,!0)})),i.on("user:clear",(n=this,function(e){return n.clearSession(),n.loadSession({loggedIn:!1})}))}var c;return c=[],s.prototype.properties={city_id:"number",city:"string",country_id:"number",date_created:"date",date_of_birth:"date",days_to_fb_token_expiration:"number",email_address:"string",email_is_verified:"boolean",em_updated_address:"string",facebook_connected:"boolean",facebook_user_id:"number",fan_rank:"fan_rank",first_name:"string",full_name:"string",gender:'string ["m", "f", "male", "female"]',household_points:"number",instagram_connected:"boolean",is_domestic:"boolean",last_name:"string",mobile_phone_number:"string",num_activities_performed:"number",num_points_earned_today:"number",num_points_eligible_today:"number",num_points_remaining_today:"number",password_generated:"boolean",photo_url:"string",pinterest_connected:"boolean",postal_code:"string",purchase_history:"array",receipt_images:"array",receive_email_updates:"boolean",redeemable_points:"number",referral_code:"string",referral_stats:"string",ship_info:"ship_info",sign_up_sub_type_id:"number",sign_up_type:'string: ["facebook", "twitter", "fan_club", "api"]',survey_data:"survey",tier:"tier",total_points:"number",twitter_connected:"boolean",twitter_user_id:"number",username:"string",language:"string"},s.prototype.loadSession=function(e,t){var n,r;for(n in null==t&&(t=!1),e)r=e[n],angular.isFunction(this[n])&&a.warn("user::loadSession() WARNING: The property: `"+n+"`\nhas been set on a user, but this property has overwritten a user\nmethod. You should rename the method or the property."),c.push(n),this[n]=r;return t||i.up("user:update",e),this.checkSession(e)},s.prototype.checkSession=function(e){if(null!=(null!=e?e.loggedIn:void 0))return i.up("session:active",e.loggedIn)},s.prototype.clearSession=function(){for(var e,t=[];e=c.shift();)t.push(delete this[e]);return t},s.prototype.photoUrl=function(e,t){var n;return null==e&&(e=50),null==t&&(t=50),(n=this.facebook_user_id)?"//graph.facebook.com/v2.3/"+n+"/picture?width="+e+"&height="+t:this.photo_url||void 0},s.prototype.facebookId=function(){return this.facebook_user_id},s.prototype.isLoggedIn=function(){return!!this.id},s.prototype.points=function(){var e;return parseInt(null!=(e=this.household_points)?e:this.redeemable_points,10)},s.prototype.loadFanLevels=function(e){return this.client_levels=e},s.prototype.getTierImage=function(e){var t;return null!=(null!=(t=this.tier)?t.currentLevel:void 0)?this.tier.currentLevel.imageUrl:null!=(e=this.fanLevelInfo(e))?e.imageUrl:void 0},s.prototype.getScore=function(){var e;return null!=(null!=(e=this.tier)?e.score:void 0)?this.tier.score:this.total_points},s.prototype.getFanLevel=function(){var e;return r(null!=(e=this.tier)&&null!=(e=e.currentLevel)&&e.title?this.tier.currentLevel.title:this.fanLevel(this.client_levels))},s.prototype.fanLevelInfo=function(e){var n,r,i,o;if(angular.isArray(e)){if(e=t(e),null==(o=this.total_points))return null;for(r=n=0,i=e.length;n<i;r=++n)if(e[r].min_points>o)return e[r-1];return e[e.length-1]}},s.prototype.fanLevel=function(e){var t;return null!=(t=this.tier)&&null!=(t=t.currentLevel)&&t.title?this.tier.currentLevel.title:null!=(e=this.fanLevelInfo(e))?e.name:void 0},s.prototype.nextFanLevel=function(e){var t,r,i;return null!=(null!=(r=this.tier)&&null!=(i=r.nextLevel)?i.title:void 0)?this.tier.nextLevel.title:angular.isArray(e)&&null!=(t=n(this.total_points,e))?t.name:void 0},s.prototype.percentageOfNextFanLevelComplete=function(e){var t;return null!=(null!=(t=this.tier)?t.nextLevel:void 0)?100*this.tier.tierScore/(this.tier.tierScore+this.tier.scoreNeededToReach):angular.isArray(e)?this.isMaxFanLevel(e)?100:100*this.total_points/this.nextFanLevelMinPoints(e):void 0},s.prototype.nextFanLevelMinPoints=function(e){if(angular.isArray(e))return null!=(e=null!=(e=n(this.total_points,e))?e.min_points:void 0)?e:null},s.prototype.pointsTilNextFanLevel=function(e){var t;return null!=(null!=(t=this.tier)?t.scoreNeededToReach:void 0)?this.tier.scoreNeededToReach:angular.isArray(e)?(e=n(this.total_points,e))?e.min_points-this.total_points:null:void 0},s.prototype.isMaxFanLevel=function(e){var t;return null!=(null!=(t=this.tier)?t.currentLevel:void 0)?null===this.tier.currentLevel.maxValue:angular.isArray(e)?null===n(this.total_points,e):void 0},s.prototype.age=function(){var e,t,n;if(this.date_of_birth){if(e=(n=this.date_of_birth).day,t=n.month,n=n.year,null==e&&null==t&&null==n)throw new Error("Invalid date!");return e=moment(n+"-"+t+"-"+e,"YYYY-M-D"),Math.floor(moment().diff(e,"years",!0))}},s.prototype.lastEmailAddressVerifyEmailWasSentTo=function(){var e;return null!=(e=this.em_updated_address)?e:this.email_address},s.prototype.isLastSocialRegistrationConnection=function(){var e=0;return this.facebook_connected&&e++,this.pinterest_connected&&e++,this.twitter_connected&&e++,1===e},new s};angular.module("ct.widgets").service("ctUser",["ctWidgetEventHelper","$timeout","$log",i])}.call(this),function(){angular.module("ct.widgets").directive("ctRegistration",function(){return{restrict:"AE",templateUrl:"/common/registration/v1/registration.html",controller:"ctWidget",require:"ctRegistration",scope:{logOutState:"="},link:function(e,t,n,r){var i=null!=(i=e.logOutState)?i.imageUrl:void 0,t=t.find(".container");return e.heading=widgetConf.textKeyLoggedOutHeading,e.subheading=widgetConf.textKeyLoggedOutSubHeading,t.css({backgroundImage:"url("+i+")"}),r.getHostProperty("location.href",function(t){var n=null!=(t=t.match(/_cts_=([^&]+)/))?t[1]:void 0;return e.signUp=function(){return r.event("continue:signup",{inviteFriendsCode:null!=n?n:null})},e.logIn=function(){return r.event("continue:login",{inviteFriendsCode:null!=n?n:null})}})}}})}.call(this),function(){angular.module("ct.widgets").directive("ctRegistrationV2",function(){return{restrict:"AE",templateUrl:"/common/registration/v2/registration.html",controller:"ctWidget",require:"ctRegistrationV2",link:function(e,t,n,r){var i=null!=(i=e.logOutState)?i.imageUrl:void 0,t=t.find(".container");return e.heading=widgetConf.textKeyLoggedOutHeading,e.subheading=widgetConf.textKeyLoggedOutSubHeading,t.css({backgroundImage:"url("+i+")"}),r.getHostProperty("location.href",function(t){var n=null!=(t=t.match(/_cts_=([^&]+)/))?t[1]:void 0;return e.signUp=function(){return r.event("continue:signup",{inviteFriendsCode:null!=n?n:null})},e.logIn=function(){return r.event("continue:login",{inviteFriendsCode:null!=n?n:null})}})}}})}.call(this),function(){angular.module("ct.widgets").directive("ctSignUp",["Facebook","ctClient","ctLocation",function(e,t,n){return{restrict:"AE",templateUrl:"/common/sign_up/v1/sign_up.html",controller:"ctWidget",require:"ctSignUp",scope:{stateQuery:"="},link:function(r,i,o,a){var s;return r.client=t,r.location=n,r.requireForeignPostalCode=!1,r.UNITED_STATES="United States",null!=r.stateQuery&&"login"===r.stateQuery?r.state="logIn":r.state="signUp",r.forgotPassword=function(e){return r.sendingEmail=!0,a.event("do:user:sendForgotPasswordEmail",{email:e})},r.logIn=function(){var e;return r.loggingIn=!0,r.loginError=null,r.loginTooManyFailedAttemptsError=null,a.loginEvent({type:"email",username:null!=(e=r.login)?e.username:void 0,password:null!=(e=r.login)?e.password:void 0,rememberMe:null!=(e=r.login)?e.rememberMe:void 0})},r.continueToComplete=function(){var e;return r.validatingUser=!0,(r.modelError=null)!=(e=r.signup)&&(e.address_info={is_domestic:!0}),a.event("do:user:validate",{username:r.signup.username,email_address:r.signup.email_address,first_name:r.signup.first_name,last_name:r.signup.last_name})},r.completeSignUp=function(){var e;return r.signingUp=!0,r.modelError=null,t.age_restriction||(r.signup.date_of_birth=null),null==(e=r.signup).receive_email_updates&&(e.receive_email_updates=!1),angular.isObject(r.signup.address_info.city)?(r.signup.address_info.city_id=r.signup.address_info.city.id,r.signup.address_info.city=r.signup.address_info.city.name):angular.isObject(r.city)&&(r.signup.address_info.city_id=r.city.id,r.signup.address_info.city_name=r.city.name),angular.isObject(r.signup.address_info.country)?(r.signup.address_info.country_id=r.signup.address_info.country.id,r.signup.address_info.country=r.signup.address_info.country.name):angular.isObject(r.country)&&(r.signup.address_info.country_id=r.country.country_id,r.signup.address_info.country_name=r.country.country_name),r.signup.address_info.postal_code||(r.signup.address_info.postal_code=null),r.signup.address_info.is_domestic=r.country.country_name===r.UNITED_STATES,a.signupEvent(r.signup)},r.toggleIsDomestic=function(){var e,t,n,i;return null!=(e=r.signup)&&null!=(t=e.address_info)&&(t.is_domestic=!(null!=(t=r.signup)&&null!=(n=t.address_info)&&n.is_domestic)),null!=(n=r.signup)&&null!=(i=n.address_info)?i.postal_code="":void 0},s=r.$watch("location.countries",function(){var e;if(n.countries)return e=$.grep(n.countries,function(e){return e.country_name===r.UNITED_STATES}),r.setCountry(null!=e?e[0]:void 0),s()}),r.useCity=function(){var e;return!(null!=(e=r.country)&&e.has_postal_codes)},r.usePostalCode=function(){var e;return(null!=(e=r.country)?e.has_postal_codes:void 0)||r.requireForeignPostalCode},r.setCountry=function(e){var t,n,i,o,a,s,c,u,l,d,p;for(null!=(a=r.signup)&&null!=(c=a.address_info)&&(c.country_id=e.country_id),null!=(c=r.signup)&&null!=(u=c.address_info)&&(u.country_name=e.country_name),null!=(u=r.signup)&&null!=(l=u.address_info)&&(l.postal_code=""),null!=(l=r.signup)&&null!=(d=l.address_info)&&(d.city_id=""),r.country=e,null!=(d=r.signup)&&null!=(p=d.address_info)&&(p.is_domestic=e.country_name===r.UNITED_STATES),n=0,o=(s=r.client.country_info).length;n<o;n++)(i=s[n]).country_name===e.country_name&&(t=i);return r.requireForeignPostalCode=null!=t?t.require_postal_code:void 0},r.setCity=function(e){var t,n,i;return null!=(t=r.signup)&&null!=(n=t.address_info)&&(n.city_id=e.id),null!=(n=r.signup)&&null!=(i=n.address_info)&&(i.city_name=e.name),r.city=e},a.on("fb:authorize:ready",function(){return r.facebookReady=!0}),a.on("fb:authorize:start",function(){return r.connectingToFB=!0}),a.on("fb:authorize:done",function(e){var t;return"not_authorized"===(t=e.status)||"unknown"===t?r.connectingToFB=!1:a.loginEvent({type:"facebook",accessToken:e.authResponse.accessToken})}),a.on("pinterest:authorize:ready",function(){return r.pinterestReady=!0}),a.on("pinterest:authorize:start",function(){return r.connectingToPinterest=!0}),a.on("pinterest:authorize:stop",function(){return r.connectingToPinterest=!1}),a.on("pinterest:authorize:done",function(e){return null!=e.denied?r.connectingToPinterest=!1:a.loginEvent({type:"pinterest",accessToken:e.code,provider:e.provider})}),a.on("pinterest:reg:success",function(e){return r.loggingIn=!1,r.connectingToPinterest=!1,null==r.signup&&(r.signup={}),r.signup.sign_up_type="pinterest",r.signup.first_name=e.user_info.first_name,r.signup.last_name=e.user_info.last_name,r.signup.pinterest_access_token=e.pinterest_auth_token,r.hidePassword=!0,r.state="basicInfo"}),a.on("twit:authorize:ready",function(){return r.twitterReady=!0}),a.on("twit:authorize:start",function(){return r.connectingToTwitter=!0}),a.on("twit:authorize:stop",function(){return r.connectingToTwitter=!1}),a.on("twit:authorize:done",function(e){return null!=e.denied?r.connectingToTwitter=!1:a.loginEvent({type:"twitter",oauthToken:e.oauth_token,oauthVerifier:e.oauth_verifier,provider:e.provider,twitTokenId:e.twit_token_id})}),a.on("twit:reg:success",function(e){return r.connectingToTwitter=!1,null==r.signup&&(r.signup={}),r.signup.sign_up_type="twitter",r.signup.twitter_oauth_token=null!=e?e.twitter_oauth_token:void 0,r.signup.twitter_oauth_token_secret=null!=e?e.twitter_oauth_token_secret:void 0,r.signup.twitter_user_id=null!=e?e.twitter_user_id:void 0,r.signup.username=null!=e?e.twitter_username:void 0,r.hidePassword=!0,r.state="basicInfo"}),a.on("user:sendForgotPasswordEmail:success",function(){return r.sendingEmail=!1,r.sentEmail=!0}),a.on("user:sendForgotPasswordEmail:error",function(e){return r.sendingEmail=!1,r.forgotPasswordForm.forgotPasswordEmail.$error.email=!0}),a.on("login:error",function(t,n){var i;switch(r.loggingIn=!1,r.connectingToFB=!1,i=["first_name","last_name","birthday","email"],t.request.type){case"email":if("invalid credentials"===t.model&&(r.loginError=!0),"too many failed login attempts"===t.model)return r.loginTooManyFailedAttemptsError=!0;break;case"facebook":return e.getLoginStatus(function(t){return e.api("/me?fields="+i.join(","),function(e){return r.$apply(function(){var n;return null==r.signup&&(r.signup={}),r.signup.sign_up_type="facebook",r.signup.facebook_access_token=null!=(n=t.authResponse)?n.accessToken:void 0,r.signup.first_name=e.first_name,r.signup.last_name=e.last_name,r.signup.email_address=e.email,r.signup.date_of_birth={month:null!=(n=e.birthday)?n.split("/")[0]:void 0,day:null!=(n=e.birthday)?n.split("/")[1]:void 0,year:null!=(n=e.birthday)?n.split("/")[2]:void 0},r.hidePassword=!0,r.state="basicInfo"})})})}}),a.on("user:validate:success",function(){return r.validatingUser=!1,r.modelError=null,r.basicInfoForm.email_address.$error={},r.basicInfoForm.username.$error={},!0===t.enable_email_updates_on&&!0===t.enable_email_update_opt_in&&(r.signup.receive_email_updates=!0),r.state="completeSignUp"}),a.on("user:validate:error",function(e){var t,n;for(t in r.validatingUser=!1,r.basicInfoForm.email_address.$error={},r.basicInfoForm.first_name.$error={},r.basicInfoForm.last_name.$error={},r.basicInfoForm.username.$error={},n=e.properties)e=n[t],r.basicInfoForm[t].$error[e]=!0;if(null!=e.model)return r.modelError=e.model}),a.on("signup:error",function(e){var t,n,i,o;for(t in r.signingUp=!1,null!=(n=r.completeSignUpForm.postal_code)&&(n.$error={}),null!=(n=r.completeSignUpForm.mobile_phone_number)&&(n.$error={}),i=e.properties)e=i[t],null!=(o=r.completeSignUpForm[t])&&(o.$error[e]=!0);if(null!=e.model)return r.modelError=e.model}),a.getHostProperty("location.href",function(e){var t=null!=(t=e.match(/_cts_=([^&#]+)/))?t[1]:void 0;if(null!=t)return null==r.signup&&(r.signup={}),r.signup.social_post_code=t,r.signup.social_post_url=e}),r.onBlur=function(e){return e.target.name.replace(/_([a-z])/gi,function(e,t){return t.toUpperCase()}).replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),null==e.target.value||""===e.target.value?"Incomplete":"Complete"},r.$watch("signup.date_of_birth",function(e){var n,i;if(null!=e&&0!==(i=parseInt(t.age_restriction,10)))return n=new Date(e.year,e.month-1,e.day),e=new Date,e=new Date(e.getFullYear()-i,e.getMonth(),e.getDate()),r.completeSignUpForm.dateOfBirth.$setValidity("underage",n<=e)}),r.$watch("state",function(e){if(null!=e)return r.headerTextKey=function(){switch(e){case"logIn":return"title.log in";case"signUp":return"title.sign up";case"basicInfo":return"title.basic info";case"completeSignUp":return"title.complete sign up";case"forgotPassword":return"heading.forgot password";default:return"title.sign up"}}()})}}}])}.call(this),function(){angular.module("ct.widgets").directive("ctSignUpV2",["Facebook","ctClient","ctLocation",function(e,t,n){return{restrict:"AE",templateUrl:"/common/sign_up/v2/sign_up.html",controller:"ctWidget",require:"ctSignUpV2",scope:{stateQuery:"="},link:function(r,i,o,a){var s;return r.client=t,r.location=n,r.requireForeignPostalCode=!1,r.UNITED_STATES="United States",null!=r.stateQuery&&"login"===r.stateQuery?r.state="logIn":r.state="signUp",r.forgotPassword=function(e){return r.sendingEmail=!0,a.event("do:user:sendForgotPasswordEmail",{email:e})},r.logIn=function(){var e;return r.loggingIn=!0,r.loginError=null,r.loginTooManyFailedAttemptsError=null,a.loginEvent({type:"email",username:null!=(e=r.login)?e.username:void 0,password:null!=(e=r.login)?e.password:void 0,rememberMe:null!=(e=r.login)?e.rememberMe:void 0})},r.continueToComplete=function(){var e;return r.validatingUser=!0,(r.modelError=null)!=(e=r.signup)&&(e.address_info={is_domestic:!0}),a.event("do:user:validate",{username:r.signup.username,email_address:r.signup.email_address,first_name:r.signup.first_name,last_name:r.signup.last_name})},r.completeSignUp=function(){var e;return r.signingUp=!0,r.modelError=null,t.age_restriction||(r.signup.date_of_birth=null),null==(e=r.signup).receive_email_updates&&(e.receive_email_updates=!1),angular.isObject(r.signup.address_info.city)?(r.signup.address_info.city_id=r.signup.address_info.city.id,r.signup.address_info.city=r.signup.address_info.city.name):angular.isObject(r.city)&&(r.signup.address_info.city_id=r.city.id,r.signup.address_info.city_name=r.city.name),angular.isObject(r.signup.address_info.country)?(r.signup.address_info.country_id=r.signup.address_info.country.id,r.signup.address_info.country=r.signup.address_info.country.name):angular.isObject(r.country)&&(r.signup.address_info.country_id=r.country.country_id,r.signup.address_info.country_name=r.country.country_name),r.signup.address_info.postal_code||(r.signup.address_info.postal_code=null),r.signup.address_info.is_domestic=r.country.country_name===r.UNITED_STATES,a.signupEvent(r.signup)},r.toggleIsDomestic=function(){var e,t,n,i;return null!=(e=r.signup)&&null!=(t=e.address_info)&&(t.is_domestic=!(null!=(t=r.signup)&&null!=(n=t.address_info)&&n.is_domestic)),null!=(n=r.signup)&&null!=(i=n.address_info)?i.postal_code="":void 0},s=r.$watch("location.countries",function(){var e;if(n.countries)return e=$.grep(n.countries,function(e){return e.country_name===r.UNITED_STATES}),r.setCountry(null!=e?e[0]:void 0),s()}),r.useCity=function(){var e;return!(null!=(e=r.country)&&e.has_postal_codes)},r.usePostalCode=function(){var e;return(null!=(e=r.country)?e.has_postal_codes:void 0)||r.requireForeignPostalCode},r.setCountry=function(e){var t,n,i,o,a,s,c,u,l,d,p;for(null!=(a=r.signup)&&null!=(c=a.address_info)&&(c.country_id=e.country_id),null!=(c=r.signup)&&null!=(u=c.address_info)&&(u.country_name=e.country_name),null!=(u=r.signup)&&null!=(l=u.address_info)&&(l.postal_code=""),null!=(l=r.signup)&&null!=(d=l.address_info)&&(d.city_id=""),r.country=e,null!=(d=r.signup)&&null!=(p=d.address_info)&&(p.is_domestic=e.country_name===r.UNITED_STATES),n=0,o=(s=r.client.country_info).length;n<o;n++)(i=s[n]).country_name===e.country_name&&(t=i);return r.requireForeignPostalCode=null!=t?t.require_postal_code:void 0},r.setCity=function(e){var t,n,i;return null!=(t=r.signup)&&null!=(n=t.address_info)&&(n.city_id=e.id),null!=(n=r.signup)&&null!=(i=n.address_info)&&(i.city_name=e.name),r.city=e},a.on("fb:authorize:ready",function(){return r.facebookReady=!0}),a.on("fb:authorize:start",function(){return r.connectingToFB=!0}),a.on("fb:authorize:done",function(e){var t;return"not_authorized"===(t=e.status)||"unknown"===t?r.connectingToFB=!1:a.loginEvent({type:"facebook",accessToken:e.authResponse.accessToken})}),a.on("pinterest:authorize:ready",function(){return r.pinterestReady=!0}),a.on("pinterest:authorize:start",function(){return r.connectingToPinterest=!0}),a.on("pinterest:authorize:stop",function(){return r.connectingToPinterest=!1}),a.on("pinterest:authorize:done",function(e){return null!=e.denied?r.connectingToPinterest=!1:a.loginEvent({type:"pinterest",accessToken:e.code,provider:e.provider})}),a.on("pinterest:reg:success",function(e){return r.loggingIn=!1,r.connectingToPinterest=!1,null==r.signup&&(r.signup={}),r.signup.sign_up_type="pinterest",r.signup.first_name=e.user_info.first_name,r.signup.last_name=e.user_info.last_name,r.signup.pinterest_access_token=e.pinterest_auth_token,r.hidePassword=!0,r.state="basicInfo"}),a.on("twit:authorize:ready",function(){return r.twitterReady=!0}),a.on("twit:authorize:start",function(){return r.connectingToTwitter=!0}),a.on("twit:authorize:stop",function(){return r.connectingToTwitter=!1}),a.on("twit:authorize:done",function(e){return null!=e.denied?r.connectingToTwitter=!1:a.loginEvent({type:"twitter",oauthToken:e.oauth_token,oauthVerifier:e.oauth_verifier,provider:e.provider,twitTokenId:e.twit_token_id})}),a.on("twit:reg:success",function(e){return r.connectingToTwitter=!1,null==r.signup&&(r.signup={}),r.signup.sign_up_type="twitter",r.signup.twitter_oauth_token=null!=e?e.twitter_oauth_token:void 0,r.signup.twitter_oauth_token_secret=null!=e?e.twitter_oauth_token_secret:void 0,r.signup.twitter_user_id=null!=e?e.twitter_user_id:void 0,r.signup.username=null!=e?e.twitter_username:void 0,r.hidePassword=!0,r.state="basicInfo"}),a.on("user:sendForgotPasswordEmail:success",function(){return r.sendingEmail=!1,r.sentEmail=!0}),a.on("user:sendForgotPasswordEmail:error",function(e){return r.sendingEmail=!1,r.forgotPasswordForm.forgotPasswordEmail.$error.email=!0}),a.on("login:error",function(t,n){var i;switch(r.loggingIn=!1,r.connectingToFB=!1,i=["first_name","last_name","birthday","email"],t.request.type){case"email":if("invalid credentials"===t.model&&(r.loginError=!0),"too many failed login attempts"===t.model)return r.loginTooManyFailedAttemptsError=!0;break;case"facebook":return e.getLoginStatus(function(t){return e.api("/me?fields="+i.join(","),function(e){return r.$apply(function(){var n;return null==r.signup&&(r.signup={}),r.signup.sign_up_type="facebook",r.signup.facebook_access_token=null!=(n=t.authResponse)?n.accessToken:void 0,r.signup.first_name=e.first_name,r.signup.last_name=e.last_name,r.signup.email_address=e.email,r.signup.date_of_birth={month:null!=(n=e.birthday)?n.split("/")[0]:void 0,day:null!=(n=e.birthday)?n.split("/")[1]:void 0,year:null!=(n=e.birthday)?n.split("/")[2]:void 0},r.hidePassword=!0,r.state="basicInfo"})})})}}),a.on("user:validate:success",function(){return r.validatingUser=!1,r.modelError=null,r.basicInfoForm.email_address.$error={},r.basicInfoForm.username.$error={},!0===t.enable_email_updates_on&&!0===t.enable_email_update_opt_in&&(r.signup.receive_email_updates=!0),r.state="completeSignUp"}),a.on("user:validate:error",function(e){var t,n;for(t in r.validatingUser=!1,r.basicInfoForm.email_address.$error={},r.basicInfoForm.first_name.$error={},r.basicInfoForm.last_name.$error={},r.basicInfoForm.username.$error={},n=e.properties)e=n[t],r.basicInfoForm[t].$error[e]=!0;if(null!=e.model)return r.modelError=e.model}),a.on("signup:error",function(e){var t,n,i,o;for(t in r.signingUp=!1,null!=(n=r.completeSignUpForm.postal_code)&&(n.$error={}),null!=(n=r.completeSignUpForm.mobile_phone_number)&&(n.$error={}),i=e.properties)e=i[t],null!=(o=r.completeSignUpForm[t])&&(o.$error[e]=!0);if(null!=e.model)return r.modelError=e.model}),a.getHostProperty("location.href",function(e){var t=null!=(t=e.match(/_cts_=([^&#]+)/))?t[1]:void 0;if(null!=t)return null==r.signup&&(r.signup={}),r.signup.social_post_code=t,r.signup.social_post_url=e}),r.onBlur=function(e){return e.target.name.replace(/_([a-z])/gi,function(e,t){return t.toUpperCase()}).replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),null==e.target.value||""===e.target.value?"Incomplete":"Complete"},r.$watch("signup.date_of_birth",function(e){var n,i;if(null!=e&&0!==(i=parseInt(t.age_restriction,10)))return n=new Date(e.year,e.month-1,e.day),e=new Date,e=new Date(e.getFullYear()-i,e.getMonth(),e.getDate()),r.completeSignUpForm.dateOfBirth.$setValidity("underage",n<=e)}),r.$watch("state",function(e){if(null!=e)return r.headerTextKey=function(){switch(e){case"logIn":return"title.log in";case"signUp":return"title.sign up";case"basicInfo":return"title.basic info";case"completeSignUp":return"title.complete sign up";case"forgotPassword":return"heading.forgot password";default:return"title.sign up"}}()})}}}])}.call(this),function(){var e=function(e){return{restrict:"E",templateUrl:"/household/v2/directives/household_about/household_about.html",scope:{household:"="},link:function(t){return t.user=e,t.leaveHousehold=function(){return t.$emit("hh:leave-requested")}}}};angular.module("ct.widgets").directive("ctHouseholdAbout",["ctUser",e])}.call(this),function(){var e=function(e,t){return{restrict:"E",templateUrl:"/household/v2/directives/household_history/household_history.html",replace:!0,scope:{historyCollection:"="},link:function(e){return e.historyType=e.historyCollection.historyType,e.historyCollection.getFirstPage(),e.getDetailHeaderTextKey=function(){return"activity"===e.historyType?"label.activity":"title.reward"},e.getPointsPrefix=function(t){return 0<t?"activity"===e.historyType?"+":"-":""},e.getMemberName=function(e){return e.isCurrentUser?t.get("word.you"):e.memberName},e.getTableSummary=function(){var n="activity"===e.historyType?"word.activities":"word.rewards";return t.get(n)},e.toggleExpanded=function(t){return e.historyCollection.expandedDetails[t]=!e.historyCollection.expandedDetails[t]}}}};angular.module("ct.widgets").directive("ctHouseholdHistory",["$log","ctText",e])}.call(this),function(){var e=function(){return{restrict:"E",require:"^^ctHouseholdInvitationList",replace:!0,templateUrl:"/household/v2/directives/household_invitation/household_invitation.html",scope:{invite:"=",currentlyProcessing:"="},link:function(e,t,n,r){var i=function(t){return null!=t&&e.invite.id!==t};return e.currentState={responding:!1,disabled:i(e.currentlyProcessing)},e.$watch("currentlyProcessing",function(t){return e.currentState.disabled=i(t)}),e.acceptInvite=function(){return e.currentState.responding=!0,r.respondToInvite(e.invite,!0)},e.declineInvite=function(){return e.currentState.responding=!0,r.respondToInvite(e.invite,!1)}}}};angular.module("ct.widgets").directive("ctHouseholdInvitation",e)}.call(this),function(){var e=function(){return{restrict:"E",replace:!0,templateUrl:"/household/v2/directives/household_invitation_list/household_invitation_list.html",scope:{invitations:"="},controller:["$scope",function(e){return this.setProcessing=function(t){return e.processing=null!=t?t.id:null},this.respondToInvite=function(t,n){return this.setProcessing(t),e.$emit("hh:invitation:respond",{accepted:n,invitation:t})},this.removeInvite=function(t){var n=e.invitations.findIndex(function(e){return e.id===t});if(0<=n)return e.invitations.splice(n,1)},null}],link:function(e,t,n,r){return e.processing=null,e.error=null,e.displayLimit=2,e.remainingInvites=Math.max(0,e.invitations.length-2),e.displayAll=function(){return e.displayLimit=void 0},e.getExplanationTextKey=function(e){
var t="text.household invite explain ";return 1<e?t+"multiple":t+"single"},e.$on("hh:invitation:respond:error",function(t,n){return e.error=n.errorMsg,r.setProcessing(null)}),e.$on("hh:invitation:respond:removed",function(t,n){if(r.removeInvite(n.declinedInviteId),r.setProcessing(null),null!=e.displayLimit)return e.remainingInvites=Math.max(0,e.invitations.length-2)}),e.$watchCollection("invitations",function(t,n){if(null!=e.displayLimit&&(null!=t?t.length:void 0)!==(null!=n?n.length:void 0))return e.remainingInvites=Math.max(0,e.invitations.length-2)})}}};angular.module("ct.widgets").directive("ctHouseholdInvitationList",e)}.call(this),function(){var e=function(e,t,n){return{restrict:"E",templateUrl:"/household/v2/directives/household_invite_form/household_invite_form.html",replace:!0,scope:{household:"="},link:function(r){return r.MAX_HOUSE_SIZE=8,r.user=e,r.creating=null==r.household,r.submitting=!1,r.newInvites=[],r.household&&(r.householdMembers=angular.copy(r.household.members),r.householdMembers=r.householdMembers.sort(function(e,t){return t.dateJoined.localeCompare(e.dateJoined)})),r.currentHouseSize=function(){return r.creating?1:r.householdMembers.length+r.household.pendingInvites.length},r.getInputNumber=function(e){return e+r.currentHouseSize()+1},r.hasMaxSize=function(){return r.currentHouseSize()+r.newInvites.length===r.MAX_HOUSE_SIZE},r.addNewInvite=function(){return r.newInvites.push({emailAddress:""})},r.hasEmptyInputs=function(e){return 1!==r.newInvites.length&&r.newInvites.some(function(t,n){return n!==e&&!t.emailAddress})},r.onKeyPress=function(e,t){if(13!==t.charCode)return r.currentHouseSize()+r.newInvites.length<r.MAX_HOUSE_SIZE&&!r.hasEmptyInputs(e)?r.addNewInvite():void 0;t.preventDefault()},r.numAvailableSlots=r.MAX_HOUSE_SIZE-r.currentHouseSize(),r.numAvailableSlots&&r.addNewInvite(),r.removeNewInvite=function(e){if(r.newInvites[e])return r.newInvites.splice(e,1)},r.getNewHouseholdName=function(){var e={firstName:r.user.first_name,lastName:r.user.last_name};return n.get("text.household create household default name",e)},r.cancel=function(){return r.$emit("hh:full-screen:cancel")},r.submit=function(){var e,n;if(!r.submitting&&!r.groupInviteForm.$error.email&&(e=r.newInvites.filter(function(e){return e.emailAddress}).map(function(e){return e.emailAddress}),r.creating||e.length))return r.submitting=!0,r.errorMessage=null,r.notification=null,r.creating?(t.debug("Creating Household with invites: ",e),n=r.getNewHouseholdName(),r.$emit("hh:create-house",{name:n,invites:e})):(t.debug("Sending invites for Household: ",e),r.$emit("hh:invite-members",{householdId:r.household.id,invites:e}))},r.$on("hh:create-house:error",function(e,n){return t.debug("Error creating household. Response:",n),r.submitting=!1,r.errorMessage=n.message,r.notification="error"}),r.$on("hh:invite-members:error",function(e,n){return t.debug("Error inviting members. Response:",n),r.submitting=!1,r.errorMessage=n.message,r.notification="error"})}}};angular.module("ct.widgets").directive("ctHouseholdInviteForm",["ctUser","$log","ctText",e])}.call(this),function(){var e=function(e){return{restrict:"E",templateUrl:"/household/v2/directives/household_management/household_management.html",scope:{household:"=",declinedInvites:"="},link:function(t){var n;return t.showDeclined=!1,t.rescindError=null,t.rescindInvite=function(e){return n(),t.$emit("hh:rescind-invite",{householdId:t.household.id,inviteId:e})},t.toggleShowDeclined=function(){return t.showDeclined=!t.showDeclined},t.displayInviteForm=function(){return t.$emit("hh:display-invite-form")},t.$on("hh:rescind-invite:success",function(){return n()}),t.$on("hh:rescind-invite:error",function(n,r){return e.debug("Error rescinding invite. Response:",r),t.rescindError=r.message}),n=function(){return t.rescindError=null}}}};angular.module("ct.widgets").directive("ctHouseholdManagement",["$log",e])}.call(this),function(){var e=function(){return{restrict:"E",templateUrl:"/household/v2/directives/household_member_list/household_member_list.html",scope:{household:"=",isManagement:"="},link:function(e){return e.currentState="normal",e.error=null,e.getNotificationTooltipText=function(e){return null==e?"":e.isActive?e.points<0?"text.household negative point member notice":"":"text.household inactive member notice"},e.removeMember=function(t){return e.$emit("hh:remove-member-requested",{id:t.userId,name:t.firstName+" "+t.lastName,isActive:t.isActive})}}}};angular.module("ct.widgets").directive("ctHouseholdMemberList",e)}.call(this),function(){var e=function(e){return{restrict:"E",templateUrl:"/household/v2/directives/household_nav/household_nav.html",scope:{currentPage:"=",household:"="},link:function(t,n,r,i){return t.navigate=function(e){return t.currentPage=e},t.user=e}}};angular.module("ct.widgets").directive("ctHouseholdNav",["ctUser",e])}.call(this),function(){var e=function(e){return{restrict:"E",templateUrl:"/household/v2/directives/household_point_total/household_point_total.html",scope:{household:"="},link:function(t){return t.user=e,t.currentState={editing:!1,householdName:"",isNameValid:!1,updating:!1},t.getPointsTextKey=function(e){return 1===e||-1===e?"word.point":"word.points"},t.startEditing=function(){return t.currentState.editing=!0},t.cancelEditing=function(){return t.currentState.editing=!1},t.updateHouseholdName=function(){return t.currentState.updating=!0,t.$emit("hh:update-house-name",{updatedName:t.currentState.householdName})},t.$on("hh:update-house-name:done",function(){return t.currentState.editing=!1,t.currentState.updating=!1,t.currentState.householdName=""}),t.$on("hh:update-house-name:error",function(){return t.currentState.updating=!1}),t.$watch("currentState.householdName",function(e){return t.currentState.isNameValid=null!=e&&function(e){return!(null==e||!e.length)&&0<(e=e.trim().replace(/\s+/g,"")).length}(e)})}}};angular.module("ct.widgets").directive("ctHouseholdPointTotal",["ctUser",e])}.call(this),define("ct-widgets",["angular"],function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define("uiRouter",["exports","angular"],t):t(e["@uirouter/angularjs"]={},e.angular)}(this,function(e,t){"use strict";function n(e){function t(n){return n.length>=r?e.apply(null,n):function(){return t(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),r=e.length;return t(n)}function r(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(null,[].slice.call(arguments).reverse())}function o(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)&&t.apply(null,n)}}function a(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)||t.apply(null,n)}}function s(e,t){return function(n){return n[e].apply(n,t)}}function c(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}function u(e){if(nt(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(Be(et)).length||n.filter(Be(Ze)).length)}return Ze(e)}function l(e){return e}function d(){}function p(e,t,n,r,i){void 0===i&&(i=!1);var o=function(t){return e()[t].bind(n())},a=function(e){return function(){return t[e]=o(e),t[e].apply(null,arguments)}};return r=r||Object.keys(e()),r.reduce(function(e,t){return e[t]=i?a(t):o(t),e},t)}function f(e,t){return-1!==e.indexOf(t)}function h(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function g(e,t){return e.push(t),t}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.concat({}).reverse(),i=ht.apply(null,r);return ht({},i,y(e||{},Object.keys(i)))}function v(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function y(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function w(e,t){return Object.keys(e).filter(Be(vt(t))).reduce(function(t,n){return t[n]=e[n],t},{})}function b(e,t){return A(e,Fe(t))}function _(e,t){var n=nt(e),r=n?[]:{},i=n?function(e){return r.push(e)}:function(e,t){return r[t]=e};return ft(e,function(e,n){t(e,n)&&i(e,n)}),r}function x(e,t){var n;return ft(e,function(e,r){n||t(e,r)&&(n=e)}),n}function A(e,t){var n=nt(e)?[]:{};return ft(e,function(e,r){return n[r]=t(e,r)}),n}function C(e,t){return e.push(t),e}function E(e,t){return void 0===t&&(t="assert failure"),function(n){var r=e(n);if(!r)throw new Error(Ze(t)?t(n):t);return r}}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var n,r=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),i=[];for(n=0;n<r;n++)switch(e.length){case 1:i.push([e[0][n]]);break;case 2:i.push([e[0][n],e[1][n]]);break;case 3:i.push([e[0][n],e[1][n],e[2][n]]);break;case 4:i.push([e[0][n],e[1][n],e[2][n],e[3][n]]);break;default:i.push(e.map(function(e){return e[n]}))}return i}function k(e,t){var n,r;if(nt(t)&&(n=t[0],r=t[1]),!et(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function $(e){return e.length&&e[e.length-1]||void 0}function S(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),t||(t={}),ht(t,e)}function q(e,t,n){if(nt(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function M(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var r=[e,t];if(Le(nt)(r))return D(e,t);if(Le(rt)(r))return e.getTime()===t.getTime();if(Le(it)(r))return e.toString()===t.toString();if(Le(Ze)(r))return!0;if([Ze,nt,rt,it].map(Ue).reduce(function(e,t){return e||!!t(r)},!1))return!1;var i,o={};for(i in e){if(!M(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o[i])return!1;return!0}function D(e,t){return e.length===t.length&&T(e,t).reduce(function(e,t){return e&&M(t[0],t[1])},!0)}function R(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function F(t){return Xe(t)?e.Category[t]:e.Category[e.Category[t]]}function P(e,t){function n(e){for(var t=r,n=0;n<t.length;n++){var i=new je(t[n]);if(i&&i.matches(e.name)||!i&&t[n]===e.name)return!0}return!1}var r=et(t)?[t]:t;return!!(Ze(r)?r:n)(e)}function O(e,t,n){function r(e,r,i){void 0===i&&(i={});var s=new Wt(t,n,r,e,a,i);return o.push(s),s.deregister.bind(s)}var i=e._registeredHooks=e._registeredHooks||{},o=i[n.name]=[],a=yt(o);return e[n.name]=r,r}function B(e){return void 0===e&&(e=!1),function(t,n){var r=e?-1:1,i=(t.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-t.hook.priority}}function L(e,t){function n(e){return nt(e)?e:Ye(e)?[e]:[]}function r(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}function i(e,t){return function(i){if(nt(i)&&0===i.length)return i;var o=n(i),a=A(o,e);return!0===t?0===_(a,function(e){return!e}).length:r(a)}}function o(e){return function(t,r){var i=n(t),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(t){var n=e[t].bind(e),r="equals"===t?o:i;a[t]=r(n)}),ht(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:i(e.is.bind(e),!0),$arrayMode:t})}function U(e){function t(){return e.value}return e=en(e)&&{value:e}||e,t.__cacheable=!0,ht(e,{$$fn:u(e.value)?e.value:t})}function N(t,n,r,i,o){if(t.type&&n&&"string"!==n.name)throw new Error("Param '"+i+"' has two type configurations.");if(t.type&&n&&"string"===n.name&&o.type(t.type))return o.type(t.type);if(n)return n;if(!t.type){var a=r===e.DefType.CONFIG?"any":r===e.DefType.PATH?"path":r===e.DefType.SEARCH?"query":"string";return o.type(a)}return t.type instanceof Zt?t.type:o.type(t.type)}function H(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!Ye(r)||null==r)return n;if(!0===r||et(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function Q(e,t,n,r){var i,o,a=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}];return i=nt(e.replace)?e.replace:[],et(r)&&i.push({from:r,to:void 0}),o=A(i,Fe("from")),_(a,function(e){return-1===o.indexOf(e.from)}).concat(i)}function j(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function z(e,t){for(;t.length<e;)t+=" ";return t}function V(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function G(e){var t=K(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function K(e){var t=nt(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}function Y(e){function t(e){if(tt(e)){if(-1!==n.indexOf(e))return"[circular ref]";n.push(e)}return vn(e)}var n=[];return JSON.stringify(e,function(e,n){return t(n)}).replace(/\\"/g,'"')}function W(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(l)}}function J(e,t){return et($(e))&&et(t)?e.slice(0,-1).concat($(e)+t):C(e,t)}function Z(e){return e.name}function X(e){return e.self.$$state=function(){return e},e.self}function ee(e){return e.parent&&e.parent.data&&(e.data=e.self.data=mt(e.parent.data,e.data)),e.data}function te(e){return e.parent?e.parent.path.concat(e):[e]}function ne(e){var t=e.parent?ht({},e.parent.includes):{};return t[e.name]=!0,t}function re(e){var t=function(e){var t=ct.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"},n=function(e){return!(!e.token||!e.resolveFn)},r=function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},o=function(e){return!!(e&&e.val&&(et(e.val)||nt(e.val)||Ze(e.val)))},a=function(e){return e.provide||e.token},s=c([[Fe("resolveFn"),function(e){return new an(a(e),e.resolveFn,e.deps,e.policy)}],[Fe("useFactory"),function(e){return new an(a(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[Fe("useClass"),function(e){return new an(a(e),function(){return new e.useClass},[],e.policy)}],[Fe("useValue"),function(e){return new an(a(e),function(){return e.useValue},[],e.policy,e.useValue)}],[Fe("useExisting"),function(e){return new an(a(e),l,[e.useExisting],e.policy)}]]),u=c([[i(Fe("val"),et),function(e){return new an(e.token,l,[e.val],e.policy)}],[i(Fe("val"),nt),function(e){return new an(e.token,$(e.val),e.val.slice(0,-1),e.policy)}],[i(Fe("val"),Ze),function(e){return new an(e.token,e.val,t(e.val),e.policy)}]]),d=c([[Ne(an),function(e){return e}],[n,s],[r,s],[o,u],[Qe(!0),function(e){throw new Error("Invalid resolve value: "+Y(e))}]]),p=e.resolve;return(nt(p)?p:function(e,t){return Object.keys(e||{}).map(function(n){return{token:n,val:e[n],deps:void 0,policy:t[n]}})}(p,e.resolvePolicy||{})).map(d)}function ie(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}function oe(e,t,n,r){return"/"===r?e:t?bn(r)+e:n?r.slice(1)+e:e}function ae(e){if(!(Ze(e)||et(e)||Ne(Gt)(e)||Gt.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Ze(e)?e:Qe(e)}function se(e){e.addResolvable({token:rr,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:gn,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}function ce(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}function ue(e,t){function n(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}var r=t.$$state().lazyLoad,i=r._promise;if(!i){var o=function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete r._promise,e},a=function(e){return delete r._promise,ct.$q.reject(e)};i=r._promise=ct.$q.when(r(e,t)).then(n).then(o,a)}return i}function le(e){var t=e._ignoredReason();if(t){Vt.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),Bt.ignored().toPromise()}}function de(e){if(!e.valid())throw new Error(e.error())}function pe(e){var t=function(e){return e||""},n=_n(e).map(t),r=n[0],i=n[1],o=xn(r).map(t);return{path:o[0],search:o[1],hash:i,url:e}}function fe(e,t,n,r){return function(i){function o(e){e.dispose(a),e.dispose(s)}var a=i.locationService=new n(i),s=i.locationConfig=new r(i,t);return{name:e,service:a,configuration:s,dispose:o}}}function he(e){return ct.$injector=Or,ct.$q=Dr,{name:"vanilla.services",$q:Dr,$injector:Or,dispose:function(){return null}}}function ge(){var e=null;return function(t,n){return e=e||ct.$injector.get("$templateFactory"),[new ri(t,n,e)]}}function me(e){if(!e.parent)return{};var t=["templateProvider","templateUrl","template","notify","async"],n=["controller","controllerProvider","controllerAs","resolveAs"],r=["component","bindings","componentProvider"],i=t.concat(n),o=r.concat(i);if(Ye(e.views)&&ti(o,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+o.filter(function(t){return Ye(e[t])}).join(", "));var a={},s=e.views||{$default:y(e,o)};return ft(s,function(t,n){if(n=n||"$default",et(t)&&(t={component:t}),t=ht({},t),ti(r,t)&&ti(i,t))throw new Error("Cannot combine: "+r.join("|")+" with: "+i.join("|")+" in stateview: '"+n+"@"+e.name+"'");t.resolveAs=t.resolveAs||"$resolve",t.$type="ng1",t.$context=e,t.$name=n;var o=Gn.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=o.uiViewName,t.$uiViewContextAnchor=o.uiViewContextAnchor,a[n]=t}),a}function ve(e){var t=ct.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(oi).reduce(Tt,[])}function ye(e){function t(e,t,r,i,o,a){return n._runtimeServices(i,e,r,t),delete mi.router,delete mi.$get,mi}mi=this.router=new rr,mi.stateProvider=new si(mi.stateRegistry,mi.stateService),mi.stateRegistry.decorator("views",me),mi.stateRegistry.decorator("onExit",ci("onExit")),mi.stateRegistry.decorator("onRetain",ci("onRetain")),mi.stateRegistry.decorator("onEnter",ci("onEnter")),mi.viewService._pluginapi._viewConfigFactory("ng1",ge());var n=mi.locationService=mi.locationConfig=new ui(e);return ui.monkeyPatchPathParameterType(mi),mi.router=mi,mi.$get=t,t.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],mi}function we(e,t,n){ct.$injector=e,ct.$q=t,n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(Tt,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)})}function be(e){e.$watch(function(){Vt.approximateDigests++})}function _e(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function xe(e){var t=e.parent().inheritedData("$uiView"),n=Oe("$cfg.path")(t);return n?$(n).state.name:void 0}function Ae(e,t,n){var r=n.uiState||e.current.name,i=ht(Te(t,e),n.uiStateOpts||{}),o=e.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function Ce(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function Ee(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var c=n(function(){t.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(c)}}}}function Te(e,t){return{relative:xe(e)||t.$current,inherit:!0,source:"sref"}}function ke(e,t,n,r){var i;r&&(i=r.events),nt(i)||(i=["click"]);for(var o=e.on?"on":"bind",a=0,s=i;a<s.length;a++){var c=s[a];e[o](c,n)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",r=0,o=i;r<o.length;r++){var a=o[r];e[t](a,n)}})}function $e(e){var t=function(t,n,r){return e.is(t,n,r)};return t.$stateful=!0,t}function Se(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}function qe(e,n,r,i,o,a){var s=Oe("viewDecl.controllerAs"),c=Oe("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,u){var l=u.data("$uiView");if(!l)return u.html(a),void e(u.contents())(i);var d=l.$cfg||{viewDecl:{},getTemplate:t.noop},p=d.path&&new pn(d.path);u.html(d.getTemplate(u,p)||a),Vt.traceUIViewFill(l.$uiView,u.html());var f=e(u.contents()),h=d.controller,g=s(d),m=c(d),v=p&&_i(p);if(i[m]=v,h){var y=n(h,ht({},v,{$scope:i,$element:u}));g&&(i[g]=y,i[g][m]=v),u.data("$ngControllerController",y),u.children().data("$ngControllerController",y),Ie(o,r,y,i,d)}if(et(d.viewDecl.component))var w=d.viewDecl.component,b=V(w),_=new RegExp("^(x-|data-)?"+b+"$","i"),x=function(){var e=[].slice.call(u[0].children).filter(function(e){return e&&e.tagName&&_.exec(e.tagName)});return e&&Re.element(e).data("$"+w+"Controller")},A=i.$watch(x,function(e){e&&(Ie(o,r,e,i,d),A())});f(i)}}}}function Ie(e,t,n,r,i){!Ze(n.$onInit)||i.viewDecl.component&&Ei||n.$onInit();var o=$(i.path).state.self,a={bind:n};if(Ze(n.uiOnParamsChanged)){var s=new pn(i.path),c=s.getResolvable("$transition$").data,u=function(e){if(e!==c&&-1===e.exiting().indexOf(o)){var t=e.params("to"),r=e.params("from"),i=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(Tt,[]),a=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(Tt,[]),s=i.filter(function(e){var n=a.indexOf(e);return-1===n||!a[n].type.equals(t[e.id],r[e.id])});if(s.length){var u=s.map(function(e){return e.id}),l=_(t,function(e,t){return-1!==u.indexOf(t)});n.uiOnParamsChanged(l,e)}}};r.$on("$destroy",t.onSuccess({},u,a))}if(Ze(n.uiCanExit)){var l=Ti++,d=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[l]||d(e.redirectedFrom()))},p=function(t){var r,i=t._uiCanExitIds=t._uiCanExitIds||{};return d(t)||(r=e.when(n.uiCanExit(t)),r.then(function(e){return i[l]=!1!==e})),r},f={exiting:o.name};r.$on("$destroy",t.onBefore(f,p,a))}}function Me(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}var De=angular,Re=t&&t.module?t:De,Fe=function(e){return function(t){return t&&t[e]}},Pe=n(function(e,t,n){return n&&n[e]===t}),Oe=function(e){return i.apply(null,e.split(".").map(Fe))},Be=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},Le=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},Ue=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},Ne=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},He=function(e){return function(t){return e===t}},Qe=function(e){return function(){return e}},je=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e}(),ze=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var n=mt(mt(t,e.prototype));return t.$$state=function(){return n},n.self=t,n.__stateObjectCache={nameGlob:je.fromString(n.name)},n},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return e=m(e,{inherit:!0,matchingKeys:null}),(e.inherit&&this.parent&&this.parent.parameters()||[]).concat(At(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||x(At(this.params),Pe("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e.isStateClass=function(e){return Ze(e)&&!0===e.__uiRouterState},e.isState=function(e){return tt(e.__stateObjectCache)},e}(),Ve=Object.prototype.toString,Ge=function(e){return function(t){return typeof t===e}},Ke=Ge("undefined"),Ye=Be(Ke),We=function(e){return null===e},Je=a(We,Ke),Ze=Ge("function"),Xe=Ge("number"),et=Ge("string"),tt=function(e){return null!==e&&"object"==typeof e},nt=Array.isArray,rt=function(e){return"[object Date]"===Ve.call(e)},it=function(e){return"[object RegExp]"===Ve.call(e)},ot=ze.isState,at=o(tt,i(Fe("then"),Ze)),st=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}},ct={$q:void 0,$injector:void 0},ut="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,lt=ut.angular||{},dt=lt.fromJson||JSON.parse.bind(JSON),pt=lt.toJson||JSON.stringify.bind(JSON),ft=lt.forEach||q,ht=Object.assign||I,gt=lt.equals||M,mt=function(e,t){return ht(Object.create(e),t)},vt=n(f),yt=n(h),wt=n(g),bt=function(e){return e.slice().forEach(function(t){"function"==typeof t&&t(),yt(e,t)})},_t=function(e,t){return ht(e,t)},xt=A,At=function(e){return Object.keys(e).map(function(t){return e[t]})},Ct=function(e,t){return e&&t},Et=function(e,t){return e||t},Tt=function(e,t){return e.concat(t)},kt=function(e,t){return nt(t)?e.concat(t.reduce(kt,[])):C(e,t)},$t=function(e,t){return vt(e,t)?e:C(e,t)},St=function(e){return e.reduce(Tt,[])},qt=function(e){return e.reduce(kt,[])},It=E,Mt=E,Dt=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},Rt=function(e){return e.catch(function(e){return 0})&&e},Ft=function(e){return Rt(ct.$q.reject(e))},Pt=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(e.RejectType||(e.RejectType={}));var Ot=0,Bt=function(){function t(e,t,n){this.$id=Ot++,this.type=e,this.message=t,this.detail=n}return t.prototype.toString=function(){var e=function(e){return e&&e.toString!==Object.prototype.toString?e.toString():Y(e)}(this.detail),t=this;return"Transition Rejection($id: "+t.$id+" type: "+t.type+", message: "+t.message+", detail: "+e+")"},t.prototype.toPromise=function(){return ht(Ft(this),{_transitionRejection:this})},t.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&Ne(t)(e._transitionRejection)},t.superseded=function(n,r){var i=new t(e.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return r&&r.redirected&&(i.redirected=!0),i},t.redirected=function(e){return t.superseded(e,{redirected:!0})},t.invalid=function(n){return new t(e.RejectType.INVALID,"This transition is invalid",n)},t.ignored=function(n){return new t(e.RejectType.IGNORED,"The transition was ignored",n)},t.aborted=function(n){return new t(e.RejectType.ABORTED,"The transition has been aborted",n)},t.errored=function(n){return new t(e.RejectType.ERROR,"The transition errored",n)},t.normalize=function(e){return Ne(t)(e)?e:t.errored(e)},t}(),Lt=function(e){var t=e.viewDecl,n=t.$context.name||"(root)";return"[View#"+e.$id+" from '"+n+"' state]: target ui-view: '"+t.$uiViewName+"@"+t.$uiViewContextAnchor+"'"},Ut=Function.prototype.bind.call(console.log,console),Nt=Ze(console.table)?console.table.bind(console):Ut.bind(console);!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(e.Category||(e.Category={}));var Ht=Oe("$id"),Qt=Oe("router.$id"),jt=function(e){return"Transition #"+Ht(e)+"-"+Qt(e)},zt=function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,n){var r=this;n.length||(n=Object.keys(e.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(t){return e.Category[t]})),n.map(F).forEach(function(e){return r._enabled[e]=t})},t.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},t.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},t.prototype.enabled=function(e){return!!this._enabled[F(e)]},t.prototype.traceTransitionStart=function(t){this.enabled(e.Category.TRANSITION)&&console.log(jt(t)+": Started  -> "+Y(t))},t.prototype.traceTransitionIgnored=function(t){this.enabled(e.Category.TRANSITION)&&console.log(jt(t)+": Ignored  <> "+Y(t))},t.prototype.traceHookInvocation=function(t,n,r){if(this.enabled(e.Category.HOOK)){var i=Oe("traceData.hookType")(r)||"internal",o=Oe("traceData.context.state.name")(r)||Oe("traceData.context")(r)||"unknown",a=G(t.registeredHook.callback);console.log(jt(n)+":   Hook -> "+i+" context: "+o+", "+j(200,a))}},t.prototype.traceHookResult=function(t,n,r){this.enabled(e.Category.HOOK)&&console.log(jt(n)+":   <- Hook returned: "+j(200,Y(t)))},t.prototype.traceResolvePath=function(t,n,r){this.enabled(e.Category.RESOLVE)&&console.log(jt(r)+":         Resolving "+t+" ("+n+")")},t.prototype.traceResolvableResolved=function(t,n){this.enabled(e.Category.RESOLVE)&&console.log(jt(n)+":               <- Resolved  "+t+" to: "+j(200,Y(t.data)))},t.prototype.traceError=function(t,n){this.enabled(e.Category.TRANSITION)&&console.log(jt(n)+": <- Rejected "+Y(n)+", reason: "+t)},t.prototype.traceSuccess=function(t,n){this.enabled(e.Category.TRANSITION)&&console.log(jt(n)+": <- Success  "+Y(n)+", final state: "+t.name)},t.prototype.traceUIViewEvent=function(t,n,r){void 0===r&&(r=""),this.enabled(e.Category.UIVIEW)&&console.log("ui-view: "+z(30,t)+" "+R(n)+r)},t.prototype.traceUIViewConfigUpdated=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+n+"'")},t.prototype.traceUIViewFill=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+j(200,n))},t.prototype.traceViewSync=function(t){if(this.enabled(e.Category.VIEWCONFIG)){var n=t.map(function(e){var t=e[0],n=e[1];return{"ui-view fqn":t.$type+":"+t.fqn,
"state: view name":n&&n.viewDecl.$context.name+": "+n.viewDecl.$name+" ("+n.viewDecl.$type+")"}}).sort(function(e,t){return e["ui-view fqn"].localeCompare(t["ui-view fqn"])});Nt(n)}},t.prototype.traceViewServiceEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+Lt(n))},t.prototype.traceViewServiceUIViewEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+R(n))},t}(),Vt=new zt;!function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(e.TransitionHookPhase||(e.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(e.TransitionHookScope||(e.TransitionHookScope={}));var Gt=function(){function e(e,t,n,r){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=ht({},n||{}),this._options=ht({},r||{}),this._definition=e.matcher.find(t,this._options.relative)}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+Y(this.params())},e.prototype.withState=function(t){return new e(this._stateRegistry,t,this._params,this._options)},e.prototype.withParams=function(t,n){void 0===n&&(n=!1);var r=n?t:ht({},this._params,t);return new e(this._stateRegistry,this._identifier,r,this._options)},e.prototype.withOptions=function(t,n){void 0===n&&(n=!1);var r=n?t:ht({},this._options,t);return new e(this._stateRegistry,this._identifier,this._params,r)},e.isDef=function(e){return e&&e.state&&(et(e.state)||et(e.state.name))},e}(),Kt={current:d,transition:null,traceData:{},bind:null},Yt=function(){function t(t,n,r,i){var o=this;this.transition=t,this.stateContext=n,this.registeredHook=r,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===e.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,Kt),this.type=r.eventType}return t.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},t.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;Vt.traceHookInvocation(this,this.transition,r);var i=function(e){return Bt.normalize(e).toPromise()},o=function(n){return t.eventType.getErrorHandler(e)(n)},a=function(n){return t.eventType.getResultHandler(e)(n)};try{var s=function(){return t.callback.call(r.bind,e.transition,e.stateContext)}();return!this.type.synchronous&&at(s)?s.catch(i).then(a,o):a(s)}catch(e){return o(Bt.normalize(e))}finally{t.invokeLimit&&++t.invokeCount>=t.invokeLimit&&t.deregister()}}},t.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(at(e)?e.then(function(e){return t.handleHookResult(e)}):(Vt.traceHookResult(e,this.transition,this.options),!1===e?Bt.aborted("Hook aborted transition").toPromise():Ne(Gt)(e)?Bt.redirected(e).toPromise():void 0))},t.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?Bt.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Bt.aborted().toPromise():this.isSuperseded()?Bt.superseded(this.options.current()).toPromise():void 0},t.prototype.toString=function(){var e=this,t=e.options,n=e.registeredHook;return(Oe("traceData.hookType")(t)||"internal")+" context: "+(Oe("traceData.context.state.name")(t)||Oe("traceData.context")(t)||"unknown")+", "+j(200,K(n.callback))},t.chain=function(e,t){var n=function(e,t){return e.then(function(){return t.invokeHook()})};return e.reduce(n,t||ct.$q.when())},t.invokeHooks=function(e,n){for(var r=0;r<e.length;r++){var i=e[r].invokeHook();if(at(i)){var o=e.slice(r+1);return t.chain(o,i).then(n)}}return n()},t.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},t.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},t.LOG_REJECTED_RESULT=function(e){return function(t){at(t)&&t.catch(function(t){return e.logError(Bt.normalize(t))})}},t.LOG_ERROR=function(e){return function(t){return e.logError(t)}},t.REJECT_ERROR=function(e){return function(e){return Ft(e)}},t.THROW_ERROR=function(e){return function(e){throw e}},t}(),Wt=function(){function t(e,t,n,r,i,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return t.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return P(e.state,t)});return n.length?n:null},t.prototype._getDefaultMatchCriteria=function(){return A(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},t.prototype._getMatchingNodes=function(t){var n=this,r=ht(this._getDefaultMatchCriteria(),this.matchCriteria);return At(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===e.TransitionHookScope.STATE,s=t[o.name]||[],c=a?s:[$(s)];return i[o.name]=n._matchingNodes(c,r[o.name]),i},{})},t.prototype.matches=function(e){var t=this._getMatchingNodes(e);return At(t).every(l)?t:null},t.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},t}(),Jt=function(){function t(e){this.transition=e}return t.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(Tt,[]).filter(l)},t.prototype.buildHooks=function(t){var n=this.transition,r=n.treeChanges(),i=this.getMatchingHooks(t,r);if(!i)return[];var o={transition:n,current:n.options().current},a=function(i){return i.matches(r)[t.criteriaMatchPath.name].map(function(r){var a=ht({bind:i.bind,traceData:{hookType:t.name,context:r}},o),s=t.criteriaMatchPath.scope===e.TransitionHookScope.STATE?r.state.self:null,c=new Yt(n,s,i,a);return{hook:i,node:r,transitionHook:c}})};return i.map(a).reduce(Tt,[]).sort(B(t.reverseSort)).map(function(e){return e.transitionHook})},t.prototype.getMatchingHooks=function(t,n){var r=t.hookPhase===e.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(r?[i]:[this.transition,i]).map(function(e){return e.getHooks(t.name)}).filter(It(nt,"broken event named: "+t.name)).reduce(Tt,[]).filter(function(e){return e.matches(n)})},t}(),Zt=function(){function e(e){this.pattern=/.*/,this.inherit=!0,ht(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new L(this,e)},e}(),Xt=Object.prototype.hasOwnProperty,en=function(e){return 0===["value","type","squash","array","dynamic"].filter(Xt.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(e.DefType||(e.DefType={}));var tn=function(){function t(t,n,r,i,o){r=U(r),n=N(r,n,i,t,o.paramTypes);var a=function(){var n={array:i===e.DefType.SEARCH&&"auto"},o=t.match(/\[\]$/)?{array:!0}:{};return ht(n,o,r).array}();n=a?n.$asArray(a,i===e.DefType.SEARCH):n;var s=void 0!==r.value||i===e.DefType.SEARCH,c=Ye(r.dynamic)?!!r.dynamic:!!n.dynamic,u=Ye(r.raw)?!!r.raw:!!n.raw,l=H(r,s,o.defaultSquashPolicy()),d=Q(r,a,s,l),p=Ye(r.inherit)?!!r.inherit:!!n.inherit;ht(this,{id:t,type:n,location:i,isOptional:s,dynamic:c,raw:u,squash:l,replace:d,inherit:p,array:a,config:r})}return t.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},t.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,r=t.replace;n<r.length;n++){var i=r[n];if(i.from===e)return i.to}return e}(e),Ke(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!ct.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=ct.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},t.prototype.isSearch=function(){return this.location===e.DefType.SEARCH},t.prototype.validates=function(e){if((Ke(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(et(n)&&!this.type.pattern.exec(n))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},t.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},t.equals=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===t.changed(e,n,r).length},t.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(Ct,!0)},t}(),nn=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=ht({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=t;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){var t=function(t){return[t.id,t.value(e[t.id])]};return this.paramValues=this.paramSchema.reduce(function(e,n){return k(e,t(n))},{}),this},e.prototype.parameter=function(e){return x(this.paramSchema,Pe("id",e))},e.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return tn.changed(n,this.paramValues,e.paramValues)},e.clone=function(t){return new e(t)},e}(),rn=function(){function e(){}return e.makeTargetState=function(e,t){var n=$(t).state;return new Gt(e,n,t.map(Fe("paramValues")).reduce(_t,{}),{})},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new nn(e).applyRawParams(t)})},e.buildToPath=function(t,n){var r=e.buildPath(n);return n.options().inherit?e.inheritParams(t,r,Object.keys(n.params())):r},e.applyViewConfigs=function(t,n,r){n.filter(function(e){return vt(r,e.state)}).forEach(function(r){var i=At(r.state.views||{}),o=e.subPath(n,function(e){return e===r}),a=i.map(function(e){return t.createViewConfig(o,e)});r.views=a.reduce(Tt,[])})},e.inheritParams=function(e,t,n){function r(e,t){var n=x(e,Pe("state",t));return ht({},n&&n.paramValues)}function i(t){var i=ht({},t&&t.paramValues),a=y(i,n);i=w(i,n);var s=w(r(e,t.state)||{},o),c=ht(i,s,a);return new nn(t.state).applyRawParams(c)}void 0===n&&(n=[]);var o=e.map(function(e){return e.paramSchema}).reduce(Tt,[]).filter(function(e){return!e.inherit}).map(Fe("id"));return t.map(i)},e.treeChanges=function(t,n,r){function i(e,t){var r=nn.clone(e);return r.paramValues=n[t].paramValues,r}for(var o=0,a=Math.min(t.length,n.length);o<a&&t[o].state!==r&&function(t,n){return t.equals(n,e.nonDynamicParams)}(t[o],n[o]);)o++;var s,c,u,l,d;s=t,c=s.slice(0,o),u=s.slice(o);var p=c.map(i);return l=n.slice(o),d=p.concat(l),{from:s,to:d,retained:c,exiting:u,entering:l}},e.matching=function(e,t,n){var r=!1;return T(e,t).reduce(function(e,t){var i=t[0],o=t[1];return r=r||!i.equals(o,n),r?e:e.concat(i)},[])},e.equals=function(t,n,r){return t.length===n.length&&e.matching(t,n,r).length===t.length},e.subPath=function(e,t){var n=x(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},e.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},e.paramValues=function(e){return e.reduce(function(e,t){return ht(e,t.paramValues)},{})},e}(),on={when:"LAZY",async:"WAIT"},an=function(){function e(t,n,r,i,o){if(this.resolved=!1,this.promise=void 0,t instanceof e)ht(this,t);else if(Ze(n)){if(Je(t))throw new Error("new Resolvable(): token argument is required");if(!Ze(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?ct.$q.when(this.data):void 0}else if(tt(t)&&t.token&&Ze(t.resolveFn)){var a=t;return new e(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return e.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||on.when,async:t.async||n.async||on.async}},e.prototype.resolve=function(e,t){var n=this,r=ct.$q,i=function(){return r.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))},o=function(e){return n.resolveFn.apply(null,e)},a=function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})},s=e.findNode(this),c=s&&s.state,u="RXWAIT"===this.getPolicy(c).async?a:l,d=function(e){return n.data=e,n.resolved=!0,Vt.traceResolvableResolved(n,t),n.data};return this.promise=r.when().then(i).then(o).then(u).then(d)},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+Y(this.token)+", requires: ["+this.deps.map(Y)+"])"},e.prototype.clone=function(){return new e(this)},e.fromData=function(t,n){return new e(t,function(){return n},null,null,n)},e}(),sn={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},cn=sn.when,un=[cn.EAGER,cn.LAZY],ln=[cn.EAGER],dn="Native Injector",pn=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce($t,[])},e.prototype.getResolvable=function(e){return $(this._path.map(function(e){return e.resolvables}).reduce(Tt,[]).filter(function(t){return t.token===e}))},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(rn.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=x(this._path,Pe("state",t)),r=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===r.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var r=vt(un,e)?e:"LAZY",i=r===sn.when.EAGER?ln:un;Vt.traceResolvePath(this._path,e,t);var o=function(e,t){return function(r){return vt(e,n.getPolicy(r)[t])}},a=this._path.reduce(function(e,r){var a=r.resolvables.filter(o(i,"when")),s=a.filter(o(["NOWAIT"],"async")),c=a.filter(Be(o(["NOWAIT"],"async"))),u=n.subContext(r.state),l=function(e){return e.get(u,t).then(function(t){return{token:e.token,value:t}})};return s.forEach(l),e.concat(c.map(l))},[]);return ct.$q.all(a)},e.prototype.injector=function(){return this._injector||(this._injector=new fn(this))},e.prototype.findNode=function(e){return x(this._path,function(t){return vt(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),r=rn.subPath(this._path,function(e){return e===n})||this._path,i=r.reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e}),o=function(e){var n=i.filter(function(t){return t.token===e});if(n.length)return $(n);var r=t.injector().getNative(e);if(Ke(r))throw new Error("Could not find Dependency Injection token: "+Y(e));return new an(e,function(){return r},[],r)};return e.deps.map(o)},e}(),fn=function(){function e(e){this.context=e,this.native=this.get(dn)||ct.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+Y(t.token));return t.data}return this.getNative(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):ct.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}(),hn=Fe("self"),gn=function(){function t(t,n,r){var i=this;if(this._deferred=ct.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Jt(this),this.isActive=function(){return i.router.globals.transition===i},this.router=r,this._targetState=n,!n.valid())throw new Error(n.error());this._options=ht({current:Qe(this)},n.options()),this.$id=r.transitionService._transitionCount++;var o=rn.buildToPath(t,n);this._treeChanges=rn.treeChanges(t,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.CREATE);Yt.invokeHooks(a,function(){return null}),this.applyViewConfigs(r)}return t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(t){return t.hookPhase!==e.TransitionHookPhase.CREATE}).forEach(function(e){return O(t,t.router.transitionService,e)})},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});rn.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},t.prototype.$from=function(){return $(this._treeChanges.from).state},t.prototype.$to=function(){return $(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!P(this.$to(),e.to)||e.from&&!P(this.$from(),e.from))},t.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(Fe("paramValues")).reduce(_t,{}))},t.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=rn.subPath(n,function(t){return t.state===e||t.state.name===e})),new pn(n).injector()},t.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new pn(this._treeChanges[e]).getTokens()},t.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=Ne(an)(e)?e:new an(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=x(r,function(e){return e.state.name===n});new pn(r).addResolvables([e],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return A(this._treeChanges.entering,Fe("state")).map(hn)},t.prototype.exiting=function(){return A(this._treeChanges.exiting,Fe("state")).map(hn).reverse()},t.prototype.retained=function(){return A(this._treeChanges.retained,Fe("state")).map(hn)},t.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return n=t?n.filter(Pe("state",t)):n,n.map(Fe("views")).filter(l).reduce(Tt,[])},t.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},t.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var i=ht({},this.options(),e.options(),r);e=e.withOptions(i,!0);var o=this.router.transitionService.create(this._treeChanges.from,e),a=this._treeChanges.entering,s=o._treeChanges.entering;return rn.matching(s,a,rn.nonDynamicParams).filter(Be(function(e){return function(t){return e&&t.state.includes[e.name]}}(e.options().reloadState))).forEach(function(e,t){e.resolvables=a[t].resolvables}),o},t.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){if(!T(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(Et,!1)){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})});return T(t,n[0],n[1]).map(function(e){var t=e[0],n=e[1],r=e[2];return tn.changed(t,n,r)}).reduce(Tt,[])}}},t.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(Et,!1)},t.prototype.ignored=function(){return!!this._ignoredReason()},t.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var r=rn.matching(e,n);return e.length===r.filter(function(e){return!t||!e.state.includes[t.name]}).length},r=this.treeChanges(),i=e&&e.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},t.prototype.run=function(){var t=this,n=Yt.runAllHooks,r=function(e){return t._hookBuilder.buildHooksForPhase(e)},i=function(){Vt.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(r(e.TransitionHookPhase.SUCCESS))},o=function(i){Vt.traceError(i,t),t.success=!1,t._deferred.reject(i),t._error=i,n(r(e.TransitionHookPhase.ERROR))},a=function(){var t=r(e.TransitionHookPhase.RUN),n=function(){return ct.$q.when(void 0)};return Yt.invokeHooks(t,n)},s=function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),Vt.traceTransitionStart(t),ct.$q.when(void 0)},c=r(e.TransitionHookPhase.BEFORE);return Yt.invokeHooks(c,s).then(a).then(i,o),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.abort=function(){Ke(this.success)&&(this._aborted=!0)},t.prototype.error=function(){var e=this.$to();if(e.self.abstract)return"Cannot transition to abstract state '"+e.name+"'";var t=e.parameters(),n=this.params(),r=t.filter(function(e){return!e.validates(n[e.id])});return r.length?"Param values not valid for state '"+e.name+"'. Invalid params: [ "+r.map(function(e){return e.id}).join(", ")+" ]":!1===this.success?this._error:void 0},t.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:w(e,["#"])};return"Transition#"+this.$id+"( '"+(tt(e)?e.name:e)+"'"+Y(n(this._treeChanges.from.map(Fe("paramValues")).reduce(_t,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(tt(t)?t.name:t)+"'"+Y(n(this.params()))+" )"},t.diToken=t,t}(),mn=null,vn=function(e){var t=Bt.isRejectionPromise;return(mn=mn||c([[Be(Ye),Qe("undefined")],[We,Qe("null")],[at,Qe("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[Ne(Bt),s("toString")],[Ne(gn),s("toString")],[Ne(an),s("toString")],[u,G],[Qe(!0),l]]))(e)},yn=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},wn=new RegExp("^(?:[a-z]+:)?//[^/]+/"),bn=function(e){return e.replace(/\/[^\/]*$/,"")},_n=yn("#"),xn=yn("?"),An=yn("="),Cn=function(e){return e?e.replace(/^#/,""):""},En=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=y(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);var t=function(e,t){return new Zt(ht({name:t},e))};this.types=mt(A(this.defaultTypes,t),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!Ye(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new Zt(ht({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");ht(this.types[e.name],ct.$injector.invoke(e.def))}},e}();!function(){var e=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:Ne(String),pattern:/.*/,equals:function(e,t){return e==t}};return ht({},n,e)};ht(En.prototype,{string:e({}),path:e({pattern:/[^\/]*/}),query:e({}),hash:e({inherit:!1}),int:e({decode:function(e){return parseInt(e,10)},is:function(e){return!Je(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:e({encode:function(e){return e&&1||0},decode:function(e){return 0!==parseInt(e,10)},is:Ne(Boolean),pattern:/0|1/}),date:e({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&e[r]()===t[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:e({encode:pt,decode:dt,is:Ne(Object),equals:gt,pattern:/[^\/]*/}),any:e({encode:l,decode:l,is:function(){return!0},equals:gt})})}();var Tn,kn=function(){function e(e){void 0===e&&(e={}),ht(this,e)}return e.prototype.$inherit=function(e,t,n){var r,i=v(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params),r.length))for(var c in r)a.indexOf(r[c])>=0||(a.push(r[c]),o[r[c]]=this[r[c]]);return ht({},o,e)},e}(),$n=function(e){if(!et(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}},Sn=function(e,t){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var i=$n(r.url),o=n.parent,a=i?e.compile(i.val,{params:n.params||{},paramMap:function(e,t){return!1===r.reloadOnSearch&&t&&(e=ht(e||{},{dynamic:!0})),e}}):r.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return i&&i.root?a:(o&&o.navigable||t()).url.append(a)}},qn=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},In=function(e){return function(t){var n=function(t,n){return e.fromConfig(n,null,t)},r=t.url&&t.url.parameters({inherit:!1})||[],i=At(xt(w(t.params||{},r.map(Fe("id"))),n));return r.concat(i).map(function(e){return[e.id,e]}).reduce(k,{})}},Mn=function(){function e(e,t){function n(t){return o(t)?null:e.find(r.parentName(t))||i()}this.matcher=e;var r=this,i=function(){return e.find("")},o=function(e){return""===e.name};this.builders={name:[Z],self:[X],parent:[n],data:[ee],url:[Sn(t,i)],navigable:[qn(o)],params:[In(t.paramFactory)],views:[],path:[te],includes:[ne],resolvables:[re]}}return e.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return et(e)&&!Ye(t)?r.length>1?r:r[0]:et(e)&&Ze(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this,n=t.matcher,r=t.builders,i=this.parentName(e);if(i&&!n.find(i,void 0,!1))return null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o].reduce(function(e,t){return function(n){return t(n,e)}},d);e[o]=a(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?et(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=et(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}(),Dn=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return e=e||"",0===e.indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=et(e),i=r?e:e.name;this.isRelative(i)&&(i=this.resolvePath(i,t));var o=this._states[i];if(o&&(r||!(r||o!==e&&o.self!==e)))return o;if(r&&n){var a=At(this._states),s=a.filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)});return s.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",s.map(function(e){return e.name})),s[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},e}(),Rn=function(){function e(e,t,n,r,i){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=r,this.listeners=i,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=ze.create(e),r=n.name;if(!et(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||vt(t.map(Fe("name")),r))throw new Error("State '"+r+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var e=this,t=this,n=t.queue,r=t.states,i=t.builder,o=[],a=[],s={},c=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};n.length>0;){var u=n.shift(),l=u.name,d=i.build(u),p=a.indexOf(u);if(d){var f=c(l);if(f&&f.name===l)throw new Error("State '"+l+"' is already defined");var h=c(l+".**");h&&this.$registry.deregister(h),r[l]=u,this.attachRoute(u),p>=0&&a.splice(p,1),o.push(u)}else{var g=s[l];if(s[l]=n.length,p>=0&&g===n.length)return n.push(u),r;p<0&&a.push(u),n.push(u)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),r},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}(),Fn=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new Dn(this.states),this.builder=new Mn(this.matcher,e.urlMatcherFactory),this.stateQueue=new Rn(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){var e={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(e)).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){
yt(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map(function(e){return e.$$state()}),r=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(r(t))},i=r([e]),o=[e].concat(i).reverse();return o.forEach(function(e){var n=t._router.urlRouter;n.rules().filter(Pe("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}(),Pn=function(e,t,n){return e[t]=e[t]||n()},On=W("/"),Bn=function(){function t(e,n,r,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=e,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:l});for(var a,s,c,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,f=[],h=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(x(o._params,Pe("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},g=function(t,r){var i=t[2]||t[3],a=r?t[4]:t[4]||("*"===t[1]?"[\\s\\S]*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:e.substring(p,t.index),type:a?n.type(a)||function(e){return mt(n.type(r?"query":"path"),{pattern:new RegExp(e,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=u.exec(e))&&(s=g(a,!1),!(s.segment.indexOf("?")>=0));)h(s.id),this._params.push(r.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),f.push([s.segment,$(this._params)]),p=u.lastIndex;c=e.substring(p);var v=c.indexOf("?");if(v>=0){var y=c.substring(v);if(c=c.substring(0,v),y.length>0)for(p=0;a=d.exec(y);)s=g(a,!0),h(s.id),this._params.push(r.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),p=u.lastIndex}this._segments.push(c),this._compiled=f.map(function(e){return ie.apply(null,e)}).concat(ie(c))}return t.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},t.prototype.isRoot=function(){return this._cache.path[0]===this},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(e,t,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r={});var o=Pn(this._cache,"pattern",function(){return new RegExp(["^",St(i._cache.path.map(Fe("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(e);if(!o)return null;var a=this.parameters(),s=a.filter(function(e){return!e.isSearch()}),c=a.filter(function(e){return e.isSearch()}),u=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),l={};if(u!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var d=0;d<u;d++){for(var p=s[d],f=o[d+1],h=0;h<p.replace.length;h++)p.replace[h].from===f&&(f=p.replace[h].to);f&&!0===p.array&&(f=function(e){var t=function(e){return e.split("").reverse().join("")},n=function(e){return e.replace(/\\-/g,"-")};return A(A(t(e).split(/-(?!\\)/),t),n).reverse()}(f)),Ye(f)&&(f=p.type.decode(f)),l[p.id]=p.value(f)}return c.forEach(function(e){for(var n=t[e.id],r=0;r<e.replace.length;r++)e.replace[r].from===n&&(n=e.replace[r].to);Ye(n)&&(n=e.type.decode(n)),l[e.id]=e.value(n)}),n&&(l["#"]=n),l},t.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:St(this._cache.path.map(function(e){return e._params}))},t.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var r=this._cache.parent;return function(){for(var t=0,r=n._params;t<r.length;t++){var i=r[t];if(i.id===e)return i}}()||!1!==t.inherit&&r&&r.parameter(e,t)||null},t.prototype.validates=function(e){var t=function(e,t){return!e||e.validates(t)};return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(n){return t(n,e[n.id])}).reduce(Ct,!0)},t.prototype.format=function(e){function n(t){var n=t.value(e[t.id]),r=t.validates(n),i=t.isDefaultValue(n);return{param:t,value:n,isValid:r,isDefaultValue:i,squash:!!i&&t.squash,encoded:t.type.encode(n)}}void 0===e&&(e={});var r=this._cache.path,i=r.map(t.pathSegmentsAndParams).reduce(Tt,[]).map(function(e){return et(e)?e:n(e)}),o=r.map(t.queryParams).reduce(Tt,[]).map(n),a=function(e){return!1===e.isValid};if(i.concat(o).filter(a).length)return null;var s=i.reduce(function(e,n){if(et(n))return e+n;var r=n.squash,i=n.encoded,o=n.param;return!0===r?e.match(/\/$/)?e.slice(0,-1):e:et(r)?e+r:!1!==r?e:null==i?e:nt(i)?e+A(i,t.encodeDashes).join("-"):o.raw?e+i:e+encodeURIComponent(i)},""),c=o.map(function(e){var t=e.param,n=e.squash,r=e.encoded,i=e.isDefaultValue;if(!(null==r||i&&!1!==n)&&(nt(r)||(r=[r]),0!==r.length))return t.raw||(r=A(r,encodeURIComponent)),r.map(function(e){return t.id+"="+e})}).filter(l).reduce(Tt,[]).join("&");return s+(c?"?"+c:"")+(e["#"]?"#"+e["#"]:"")},t.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},t.pathSegmentsAndParams=function(t){return T(t._segments,t._params.filter(function(t){return t.location===e.DefType.PATH}).concat(void 0)).reduce(Tt,[]).filter(function(e){return""!==e&&Ye(e)})},t.queryParams=function(t){return t._params.filter(function(t){return t.location===e.DefType.SEARCH})},t.compare=function(e,n){var r=function(e){return e._cache.segments=e._cache.segments||e._cache.path.map(t.pathSegmentsAndParams).reduce(Tt,[]).reduce(J,[]).map(function(e){return et(e)?On(e):e}).reduce(Tt,[])},i=function(e){return e._cache.weights=e._cache.weights||r(e).map(function(e){return"/"===e?1:et(e)?2:e instanceof tn?3:void 0})},o=i(e),a=i(n);!function(e,t,n){for(var r=Math.max(e.length,t.length);e.length<r;)e.push(n);for(;t.length<r;)t.push(n)}(o,a,0);var s,c,u=T(o,a);for(c=0;c<u.length;c++)if(0!==(s=u[c][0]-u[c][1]))return s;return 0},t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t}(),Ln=function(){function t(){var t=this;this.paramTypes=new En,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(e){return ht({strict:t._isStrictMode,caseInsensitive:t._isCaseInsensitive},e)},this.paramFactory={fromConfig:function(n,r,i){return new tn(n,r,i,e.DefType.CONFIG,t)},fromPath:function(n,r,i){return new tn(n,r,i,e.DefType.PATH,t)},fromSearch:function(n,r,i){return new tn(n,r,i,e.DefType.SEARCH,t)}},ht(this,{UrlMatcher:Bn,Param:tn})}return t.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=Ye(e)?e:this._isCaseInsensitive},t.prototype.strictMode=function(e){return this._isStrictMode=Ye(e)?e:this._isStrictMode},t.prototype.defaultSquashPolicy=function(e){if(Ye(e)&&!0!==e&&!1!==e&&!et(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Ye(e)?e:this._defaultSquashPolicy},t.prototype.compile=function(e,t){return new Bn(e,this.paramTypes,this.paramFactory,this._getConfig(t))},t.prototype.isMatcher=function(e){if(!tt(e))return!1;var t=!0;return ft(Bn.prototype,function(n,r){Ze(n)&&(t=t&&Ye(e[r])&&Ze(e[r]))}),t},t.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return Ye(t)?this:r},t.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},t.prototype.dispose=function(){this.paramTypes.dispose()},t}(),Un=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,r=c([[et,function(e){return r(n.compile(e))}],[Ne(Bn),function(e){return n.fromUrlMatcher(e,t)}],[ot,function(e){return n.fromState(e,n.router)}],[Ne(RegExp),function(e){return n.fromRegExp(e,t)}],[Ze,function(e){return new Nn(e,t)}]]),i=r(e);if(!i)throw new Error("invalid 'what' in when()");return i},e.prototype.fromUrlMatcher=function(e,t){function n(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n}function r(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6}var i=t;et(t)&&(t=this.router.urlMatcherFactory.compile(t)),Ne(Bn)(t)&&(i=function(e){return t.format(e)});var o={urlMatcher:e,matchPriority:r,type:"URLMATCHER"};return ht(new Nn(n,i),o)},e.prototype.fromState=function(e,t){var n=function(n){var r=t.stateService,i=t.globals;r.href(e,n)!==r.href(i.current,i.params)&&r.transitionTo(e,n,{inherit:!0,source:"url"})},r={state:e,type:"STATE"};return ht(this.fromUrlMatcher(e.url,n),r)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})},r=et(t)?n:t,i=function(t){return e.exec(t.path)},o={regexp:e,type:"REGEXP"};return ht(new Nn(i,r),o)},e.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return Ye(e[t])})},e}(),Nn=function(){function e(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||l}return e}(),Hn=function(e,t){return(t.priority||0)-(e.priority||0)},Qn=function(e,t){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[e.type]||0)-(n[t.type]||0)},jn=function(e,t){return e.urlMatcher&&t.urlMatcher?Bn.compare(e.urlMatcher,t.urlMatcher):0},zn=function(e,t){var n={STATE:!0,URLMATCHER:!0};return n[e.type]&&n[t.type]?0:(e.$id||0)-(t.$id||0)};Tn=function(e,t){var n=Hn(e,t);return 0!==n?n:0!==(n=Qn(e,t))?n:(n=jn(e,t),0!==n?n:zn(e,t))};var Vn=function(){function e(t){this._sortFn=Tn,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new Un(t),p(Qe(e.prototype),this,Qe(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules=this.stableSort(this._rules,this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.stableSort=function(e,t){var n=e.map(function(e,t){return{elem:e,idx:t}});return n.sort(function(e,n){var r=t(e.elem,n.elem);return 0===r?e.idx-n.idx:r}),n.map(function(e){return e.elem})},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=ht({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var r,i=0;i<n.length&&(!r||0===this._sortFn(n[i],r.rule));i++){var o=function(n){var r=n.match(e,t._router);return r&&{match:r,rule:n,weight:n.matchPriority(r)}}(n[i]);r=!r||o&&o.weight>r.weight?o:r}return r},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);c([[et,function(e){return n.url(e,!0)}],[Gt.isDef,function(e){return r.go(e.state,e.params,e.options)}],[Ne(Gt),function(e){return r.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;if(e)return void(this.location=t.path());t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var r=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),r)},e.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=oe(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port();return s=80===s||443===s?"":":"+s,[i.protocol(),"://",i.host(),s,a,r].join("")},e.prototype.rule=function(e){var t=this;if(!Un.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){yt(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=ae(e);this._otherwiseFn=this.urlRuleFactory.create(Qe(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=ae(e),n=function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)};this.rule(this.urlRuleFactory.create(n,t))},e.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return Ye(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}(),Gn=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return nt(r)?r:[r]},e.prototype.deactivateViewConfig=function(e){Vt.traceViewServiceEvent("<- Removing",e),yt(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){Vt.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){function t(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)}function r(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var i=this,o=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(k,{}),a=n(function(e,t,n,r){return t*(e(n)-e(r))}),s=function(t){var n=i._viewConfigs.filter(e.matches(o,t));return n.length>1&&n.sort(a(r,-1)),[t,n[0]]},c=function(e){var t=e[0],n=e[1];-1!==i._uiViews.indexOf(t)&&t.configUpdated(n)},u=this._uiViews.sort(a(t,1)).map(s);Vt.traceViewSync(u),u.forEach(c)},e.prototype.registerUIView=function(e){Vt.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews,n=function(t){return t.fqn===e.fqn&&t.$type===e.$type};return t.filter(n).length&&Vt.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){if(-1===t.indexOf(e))return void Vt.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e);Vt.traceViewServiceUIViewEvent("<- Deregistering",e),yt(t)(e)}},e.prototype.available=function(){return this._uiViews.map(Fe("fqn"))},e.prototype.active=function(){return this._uiViews.filter(Fe("$config")).map(Fe("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=et(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);(o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i))?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name);return{uiViewName:r,uiViewContextAnchor:i}},e.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=t.fqn.split(".");if(!gt(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),c=e[s].creationContext;return r.$uiViewContextAnchor===(c&&c.name)}},e}(),Kn=function(){function e(){this.params=new kn,this.lastStartedTransitionId=-1,this.transitionHistory=new Pt([],1),this.successfulTransitions=new Pt([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}(),Yn=function(e){return e.reduce(function(e,t){return e[t]=st(t),e},{dispose:d})},Wn=["url","path","search","hash","onChange"],Jn=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Zn=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Xn=["sort","when","initial","otherwise","rules","rule","removeRule"],er=["deferIntercept","listen","sync","match"],tr=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};p(n,this,n,Wn,t);var r=function(){return e.locationConfig};p(r,this.config,r,Jn,t);var i=function(){return e.urlMatcherFactory};p(i,this.config,i,Zn);var o=function(){return e.urlRouter};p(o,this.rules,o,Xn),p(o,this,o,er)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e.locationServiceStub=Yn(Wn),e.locationConfigStub=Yn(Jn),e}(),nr=0,rr=function(){function e(e,t){void 0===e&&(e=tr.locationServiceStub),void 0===t&&(t=tr.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=nr++,this._disposed=!1,this._disposables=[],this.trace=Vt,this.viewService=new Gn,this.transitionService=new Ir(this),this.globals=new Kn,this.urlMatcherFactory=new Ln,this.urlRouter=new Vn(this),this.stateRegistry=new Fn(this),this.stateService=new Mr(this),this.urlService=new tr(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;if(e&&Ze(e.dispose))return void e.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),yt(t._disposables,e)}catch(e){}})},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:At(this._plugins)},e}(),ir=function(e){return e.onCreate({},se)},or=function(e){function t(t){if(t)return t instanceof Gt?t:et(t)?r.target(t,e.params(),e.options()):t.state||t.params?r.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}var n=e.to().redirectTo;if(n){var r=e.router.stateService;return Ze(n)?ct.$q.when(n(e)).then(t):t(n)}},ar=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},or)},sr=ce("onExit"),cr=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},sr)},ur=ce("onRetain"),lr=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},ur)},dr=ce("onEnter"),pr=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},dr)},fr=function(e){return new pn(e.treeChanges().to).resolvePath("EAGER",e).then(d)},hr=function(e){return e.onStart({},fr,{priority:1e3})},gr=function(e,t){return new pn(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(d)},mr=function(e){return e.onEnter({entering:Qe(!0)},gr,{priority:1e3})},vr=function(e){var t=ct.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(d)},yr=function(e){return e.onFinish({},vr)},wr=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}},br=function(e){return e.onSuccess({},wr)},_r=function(e){var t=e.router.globals,n=function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,S(e.params(),t.params)},r=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},n,{priority:1e4}),e.promise.then(r,r)},xr=function(e){return e.onCreate({},_r)},Ar=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},Cr=function(e){return e.onSuccess({},Ar,{priority:9999})},Er=function(e){function t(){if("url"!==e.originalTransition().options().source){var t=e.targetState();return n.stateService.target(t.identifier(),t.params(),t.options())}var r=n.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return n.stateService.target(a,s,e.options())}n.urlService.sync()}var n=e.router,r=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return ue(e,t)});return ct.$q.all(r).then(t)},Tr=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},Er)},kr=function(){function e(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Yt.HANDLE_RESULT),void 0===a&&(a=Yt.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}return e}(),$r=function(e){return e.onBefore({},le,{priority:-9999})},Sr=function(e){return e.onBefore({},de,{priority:-1e4})},qr={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Ir=function(){function t(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=p(Qe(this),{},Qe(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return t.prototype.onCreate=function(e,t,n){},t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.dispose=function(e){At(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,yt(e,t)})})},t.prototype.create=function(e,t){return new gn(e,t,this._router)},t.prototype._defineCoreEvents=function(){var t=e.TransitionHookPhase,n=Yt,r=this._criteriaPaths;this._defineEvent("onCreate",t.CREATE,0,r.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",t.BEFORE,0,r.to),this._defineEvent("onStart",t.RUN,0,r.to),this._defineEvent("onExit",t.RUN,100,r.exiting,!0),this._defineEvent("onRetain",t.RUN,200,r.retained),this._defineEvent("onEnter",t.RUN,300,r.entering),this._defineEvent("onFinish",t.RUN,400,r.to),this._defineEvent("onSuccess",t.SUCCESS,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",t.ERROR,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},t.prototype._defineCorePaths=function(){var t=e.TransitionHookScope.STATE,n=e.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",t),this._definePathType("retained",t),this._definePathType("entering",t)},t.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Yt.HANDLE_RESULT),void 0===a&&(a=Yt.REJECT_ERROR),void 0===s&&(s=!1);var c=new kr(e,t,n,r,i,o,a,s);this._eventTypes.push(c),O(this,this,c)},t.prototype._getEvents=function(e){return(Ye(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},t.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},t.prototype._getPathTypes=function(){return this._criteriaPaths},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=ir(this),e.ignored=$r(this),e.invalid=Sr(this),e.redirectTo=ar(this),e.onExit=cr(this),e.onRetain=lr(this),e.onEnter=pr(this),e.eagerResolve=hr(this),e.lazyResolve=mr(this),e.loadViews=yr(this),e.activateViews=br(this),e.updateGlobals=xr(this),e.updateUrl=Cr(this),e.lazyLoad=Tr(this)},t}(),Mr=function(){function t(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof Bt?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=["current","$current","params","transition"],r=Object.keys(t.prototype).filter(Be(vt(n)));p(Qe(t.prototype),this,Qe(this),r)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.defaultErrorHandler(d),this.invalidCallbacks=[]},t.prototype._handleInvalidTargetState=function(e,t){function n(){var e=c.dequeue();return void 0===e?Bt.invalid(t.error()).toPromise():ct.$q.when(e(t,i,u)).then(l).then(function(e){return e||n()})}var r=this,i=rn.makeTargetState(this.router.stateRegistry,e),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},s=a(),c=new Pt(this.invalidCallbacks.slice()),u=new pn(e).injector(),l=function(e){if(e instanceof Gt){var t=e;return t=r.target(t.identifier(),t.params(),t.options()),t.valid()?a()!==s?Bt.superseded().toPromise():r.transitionTo(t.identifier(),t.params(),t.options()):Bt.invalid(t.error()).toPromise()}};return n()},t.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){yt(this.invalidCallbacks)(e)}.bind(this)},t.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!Ye(e)||e,inherit:!1,notify:!1})},t.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},i=m(n,r,qr);return this.transitionTo(e,t,i)},t.prototype.target=function(e,t,n){if(void 0===n&&(n={}),tt(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(et(n.reload)?n.reload:n.reload.name)+"'");return new Gt(this.router.stateRegistry,e,t,n)},t.prototype.getCurrentPath=function(){var e=this,t=this.router.globals,n=t.successfulTransitions.peekTail();return n?n.treeChanges().to:function(){return[new nn(e.router.stateRegistry.root())]}()},t.prototype.transitionTo=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var o=this.router,a=o.globals;r=m(r,qr),r=ht(r,{current:function(){return a.transition}});var s=this.target(t,n,r),c=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(c,s);if(!s.valid())return Ft(s.error());var u=function(t){return function(n){if(n instanceof Bt){var r=o.globals.lastStartedTransitionId===t.$id;if(n.type===e.RejectType.IGNORED)return r&&o.urlRouter.update(),ct.$q.when(a.current);var s=n.detail;if(n.type===e.RejectType.SUPERSEDED&&n.redirected&&s instanceof Gt){var c=t.redirect(s);return c.run().catch(u(c))}if(n.type===e.RejectType.ABORTED)return r&&o.urlRouter.update(),ct.$q.reject(n)}return i.defaultErrorHandler()(n),ct.$q.reject(n)}},l=this.router.transitionService.create(c,s),d=l.run().catch(u(l));return Rt(d),ht(d,{transition:l})},t.prototype.is=function(e,t,n){n=m(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(Ye(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return tn.equals(i,tn.values(i,t),this.params)}},t.prototype.includes=function(e,t,n){n=m(n,{relative:this.$current});var r=et(e)&&je.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if(Ye(i)){if(!Ye(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return tn.equals(a,tn.values(a,t),this.params)}},t.prototype.href=function(e,t,n){n=m(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};var r=this.router.stateRegistry.matcher.find(e,n.relative);if(!Ye(r))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,t,{absolute:n.absolute}):null},t.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},t.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},t.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=rn.makeTargetState(this.router.stateRegistry,r);return t=t||this.router.transitionService.create(r,i),ue(t,n)},t}(),Dr={when:function(e){return new Promise(function(t,n){return t(e)})},reject:function(e){return new Promise(function(t,n){n(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},all:function(e){if(nt(e))return Promise.all(e);if(tt(e)){var t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return Dr.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}},Rr={},Fr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pr=/([^\s,]+)/g,Or={get:function(e){return Rr[e]},has:function(e){return null!=Or.get(e)},invoke:function(e,t,n){var r=ht({},Rr,n||{}),i=Or.annotate(e),o=It(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),a=i.filter(o).map(function(e){return r[e]});return Ze(e)?e.apply(t,a):e.slice(-1)[0].apply(t,a)},annotate:function(e){if(!u(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(nt(e))return e.slice(0,-1);var t=e.toString().replace(Fr,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Pr)||[]}},Br=function(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?nt(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},Lr=function(e){return e.split("&").filter(l).map(An).reduce(Br,{})},Ur=function(e){var t=e.path(),n=e.search(),r=e.hash(),i=Object.keys(n).map(function(e){var t=n[e];return(nt(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(Tt,[]).join("&");return t+(i?"?"+i:"")+(r?"#"+r:"")},Nr=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listener=function(e){return n._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return pe(n._get()).hash},
this.path=function(){return pe(n._get()).path},this.search=function(){return Lr(pe(n._get()).search)},this._location=ut.location,this._history=ut.history}return e.prototype.url=function(e,t){return void 0===t&&(t=!0),Ye(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate&&this._listeners.forEach(function(t){return t({url:e})})),Ur(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return yt(t._listeners,e)}},e.prototype.dispose=function(e){bt(this._listeners)},e}(),Hr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(e){function t(t){var n=e.call(this,t,!1)||this;return ut.addEventListener("hashchange",n._listener,!1),n}return Hr(t,e),t.prototype._get=function(){return Cn(this._location.hash)},t.prototype._set=function(e,t,n,r){this._location.hash=n},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),ut.removeEventListener("hashchange",this._listener)},t}(Nr),jr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(e){function t(t){return e.call(this,t,!0)||this}return jr(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,n,r){this._url=n},t}(Nr),Vr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=function(e){function t(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,ut.addEventListener("popstate",n._listener,!1),n}return Vr(t,e),t.prototype._getBasePrefix=function(){return bn(this._config.baseHref())},t.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;r=xn(r)[1],n=_n(n)[1];var i=this._getBasePrefix(),o=t===this._config.baseHref(),a=t.startsWith(i);return(t=o?"/":a?t.substring(i.length):t)+(r?"?"+r:"")+(n?"#"+n:"")},t.prototype._set=function(e,t,n,r){var i=this._getBasePrefix()+n;r?this._history.replaceState(e,t,i):this._history.pushState(e,t,i)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),ut.removeEventListener("popstate",this._listener)},t}(Nr),Kr=function(){function e(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return Ye(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=d}return e}(),Yr=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.hostname},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return Ye(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return Ye(e)?this._baseHref=e:Ye(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base")[0];return this._baseHref=e?e.href.substr(location.origin.length):""},e.prototype.dispose=function(){},e}(),Wr=fe("vanilla.hashBangLocation",!1,Qr,Yr),Jr=fe("vanilla.pushStateLocation",!0,Gr,Yr),Zr=fe("vanilla.memoryLocation",!1,zr,Kr),Xr=function(){function e(){}return e.prototype.dispose=function(e){},e}(),ei=Object.freeze({root:ut,fromJson:dt,toJson:pt,forEach:ft,extend:ht,equals:gt,identity:l,noop:d,createProxyFunctions:p,inherit:mt,inArray:vt,_inArray:f,removeFrom:yt,_removeFrom:h,pushTo:wt,_pushTo:g,deregAll:bt,defaults:m,mergeR:_t,ancestors:v,pick:y,omit:w,pluck:b,filter:_,find:x,mapObj:xt,map:A,values:At,allTrueR:Ct,anyTrueR:Et,unnestR:Tt,flattenR:kt,pushR:C,uniqR:$t,unnest:St,flatten:qt,assertPredicate:It,assertMap:Mt,assertFn:E,pairs:Dt,arrayTuples:T,applyPairs:k,tail:$,copy:S,_extend:I,silenceUncaughtInPromise:Rt,silentRejection:Ft,notImplemented:st,services:ct,Glob:je,curry:n,compose:r,pipe:i,prop:Fe,propEq:Pe,parse:Oe,not:Be,and:o,or:a,all:Le,any:Ue,is:Ne,eq:He,val:Qe,invoke:s,pattern:c,isUndefined:Ke,isDefined:Ye,isNull:We,isNullOrUndefined:Je,isFunction:Ze,isNumber:Xe,isString:et,isObject:tt,isArray:nt,isDate:rt,isRegExp:it,isState:ot,isInjectable:u,isPromise:at,Queue:Pt,maxLength:j,padString:z,kebobString:V,functionToString:G,fnToString:K,stringify:Y,beforeAfterSubstr:yn,hostRegex:wn,stripFile:bn,splitHash:_n,splitQuery:xn,splitEqual:An,trimHashVal:Cn,splitOnDelim:W,joinNeighborsR:J,get Category(){return e.Category},Trace:zt,trace:Vt,get DefType(){return e.DefType},Param:tn,ParamTypes:En,StateParams:kn,ParamType:Zt,PathNode:nn,PathUtils:rn,resolvePolicies:sn,defaultResolvePolicy:on,Resolvable:an,NATIVE_INJECTOR_TOKEN:dn,ResolveContext:pn,resolvablesBuilder:re,StateBuilder:Mn,StateObject:ze,StateMatcher:Dn,StateQueueManager:Rn,StateRegistry:Fn,StateService:Mr,TargetState:Gt,get TransitionHookPhase(){return e.TransitionHookPhase},get TransitionHookScope(){return e.TransitionHookScope},HookBuilder:Jt,matchState:P,RegisteredHook:Wt,makeEvent:O,get RejectType(){return e.RejectType},Rejection:Bt,Transition:gn,TransitionHook:Yt,TransitionEventType:kr,defaultTransOpts:qr,TransitionService:Ir,UrlMatcher:Bn,UrlMatcherFactory:Ln,UrlRouter:Vn,UrlRuleFactory:Un,BaseUrlRule:Nn,UrlService:tr,ViewService:Gn,UIRouterGlobals:Kn,UIRouter:rr,$q:Dr,$injector:Or,BaseLocationServices:Nr,HashLocationService:Qr,MemoryLocationService:zr,PushStateLocationService:Gr,MemoryLocationConfig:Kr,BrowserLocationConfig:Yr,keyValsToObjectR:Br,getParams:Lr,parseUrl:pe,buildUrl:Ur,locationPluginFactory:fe,servicesPlugin:he,hashLocationPlugin:Wr,pushStateLocationPlugin:Jr,memoryLocationPlugin:Zr,UIRouterPluginBase:Xr}),ti=function(e,t){return e.reduce(function(e,n){return e||Ye(t[n])},!1)},ni=0,ri=function(){function e(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=ni++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return e.prototype.load=function(){var e=this,t=ct.$q,n=new pn(this.path),r=this.path.reduce(function(e,t){return ht(e,t.paramValues)},{}),i={template:t.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:t.when(this.getController(n))};return t.all(i).then(function(t){return Vt.traceViewServiceEvent("Loaded",e),e.controller=t.controller,ht(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!u(t))return this.viewDecl.controller;var n=ct.$injector.annotate(t),r=nt(t)?$(t):t;return new an("",r,n).get(e)},e}(),ii=function(){function e(){var e=this;this._useHttp=Re.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,r){return e.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var r=function(e){return ct.$q.when(e).then(function(e){return{template:e}})},i=function(e){return ct.$q.when(e).then(function(e){return{component:e}})};return Ye(e.template)?r(this.fromString(e.template,t)):Ye(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):Ye(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):Ye(e.component)?i(e.component):Ye(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return Ze(e)?e(t):e},e.prototype.fromUrl=function(e,t){return Ze(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var r=ct.$injector.annotate(e),i=nt(e)?$(e):e;return new an("",i,r).get(n)},e.prototype.fromComponentProvider=function(e,t,n){var r=ct.$injector.annotate(e),i=nt(e)?$(e):e;return new an("",i,r).get(n)},e.prototype.makeComponentTemplate=function(e,t,n,r){r=r||{};var i=Re.version.minor>=3?"::":"",o=function(e){var t=V(e);return/^(x|data)-/.exec(t)?"x-"+t:t},a=function(n){var a=n.name,s=n.type,c=o(a);if(e.attr(c)&&!r[a])return c+"='"+e.attr(c)+"'";var u=r[a]||a;if("@"===s)return c+"='{{"+i+"$resolve."+u+"}}'";if("&"===s){var l=t.getResolvable(u),d=l&&l.data,p=d&&ct.$injector.annotate(d)||[];return c+"='$resolve."+u+(nt(d)?"["+(d.length-1)+"]":"")+"("+p.join(",")+")'"}return c+"='"+i+"$resolve."+u+"'"},s=ve(n).map(a).join(" "),c=o(n);return"<"+c+" "+s+"></"+c+">"},e}(),oi=function(e){return ai(tt(e.bindToController)?e.bindToController:e.scope)},ai=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return Ye(e)&&nt(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},si=function(){function e(t,n){this.stateRegistry=t,this.stateService=n,p(Qe(e.prototype),this,Qe(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return tt(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}(),ci=function(e){return function(t,n){function r(e,t){var n=new pn(e.treeChanges(o)),r=ht(_i(n),{$state$:t,$transition$:e});return ct.$injector.invoke(i,this,r)}var i=t[e],o="onExit"===e?"from":"to";return i?r:void 0}},ui=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=Qe(e);p(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return yt(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=tt(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,r){var i=this;this.$location=t,this.$sniffer=n,e.$on("$locationChangeSuccess",function(e){return i._urlListeners.forEach(function(t){return t(e)})});var o=Qe(t),a=Qe(r);p(o,this,o,["replace","path","search","hash"]),p(o,this,o,["port","protocol","host"]),p(a,this,a,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}(),li=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!Ze(e))throw new Error("'rule' must be a function");var n=function(){return e(ct.$injector,t._router.locationService)},r=new Nn(n,l);return this._urlRouter.rule(r),this},e.prototype.otherwise=function(e){var t=this,n=this._urlRouter;if(et(e))n.otherwise(e);else{if(!Ze(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(ct.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,n){return(nt(n)||Ze(n))&&(n=e.injectableHandler(this._router,n)),this._urlRouter.when(t,n),this},e.injectableHandler=function(e,t){return function(n){return ct.$injector.invoke(t,null,{$match:n,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();Re.module("ui.router.angular1",[]);var di=Re.module("ui.router.init",[]),pi=Re.module("ui.router.util",["ng","ui.router.init"]),fi=Re.module("ui.router.router",["ui.router.util"]),hi=Re.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),gi=Re.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),mi=(Re.module("ui.router.compat",["ui.router"]),null);ye.$inject=["$locationProvider"];var vi=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};we.$inject=["$injector","$q","$uiRouter"];var yi=function(e){return e.urlRouterProvider=new li(e)},wi=function(){return ht(mi.stateProvider,{$get:function(){return mi.stateService}})};be.$inject=["$rootScope"],di.provider("$uiRouter",ye),fi.provider("$urlRouter",["$uiRouterProvider",yi]),pi.provider("$urlService",vi("urlService")),pi.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return mi.urlMatcherFactory}]),pi.provider("$templateFactory",function(){return new ii}),hi.provider("$stateRegistry",vi("stateRegistry")),hi.provider("$uiRouterGlobals",vi("globals")),hi.provider("$transitions",vi("transitionService")),hi.provider("$state",["$uiRouterProvider",wi]),hi.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),gi.factory("$view",function(){return mi.viewService}),gi.service("$trace",function(){return Vt}),gi.run(be),pi.run(["$urlMatcherFactory",function(e){}]),hi.run(["$state",function(e){}]),fi.run(["$urlRouter",function(e){}]),di.run(we);var bi,_i=function(e){return e.getTokens().filter(et).map(function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]}).reduce(k,{})};bi=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var e=f();d&&d(),l&&(d=l.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(u.attr,e.href)}var c,u=Ce(i),l=a[1]||a[0],d=null,p={},f=function(){return Ae(n,i,p)},h=_e(o.uiSref);p.uiState=h.state,p.uiStateOpts=o.uiSrefOpts?r.$eval(o.uiSrefOpts):{},h.paramExpr&&(r.$watch(h.paramExpr,function(e){p.uiStateParams=ht({},e),s()},!0),p.uiStateParams=ht({},r.$eval(h.paramExpr))),s(),r.$on("$destroy",e.stateRegistry.onStatesChanged(s)),r.$on("$destroy",e.transitionService.onSuccess({},s)),u.clickable&&(c=Ee(i,n,t,u,f),ke(i,r,c,p.uiStateOpts))}}}];var xi;xi=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var e=h();p&&p(),l&&(p=l.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(u.attr,e.href)}var c,u=Ce(i),l=a[1]||a[0],p=null,f={},h=function(){return Ae(n,i,f)},g=["uiState","uiStateParams","uiStateOpts"],m=g.reduce(function(e,t){return e[t]=d,e},{});g.forEach(function(e){f[e]=o[e]?r.$eval(o[e]):null,o.$observe(e,function(t){m[e](),m[e]=r.$watch(t,function(t){f[e]=t,s()},!0)})}),s(),r.$on("$destroy",e.stateRegistry.onStatesChanged(s)),r.$on("$destroy",e.transitionService.onSuccess({},s)),u.clickable&&(c=Ee(i,n,t,u,h),ke(i,r,c,f.uiStateOpts))}}}];var Ai;Ai=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,o){function a(e){e.promise.then(c,d)}function s(t,n,r){var o=e.get(t,xe(i)),a={state:o||{name:t},params:n,activeClass:r};return f.push(a),function(){yt(f)(a)}}function c(){var n=function(e){return e.split(/\s/).filter(l)},r=function(e){return e.map(function(e){return e.activeClass}).map(n).reduce(Tt,[])},o=r(f).concat(n(u)).reduce($t,[]),a=r(f.filter(function(t){return e.includes(t.state.name,t.params)})),s=!!f.filter(function(t){return e.is(t.state.name,t.params)}).length,c=s?n(u):[],d=a.concat(c).reduce($t,[]),p=o.filter(function(e){return!vt(d,e)});t.$evalAsync(function(){d.forEach(function(e){return i.addClass(e)}),p.forEach(function(e){return i.removeClass(e)})})}var u,p,f=[];u=n(o.uiSrefActiveEq||"",!1)(t);try{p=t.$eval(o.uiSrefActive)}catch(e){}p=p||n(o.uiSrefActive||"",!1)(t),tt(p)&&ft(p,function(e,n){if(et(e)){var r=_e(e);s(r.state,t.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(tt(p)&&f.length>0)){var n=s(e,t,p);return c(),n}},t.$on("$stateChangeSuccess",c),t.$on("$destroy",r.transitionService.onStart({},a)),r.globals.transition&&a(r.globals.transition),c()}]}}],Re.module("ui.router.state").directive("uiSref",bi).directive("uiSrefActive",Ai).directive("uiSrefActiveEq",Ai).directive("uiState",xi),$e.$inject=["$state"],Se.$inject=["$state"],Re.module("ui.router.state").filter("isState",$e).filter("includedByState",Se);var Ci;Ci=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,n,r,i){function o(e,n){return{enter:function(e,n,r){Re.version.minor>2?t.enter(e,null,n).then(r):t.enter(e,null,n,r)},leave:function(e,n){Re.version.minor>2?t.leave(e).then(n):t.leave(e,n)}}}function a(e,t){return e===t}var s={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},c={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,u,l){return function(t,u,d){function p(e){(!e||e instanceof ri)&&(a(x,e)||(Vt.traceUIViewConfigUpdated(E,e&&e.viewDecl&&e.viewDecl.$context),x=e,h(e)))}function f(){if(g&&(Vt.traceUIViewEvent("Removing (previous) el",g.data("$uiView")),g.remove(),g=null),v&&(Vt.traceUIViewEvent("Destroying scope",E),v.$destroy(),v=null),m){var e=m.data("$uiViewAnim");Vt.traceUIViewEvent("Animate out",e),_.leave(m,function(){e.$$animLeave.resolve(),g=null}),g=m,m=null}}function h(e){var r=t.$new(),o=i.defer(),a=i.defer(),s={$cfg:e,$uiView:E},c={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};r.$emit("$viewContentLoading",C);var d=l(r,function(e){e.data("$uiViewAnim",c),e.data("$uiView",s),_.enter(e,u,function(){o.resolve(),v&&v.$emit("$viewContentAnimationEnded"),(Ye(b)&&!b||t.$eval(b))&&n(e)}),f()});m=d,v=r,v.$emit("$viewContentLoaded",e||x),v.$eval(w)}var g,m,v,y,w=d.onload||"",b=d.autoscroll,_=o(d,t),x=void 0,A=u.inheritedData("$uiView")||s,C=r(d.uiView||d.name||"")(t)||"$default",E={$type:"ng1",id:c.count++,name:C,fqn:A.$uiView.fqn?A.$uiView.fqn+"."+C:C,config:null,configUpdated:p,get creationContext(){var e=Oe("$cfg.viewDecl.$context")(A),t=Oe("$uiView.creationContext")(A);return e||t}};Vt.traceUIViewEvent("Linking",E),u.data("$uiView",{$uiView:E}),h(),y=e.registerUIView(E),t.$on("$destroy",function(){Vt.traceUIViewEvent("Destroying/Unregistering",E),y()})}}};return c}],qe.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Ei="function"==typeof Re.module("ui.router").component,Ti=0;Re.module("ui.router.state").directive("uiView",Ci),Re.module("ui.router.state").directive("uiView",qe),Re.module("ui.router.state").provider("$uiViewScroll",Me);e.default="ui.router",e.core=ei,e.watchDigests=be,e.getLocals=_i,e.getNg1ViewConfigFactory=ge,e.ng1ViewsBuilder=me,e.Ng1ViewConfig=ri,e.StateProvider=si,e.UrlRouterProvider=li,e.root=ut,e.fromJson=dt,e.toJson=pt,e.forEach=ft,e.extend=ht,e.equals=gt,e.identity=l,e.noop=d,e.createProxyFunctions=p,e.inherit=mt,e.inArray=vt,e._inArray=f,e.removeFrom=yt,e._removeFrom=h,e.pushTo=wt,e._pushTo=g,e.deregAll=bt,e.defaults=m,e.mergeR=_t,e.ancestors=v,e.pick=y,e.omit=w,e.pluck=b,e.filter=_,e.find=x,e.mapObj=xt,e.map=A,e.values=At,e.allTrueR=Ct,e.anyTrueR=Et,e.unnestR=Tt,e.flattenR=kt,e.pushR=C,e.uniqR=$t,e.unnest=St,e.flatten=qt,e.assertPredicate=It,e.assertMap=Mt,e.assertFn=E,e.pairs=Dt,e.arrayTuples=T,e.applyPairs=k,e.tail=$,e.copy=S,e._extend=I,e.silenceUncaughtInPromise=Rt,e.silentRejection=Ft,e.notImplemented=st,e.services=ct,e.Glob=je,e.curry=n,e.compose=r,e.pipe=i,e.prop=Fe,e.propEq=Pe,e.parse=Oe,e.not=Be,e.and=o,e.or=a,e.all=Le,e.any=Ue,e.is=Ne,e.eq=He,e.val=Qe,e.invoke=s,e.pattern=c,e.isUndefined=Ke,e.isDefined=Ye,e.isNull=We,e.isNullOrUndefined=Je,e.isFunction=Ze,e.isNumber=Xe,e.isString=et,e.isObject=tt,e.isArray=nt,e.isDate=rt,e.isRegExp=it,e.isState=ot,e.isInjectable=u,e.isPromise=at,e.Queue=Pt,e.maxLength=j,e.padString=z,e.kebobString=V,e.functionToString=G,e.fnToString=K,e.stringify=Y,e.beforeAfterSubstr=yn,e.hostRegex=wn,e.stripFile=bn,e.splitHash=_n,e.splitQuery=xn,e.splitEqual=An,e.trimHashVal=Cn,e.splitOnDelim=W,e.joinNeighborsR=J,e.Trace=zt,e.trace=Vt,e.Param=tn,e.ParamTypes=En,e.StateParams=kn,e.ParamType=Zt,e.PathNode=nn,e.PathUtils=rn,e.resolvePolicies=sn,e.defaultResolvePolicy=on,e.Resolvable=an,e.NATIVE_INJECTOR_TOKEN=dn,e.ResolveContext=pn,e.resolvablesBuilder=re,e.StateBuilder=Mn,e.StateObject=ze,e.StateMatcher=Dn,e.StateQueueManager=Rn,e.StateRegistry=Fn,e.StateService=Mr,e.TargetState=Gt,e.HookBuilder=Jt,e.matchState=P,e.RegisteredHook=Wt,e.makeEvent=O,e.Rejection=Bt,e.Transition=gn,e.TransitionHook=Yt,e.TransitionEventType=kr,e.defaultTransOpts=qr,e.TransitionService=Ir,e.UrlMatcher=Bn,e.UrlMatcherFactory=Ln,e.UrlRouter=Vn,e.UrlRuleFactory=Un,e.BaseUrlRule=Nn,e.UrlService=tr,e.ViewService=Gn,e.UIRouterGlobals=Kn,e.UIRouter=rr,e.$q=Dr,e.$injector=Or,e.BaseLocationServices=Nr,e.HashLocationService=Qr,e.MemoryLocationService=zr,e.PushStateLocationService=Gr,e.MemoryLocationConfig=Kr,e.BrowserLocationConfig=Yr,e.keyValsToObjectR=Br,e.getParams=Lr,e.parseUrl=pe,e.buildUrl=Ur,e.locationPluginFactory=fe,e.servicesPlugin=he,e.hashLocationPlugin=Wr,e.pushStateLocationPlugin=Jr,e.memoryLocationPlugin=Zr,e.UIRouterPluginBase=Xr,Object.defineProperty(e,"__esModule",{value:!0})}),function(){function e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function t(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function o(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function a(e,t){return!!(null==e?0:e.length)&&v(e,t,0)>-1}function s(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function u(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function l(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function d(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function p(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function f(e){return e.split("")}function h(e){return e.match(Dt)||[]}function g(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function m(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function v(e,t,n){return t===t?j(e,t,n):m(e,w,n)}function y(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function w(e){return e!==e}function b(e,t){var n=null==e?0:e.length;return n?E(e,t)/n:$e}function _(e){return function(t){return null==t?J:t[e]}}function x(e){return function(t){return null==e?J:e[t]}}function A(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function C(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function E(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==J&&(n=n===J?o:n+o)}return n}function T(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return c(t,function(t){return[t,e[t]]})}function $(e){return function(t){return e(t)}}function S(e,t){return c(t,function(t){return e[t]})}function q(e,t){return e.has(t)}function I(e,t){for(var n=-1,r=e.length;++n<r&&v(t,e[n],0)>-1;);return n}function M(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function R(e){return"\\"+Mn[e]}function F(e,t){return null==e?J:e[t]}function P(e){return An.test(e)}function O(e){return Cn.test(e)}function B(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function U(e,t){return function(n){return e(t(n))}}function N(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==re||(e[n]=re,o[i++]=n)}return o}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function j(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function z(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function V(e){return P(e)?K(e):Yn(e)}function G(e){return P(e)?Y(e):f(e)}function K(e){for(var t=_n.lastIndex=0;_n.test(e);)++t;return t}function Y(e){return e.match(_n)||[]}function W(e){return e.match(xn)||[]}var J,Z=200,X="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ee="Expected a function",te="__lodash_hash_undefined__",ne=500,re="__lodash_placeholder__",ie=1,oe=2,ae=4,se=1,ce=2,ue=1,le=2,de=4,pe=8,fe=16,he=32,ge=64,me=128,ve=256,ye=512,we=30,be="...",_e=800,xe=16,Ae=1,Ce=2,Ee=1/0,Te=9007199254740991,ke=1.7976931348623157e308,$e=NaN,Se=4294967295,qe=Se-1,Ie=Se>>>1,Me=[["ary",me],["bind",ue],["bindKey",le],["curry",pe],["curryRight",fe],["flip",ye],["partial",he],["partialRight",ge],["rearg",ve]],De="[object Arguments]",Re="[object Array]",Fe="[object AsyncFunction]",Pe="[object Boolean]",Oe="[object Date]",Be="[object DOMException]",Le="[object Error]",Ue="[object Function]",Ne="[object GeneratorFunction]",He="[object Map]",Qe="[object Number]",je="[object Null]",ze="[object Object]",Ve="[object Promise]",Ge="[object Proxy]",Ke="[object RegExp]",Ye="[object Set]",We="[object String]",Je="[object Symbol]",Ze="[object Undefined]",Xe="[object WeakMap]",et="[object WeakSet]",tt="[object ArrayBuffer]",nt="[object DataView]",rt="[object Float32Array]",it="[object Float64Array]",ot="[object Int8Array]",at="[object Int16Array]",st="[object Int32Array]",ct="[object Uint8Array]",ut="[object Uint8ClampedArray]",lt="[object Uint16Array]",dt="[object Uint32Array]",pt=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,mt=/[&<>"']/g,vt=RegExp(gt.source),yt=RegExp(mt.source),wt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,_t=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Et=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(Et.source),kt=/^\s+|\s+$/g,$t=/^\s+/,St=/\s+$/,qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,Ot=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Lt=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Gt="\\u2700-\\u27bf",Kt="a-z\\xdf-\\xf6\\xf8-\\xff",Yt="A-Z\\xc0-\\xd6\\xd8-\\xde",Wt="\\ufe0e\\ufe0f",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="['â]",Xt="["+Jt+"]",en="["+Vt+"]",tn="["+Kt+"]",nn="[^"+zt+Jt+"\\d+"+Gt+Kt+Yt+"]",rn="\\ud83c[\\udffb-\\udfff]",on="[^"+zt+"]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Yt+"]",un="\\u200d",ln="(?:"+tn+"|"+nn+")",dn="(?:['â](?:d|ll|m|re|s|t|ve))?",pn="(?:['â](?:D|LL|M|RE|S|T|VE))?",fn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hn="["+Wt+"]?",gn="(?:"+un+"(?:"+[on,an,sn].join("|")+")"+hn+fn+")*",mn=hn+fn+gn,vn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+mn,yn="(?:"+[on+en+"?",en,an,sn,"[\\ud800-\\udfff]"].join("|")+")",wn=RegExp(Zt,"g"),bn=RegExp(en,"g"),_n=RegExp(rn+"(?="+rn+")|"+yn+mn,"g"),xn=RegExp([cn+"?"+tn+"+"+dn+"(?="+[Xt,cn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+"+pn+"(?="+[Xt,cn+ln,"$"].join("|")+")",cn+"?"+ln+"+"+dn,cn+"+"+pn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",vn].join("|"),"g"),An=RegExp("["+un+zt+Vt+Wt+"]"),Cn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,En=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tn=-1,kn={};kn[rt]=kn[it]=kn[ot]=kn[at]=kn[st]=kn[ct]=kn[ut]=kn[lt]=kn[dt]=!0,kn[De]=kn[Re]=kn[tt]=kn[Pe]=kn[nt]=kn[Oe]=kn[Le]=kn[Ue]=kn[He]=kn[Qe]=kn[ze]=kn[Ke]=kn[Ye]=kn[We]=kn[Xe]=!1;var $n={};$n[De]=$n[Re]=$n[tt]=$n[nt]=$n[Pe]=$n[Oe]=$n[rt]=$n[it]=$n[ot]=$n[at]=$n[st]=$n[He]=$n[Qe]=$n[ze]=$n[Ke]=$n[Ye]=$n[We]=$n[Je]=$n[ct]=$n[ut]=$n[lt]=$n[dt]=!0,$n[Le]=$n[Ue]=$n[Xe]=!1;var Sn={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"
},Dn=parseFloat,Rn=parseInt,Fn="object"==typeof global&&global&&global.Object===Object&&global,Pn="object"==typeof self&&self&&self.Object===Object&&self,On=Fn||Pn||Function("return this")(),Bn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ln=Bn&&"object"==typeof module&&module&&!module.nodeType&&module,Un=Ln&&Ln.exports===Bn,Nn=Un&&Fn.process,Hn=function(){try{var e=Ln&&Ln.require&&Ln.require("util").types;return e||Nn&&Nn.binding&&Nn.binding("util")}catch(e){}}(),Qn=Hn&&Hn.isArrayBuffer,jn=Hn&&Hn.isDate,zn=Hn&&Hn.isMap,Vn=Hn&&Hn.isRegExp,Gn=Hn&&Hn.isSet,Kn=Hn&&Hn.isTypedArray,Yn=_("length"),Wn=x(Sn),Jn=x(qn),Zn=x(In),Xn=function f(x){function j(e){if(nc(e)&&!fp(e)&&!(e instanceof Dt)){if(e instanceof Y)return e;if(fl.call(e,"__wrapped__"))return Xo(e)}return new Y(e)}function K(){}function Y(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=J}function Dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function zt(){var e=new Dt(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e}function Vt(){if(this.__filtered__){var e=new Dt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Gt(){var e=this.__wrapped__.value(),t=this.__dir__,n=fp(e),r=t<0,i=n?e.length:0,o=Ao(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,p=0,f=Ql(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return mi(e,this.__actions__);var h=[];e:for(;c--&&p<f;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=l[g],y=v.iteratee,w=v.type,b=y(m);if(w==Ce)m=b;else if(!b){if(w==Ae)continue e;break e}}h[p++]=m}return h}function Kt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(){this.__data__=Xl?Xl(null):{},this.size=0}function Wt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Jt(e){var t=this.__data__;if(Xl){var n=t[e];return n===te?J:n}return fl.call(t,e)?t[e]:J}function Zt(e){var t=this.__data__;return Xl?t[e]!==J:fl.call(t,e)}function Xt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xl&&t===J?te:t,this}function en(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tn(){this.__data__=[],this.size=0}function nn(e){var t=this.__data__,n=Pn(t,e);return!(n<0||(n==t.length-1?t.pop():kl.call(t,n,1),--this.size,0))}function rn(e){var t=this.__data__,n=Pn(t,e);return n<0?J:t[n][1]}function on(e){return Pn(this.__data__,e)>-1}function an(e,t){var n=this.__data__,r=Pn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function sn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new Kt,map:new(Yl||en),string:new Kt}}function un(e){var t=wo(this,e).delete(e);return this.size-=t?1:0,t}function ln(e){return wo(this,e).get(e)}function dn(e){return wo(this,e).has(e)}function pn(e,t){var n=wo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new sn;++t<n;)this.add(e[t])}function hn(e){return this.__data__.set(e,te),this}function gn(e){return this.__data__.has(e)}function mn(e){this.size=(this.__data__=new en(e)).size}function vn(){this.__data__=new en,this.size=0}function yn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function _n(e){return this.__data__.get(e)}function xn(e){return this.__data__.has(e)}function An(e,t){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!Yl||r.length<Z-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sn(r)}return n.set(e,t),this.size=n.size,this}function Cn(e,t){var n=fp(e),r=!n&&pp(e),i=!n&&!r&&gp(e),o=!n&&!r&&!i&&bp(e),a=n||r||i||o,s=a?T(e.length,al):[],c=s.length;for(var u in e)!t&&!fl.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Io(u,c))||s.push(u);return s}function Sn(e){var t=e.length;return t?e[Jr(0,t-1)]:J}function qn(e,t){return Yo(Di(e),er(t,0,e.length))}function In(e){return Yo(Di(e))}function Mn(e,t,n){(n===J||Hs(e[t],n))&&(n!==J||t in e)||Hn(e,t,n)}function Fn(e,t,n){var r=e[t];fl.call(e,t)&&Hs(r,n)&&(n!==J||t in e)||Hn(e,t,n)}function Pn(e,t){for(var n=e.length;n--;)if(Hs(e[n][0],t))return n;return-1}function Bn(e,t,n,r){return dd(e,function(e,i,o){t(r,e,n(e),o)}),r}function Ln(e,t){return e&&Ri(t,Oc(t),e)}function Nn(e,t){return e&&Ri(t,Bc(t),e)}function Hn(e,t,n){"__proto__"==t&&Il?Il(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,r=t.length,i=Xu(r),o=null==e;++n<r;)i[n]=o?J:Rc(e,t[n]);return i}function er(e,t,n){return e===e&&(n!==J&&(e=e<=n?e:n),t!==J&&(e=e>=t?e:t)),e}function tr(e,t,r,i,o,a){var s,c=t&ie,u=t&oe,l=t&ae;if(r&&(s=o?r(e,i,o,a):r(e)),s!==J)return s;if(!tc(e))return e;var d=fp(e);if(d){if(s=To(e),!c)return Di(e,s)}else{var p=Ad(e),f=p==Ue||p==Ne;if(gp(e))return Ai(e,c);if(p==ze||p==De||f&&!o){if(s=u||f?{}:ko(e),!c)return u?Pi(e,Nn(s,e)):Fi(e,Ln(s,e))}else{if(!$n[p])return o?e:{};s=$o(e,p,c)}}a||(a=new mn);var h=a.get(e);if(h)return h;a.set(e,s),wp(e)?e.forEach(function(n){s.add(tr(n,t,r,n,e,a))}):vp(e)&&e.forEach(function(n,i){s.set(i,tr(n,t,r,i,e,a))});var g=l?u?go:ho:u?Bc:Oc,m=d?J:g(e);return n(m||e,function(n,i){m&&(i=n,n=e[i]),Fn(s,i,tr(n,t,r,i,e,a))}),s}function nr(e){var t=Oc(e);return function(n){return rr(n,e,t)}}function rr(e,t,n){var r=n.length;if(null==e)return!r;for(e=il(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===J&&!(i in e)||!o(a))return!1}return!0}function ir(e,t,n){if("function"!=typeof e)throw new sl(ee);return Td(function(){e.apply(J,n)},t)}function or(e,t,n,r){var i=-1,o=a,u=!0,l=e.length,d=[],p=t.length;if(!l)return d;n&&(t=c(t,$(n))),r?(o=s,u=!1):t.length>=Z&&(o=q,u=!1,t=new fn(t));e:for(;++i<l;){var f=e[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,u&&h===h){for(var g=p;g--;)if(t[g]===h)continue e;d.push(f)}else o(t,h,r)||d.push(f)}return d}function ar(e,t){var n=!0;return dd(e,function(e,r,i){return n=!!t(e,r,i)}),n}function sr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===J?a===a&&!fc(a):n(a,s)))var s=a,c=o}return c}function cr(e,t,n,r){var i=e.length;for(n=wc(n),n<0&&(n=-n>i?0:i+n),r=r===J||r>i?i:wc(r),r<0&&(r+=i),r=n>r?0:bc(r);n<r;)e[n++]=t;return e}function ur(e,t){var n=[];return dd(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function lr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=qo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?lr(s,t-1,n,r,i):u(i,s):r||(i[i.length]=s)}return i}function dr(e,t){return e&&fd(e,t,Oc)}function pr(e,t){return e&&hd(e,t,Oc)}function fr(e,t){return o(t,function(t){return Zs(e[t])})}function hr(e,t){t=_i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Wo(t[n++])];return n&&n==r?e:J}function gr(e,t,n){var r=t(e);return fp(e)?r:u(r,n(e))}function mr(e){return null==e?e===J?Ze:je:ql&&ql in il(e)?xo(e):Ho(e)}function vr(e,t){return e>t}function yr(e,t){return null!=e&&fl.call(e,t)}function wr(e,t){return null!=e&&t in il(e)}function br(e,t,n){return e>=Ql(t,n)&&e<Hl(t,n)}function _r(e,t,n){for(var r=n?s:a,i=e[0].length,o=e.length,u=o,l=Xu(o),d=1/0,p=[];u--;){var f=e[u];u&&t&&(f=c(f,$(t))),d=Ql(f.length,d),l[u]=!n&&(t||i>=120&&f.length>=120)?new fn(u&&f):J}f=e[0];var h=-1,g=l[0];e:for(;++h<i&&p.length<d;){var m=f[h],v=t?t(m):m;if(m=n||0!==m?m:0,!(g?q(g,v):r(p,v,n))){for(u=o;--u;){var y=l[u];if(!(y?q(y,v):r(e[u],v,n)))continue e}g&&g.push(v),p.push(m)}}return p}function xr(e,t,n,r){return dr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Ar(t,n,r){n=_i(n,t),t=jo(t,n);var i=null==t?t:t[Wo(ya(n))];return null==i?J:e(i,t,r)}function Cr(e){return nc(e)&&mr(e)==De}function Er(e){return nc(e)&&mr(e)==tt}function Tr(e){return nc(e)&&mr(e)==Oe}function kr(e,t,n,r,i){return e===t||(null==e||null==t||!nc(e)&&!nc(t)?e!==e&&t!==t:$r(e,t,n,r,kr,i))}function $r(e,t,n,r,i,o){var a=fp(e),s=fp(t),c=a?Re:Ad(e),u=s?Re:Ad(t);c=c==De?ze:c,u=u==De?ze:u;var l=c==ze,d=u==ze,p=c==u;if(p&&gp(e)){if(!gp(t))return!1;a=!0,l=!1}if(p&&!l)return o||(o=new mn),a||bp(e)?uo(e,t,n,r,i,o):lo(e,t,c,n,r,i,o);if(!(n&se)){var f=l&&fl.call(e,"__wrapped__"),h=d&&fl.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,m=h?t.value():t;return o||(o=new mn),i(g,m,n,r,o)}}return!!p&&(o||(o=new mn),po(e,t,n,r,i,o))}function Sr(e){return nc(e)&&Ad(e)==He}function qr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=il(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var c=s[0],u=e[c],l=s[1];if(a&&s[2]){if(u===J&&!(c in e))return!1}else{var d=new mn;if(r)var p=r(u,l,c,e,t,d);if(!(p===J?kr(l,u,se|ce,r,d):p))return!1}}return!0}function Ir(e){return!(!tc(e)||Po(e))&&(Zs(e)?wl:Lt).test(Jo(e))}function Mr(e){return nc(e)&&mr(e)==Ke}function Dr(e){return nc(e)&&Ad(e)==Ye}function Rr(e){return nc(e)&&ec(e.length)&&!!kn[mr(e)]}function Fr(e){return"function"==typeof e?e:null==e?ku:"object"==typeof e?fp(e)?Nr(e[0],e[1]):Ur(e):Fu(e)}function Pr(e){if(!Oo(e))return Nl(e);var t=[];for(var n in il(e))fl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Or(e){if(!tc(e))return No(e);var t=Oo(e),n=[];for(var r in e)("constructor"!=r||!t&&fl.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Lr(e,t){var n=-1,r=Qs(e)?Xu(e.length):[];return dd(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ur(e){var t=bo(e);return 1==t.length&&t[0][2]?Lo(t[0][0],t[0][1]):function(n){return n===e||qr(n,e,t)}}function Nr(e,t){return Do(e)&&Bo(t)?Lo(Wo(e),t):function(n){var r=Rc(n,e);return r===J&&r===t?Pc(n,e):kr(t,r,se|ce)}}function Hr(e,t,n,r,i){e!==t&&fd(t,function(o,a){if(i||(i=new mn),tc(o))Qr(e,t,a,n,Hr,r,i);else{var s=r?r(Vo(e,a),o,a+"",e,t,i):J;s===J&&(s=o),Mn(e,a,s)}},Bc)}function Qr(e,t,n,r,i,o,a){var s=Vo(e,n),c=Vo(t,n),u=a.get(c);if(u)return Mn(e,n,u),J;var l=o?o(s,c,n+"",e,t,a):J,d=l===J;if(d){var p=fp(c),f=!p&&gp(c),h=!p&&!f&&bp(c);l=c,p||f||h?fp(s)?l=s:js(s)?l=Di(s):f?(d=!1,l=Ai(c,!0)):h?(d=!1,l=$i(c,!0)):l=[]:lc(c)||pp(c)?(l=s,pp(s)?l=xc(s):tc(s)&&!Zs(s)||(l=ko(c))):d=!1}d&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),Mn(e,n,l)}function jr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Io(t,n)?e[t]:J}function zr(e,t,n){t=t.length?c(t,function(e){return fp(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e}):[ku];var r=-1;return t=c(t,$(yo())),C(Lr(e,function(e,n,i){return{criteria:c(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return qi(e,t,n)})}function Vr(e,t){return Gr(e,t,function(t,n){return Pc(e,n)})}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=hr(e,a);n(s,a)&&ri(o,_i(a,e),s)}return o}function Kr(e){return function(t){return hr(t,e)}}function Yr(e,t,n,r){var i=r?y:v,o=-1,a=t.length,s=e;for(e===t&&(t=Di(t)),n&&(s=c(e,$(n)));++o<a;)for(var u=0,l=t[o],d=n?n(l):l;(u=i(s,d,u,r))>-1;)s!==e&&kl.call(s,u,1),kl.call(e,u,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Io(i)?kl.call(e,i,1):fi(e,i)}}return e}function Jr(e,t){return e+Pl(Vl()*(t-e+1))}function Zr(e,t,n,r){for(var i=-1,o=Hl(Fl((t-e)/(n||1)),0),a=Xu(o);o--;)a[r?o:++i]=e,e+=n;return a}function Xr(e,t){var n="";if(!e||t<1||t>Te)return n;do{t%2&&(n+=e),(t=Pl(t/2))&&(e+=e)}while(t);return n}function ei(e,t){return kd(Qo(e,t,ku),e+"")}function ti(e){return Sn(Wc(e))}function ni(e,t){var n=Wc(e);return Yo(n,er(t,0,n.length))}function ri(e,t,n,r){if(!tc(e))return e;t=_i(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=Wo(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];(u=r?r(l,c,s):J)===J&&(u=tc(l)?l:Io(t[i+1])?[]:{})}Fn(s,c,u),s=s[c]}return e}function ii(e){return Yo(Wc(e))}function oi(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Xu(i);++r<i;)o[r]=e[r+t];return o}function ai(e,t){var n;return dd(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Ie){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!fc(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,ku,n)}function ci(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;t=n(t);for(var a=t!==t,s=null===t,c=fc(t),u=t===J;i<o;){var l=Pl((i+o)/2),d=n(e[l]),p=d!==J,f=null===d,h=d===d,g=fc(d);if(a)var m=r||h;else m=u?h&&(r||p):s?h&&p&&(r||!f):c?h&&p&&!f&&(r||!g):!f&&!g&&(r?d<=t:d<t);m?i=l+1:o=l}return Ql(o,qe)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Hs(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:fc(e)?$e:+e}function di(e){if("string"==typeof e)return e;if(fp(e))return c(e,di)+"";if(fc(e))return ud?ud.call(e):"";var t=e+"";return"0"==t&&1/e==-Ee?"-0":t}function pi(e,t,n){var r=-1,i=a,o=e.length,c=!0,u=[],l=u;if(n)c=!1,i=s;else if(o>=Z){var d=t?null:wd(e);if(d)return H(d);c=!1,i=q,l=new fn}else l=t?[]:u;e:for(;++r<o;){var p=e[r],f=t?t(p):p;if(p=n||0!==p?p:0,c&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),u.push(p)}else i(l,f,n)||(l!==u&&l.push(f),u.push(p))}return u}function fi(e,t){return t=_i(t,e),null==(e=jo(e,t))||delete e[Wo(ya(t))]}function hi(e,t,n,r){return ri(e,t,n(hr(e,t)),r)}function gi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?oi(e,r?0:o,r?o+1:i):oi(e,r?o+1:0,r?i:o)}function mi(e,t){var n=e;return n instanceof Dt&&(n=n.value()),l(t,function(e,t){return t.func.apply(t.thisArg,u([e],t.args))},n)}function vi(e,t,n){var r=e.length;if(r<2)return r?pi(e[0]):[];for(var i=-1,o=Xu(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=or(o[i]||a,e[s],t,n));return pi(lr(o,1),t,n)}function yi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;)n(a,e[r],r<o?t[r]:J);return a}function wi(e){return js(e)?e:[]}function bi(e){return"function"==typeof e?e:ku}function _i(e,t){return fp(e)?e:Do(e,t)?[e]:$d(Cc(e))}function xi(e,t,n){var r=e.length;return n=n===J?r:n,!t&&n>=r?e:oi(e,t,n)}function Ai(e,t){if(t)return e.slice();var n=e.length,r=Al?Al(n):new e.constructor(n);return e.copy(r),r}function Ci(e){var t=new e.constructor(e.byteLength);return new xl(t).set(new xl(e)),t}function Ei(e,t){return new e.constructor(t?Ci(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Ti(e){var t=new e.constructor(e.source,Pt.exec(e));return t.lastIndex=e.lastIndex,t}function ki(e){return cd?il(cd.call(e)):{}}function $i(e,t){return new e.constructor(t?Ci(e.buffer):e.buffer,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==J,r=null===e,i=e===e,o=fc(e),a=t!==J,s=null===t,c=t===t,u=fc(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function qi(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=Si(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}function Ii(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=Hl(o-a,0),l=Xu(c+u),d=!r;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l}function Mi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=Hl(o-s,0),d=Xu(l+u),p=!r;++i<l;)d[i]=e[i];for(var f=i;++c<u;)d[f+c]=t[c];for(;++a<s;)(p||i<o)&&(d[f+n[a]]=e[i++]);return d}function Di(e,t){var n=-1,r=e.length;for(t||(t=Xu(r));++n<r;)t[n]=e[n];return t}function Ri(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):J;c===J&&(c=e[s]),i?Hn(n,s,c):Fn(n,s,c)}return n}function Fi(e,t){return Ri(e,_d(e),t)}function Pi(e,t){return Ri(e,xd(e),t)}function Oi(e,n){return function(r,i){var o=fp(r)?t:Bn,a=n?n():{};return o(r,e,yo(i,2),a)}}function Bi(e){return ei(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:J,a=i>2?n[2]:J;for(o=e.length>3&&"function"==typeof o?(i--,o):J,a&&Mo(n[0],n[1],a)&&(o=i<3?J:o,i=1),t=il(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Li(e,t){return function(n,r){if(null==n)return n;if(!Qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=il(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ui(e){return function(t,n,r){for(var i=-1,o=il(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Ni(e,t,n){function r(){return(this&&this!==On&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ue,o=ji(e);return r}function Hi(e){return function(t){t=Cc(t);var n=P(t)?G(t):J,r=n?n[0]:t.charAt(0),i=n?xi(n,1).join(""):t.slice(1);return r[e]()+i}}function Qi(e){return function(t){return l(xu(nu(t).replace(wn,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ld(e.prototype),r=e.apply(n,t);return tc(r)?r:n}}function zi(t,n,r){function i(){for(var a=arguments.length,s=Xu(a),c=a,u=vo(i);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:N(s,u);return a-=l.length,a<r?no(t,n,Ki,i.placeholder,J,s,l,J,J,r-a):e(this&&this!==On&&this instanceof i?o:t,this,s)}var o=ji(t);return i}function Vi(e){return function(t,n,r){var i=il(t);if(!Qs(t)){var o=yo(n,3);t=Oc(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:J}}function Gi(e){return fo(function(t){var n=t.length,r=n,i=Y.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new sl(ee);if(i&&!a&&"wrapper"==mo(o))var a=new Y([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=mo(o),c="wrapper"==s?bd(o):J;a=c&&Fo(c[0])&&c[1]==(me|pe|he|ve)&&!c[4].length&&1==c[9]?a[mo(c[0])].apply(a,c[3]):1==o.length&&Fo(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&fp(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ki(e,t,n,r,i,o,a,s,c,u){function l(){for(var v=arguments.length,y=Xu(v),w=v;w--;)y[w]=arguments[w];if(h)var b=vo(l),_=D(y,b);if(r&&(y=Ii(y,r,i,h)),o&&(y=Mi(y,o,a,h)),v-=_,h&&v<u)return no(e,t,Ki,l.placeholder,n,y,N(y,b),s,c,u-v);var x=p?n:this,A=f?x[e]:e;return v=y.length,s?y=zo(y,s):g&&v>1&&y.reverse(),d&&c<v&&(y.length=c),this&&this!==On&&this instanceof l&&(A=m||ji(A)),A.apply(x,y)}var d=t&me,p=t&ue,f=t&le,h=t&(pe|fe),g=t&ye,m=f?J:ji(e);return l}function Yi(e,t){return function(n,r){return xr(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var i;if(n===J&&r===J)return t;if(n!==J&&(i=n),r!==J){if(i===J)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=li(n),r=li(r)),i=e(n,r)}return i}}function Ji(t){return fo(function(n){return n=c(n,$(yo())),ei(function(r){var i=this;return t(n,function(t){return e(t,i,r)})})})}function Zi(e,t){t=t===J?" ":di(t);var n=t.length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,Fl(e/V(t)));return P(t)?xi(G(r),0,e).join(""):r.slice(0,e)}function Xi(t,n,r,i){function o(){for(var n=-1,c=arguments.length,u=-1,l=i.length,d=Xu(l+c),p=this&&this!==On&&this instanceof o?s:t;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++n];return e(p,a?r:this,d)}var a=n&ue,s=ji(t);return o}function eo(e){return function(t,n,r){return r&&"number"!=typeof r&&Mo(t,n,r)&&(n=r=J),t=yc(t),n===J?(n=t,t=0):n=yc(n),r=r===J?t<n?1:-1:yc(r),Zr(t,n,r,e)}}function to(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_c(t),n=_c(n)),e(t,n)}}function no(e,t,n,r,i,o,a,s,c,u){var l=t&pe,d=l?a:J,p=l?J:a,f=l?o:J,h=l?J:o;t|=l?he:ge,(t&=~(l?ge:he))&de||(t&=~(ue|le));var g=[e,t,i,f,d,h,p,s,c,u],m=n.apply(J,g);return Fo(e)&&Ed(m,g),m.placeholder=r,Go(m,e,t)}function ro(e){var t=rl[e];return function(e,n){if(e=_c(e),(n=null==n?0:Ql(wc(n),292))&&Ll(e)){var r=(Cc(e)+"e").split("e");return r=(Cc(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function io(e){return function(t){var n=Ad(t);return n==He?L(t):n==Ye?Q(t):k(t,e(t))}}function oo(e,t,n,r,i,o,a,s){var c=t&le;if(!c&&"function"!=typeof e)throw new sl(ee);var u=r?r.length:0;if(u||(t&=~(he|ge),r=i=J),a=a===J?a:Hl(wc(a),0),s=s===J?s:wc(s),u-=i?i.length:0,t&ge){var l=r,d=i;r=i=J}var p=c?J:bd(e),f=[e,t,n,r,i,l,d,o,a,s];if(p&&Uo(f,p),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=f[9]===J?c?0:e.length:Hl(f[9]-u,0),!s&&t&(pe|fe)&&(t&=~(pe|fe)),t&&t!=ue)h=t==pe||t==fe?zi(e,t,s):t!=he&&t!=(ue|he)||i.length?Ki.apply(J,f):Xi(e,t,n,r);else var h=Ni(e,t,n);return Go((p?gd:Ed)(h,f),e,t)}function ao(e,t,n,r){return e===J||Hs(e,ll[n])&&!fl.call(r,n)?t:e}function so(e,t,n,r,i,o){return tc(e)&&tc(t)&&(o.set(t,e),Hr(e,t,J,so,o),o.delete(t)),e}function co(e){return lc(e)?J:e}function uo(e,t,n,r,i,o){var a=n&se,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,h=n&ce?new fn:J;for(o.set(e,t),o.set(t,e);++d<s;){var g=e[d],m=t[d];if(r)var v=a?r(m,g,d,t,e,o):r(g,m,d,e,t,o);if(v!==J){if(v)continue;f=!1;break}if(h){if(!p(t,function(e,t){if(!q(h,t)&&(g===e||i(g,e,n,r,o)))return h.push(t)})){f=!1;break}}else if(g!==m&&!i(g,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function lo(e,t,n,r,i,o,a){switch(n){case nt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tt:return!(e.byteLength!=t.byteLength||!o(new xl(e),new xl(t)));case Pe:case Oe:case Qe:return Hs(+e,+t);case Le:return e.name==t.name&&e.message==t.message;case Ke:case We:return e==t+"";case He:var s=L;case Ye:var c=r&se;if(s||(s=H),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=ce,a.set(e,t);var l=uo(s(e),s(t),r,i,o,a);return a.delete(e),l;case Je:if(cd)return cd.call(e)==cd.call(t)}return!1}function po(e,t,n,r,i,o){var a=n&se,s=ho(e),c=s.length;if(c!=ho(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:fl.call(t,l)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){l=s[u];var g=e[l],m=t[l];if(r)var v=a?r(m,g,l,t,e,o):r(g,m,l,e,t,o);if(!(v===J?g===m||i(g,m,n,r,o):v)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}function fo(e){return kd(Qo(e,J,la),e+"")}function ho(e){return gr(e,Oc,_d)}function go(e){return gr(e,Bc,xd)}function mo(e){for(var t=e.name+"",n=td[t],r=fl.call(td,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function vo(e){return(fl.call(j,"placeholder")?j:e).placeholder}function yo(){var e=j.iteratee||$u;return e=e===$u?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function wo(e,t){var n=e.__data__;return Ro(t)?n["string"==typeof t?"string":"hash"]:n.map}function bo(e){for(var t=Oc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Bo(i)]}return t}function _o(e,t){var n=F(e,t);return Ir(n)?n:J}function xo(e){var t=fl.call(e,ql),n=e[ql];try{e[ql]=J;var r=!0}catch(e){}var i=ml.call(e);return r&&(t?e[ql]=n:delete e[ql]),i}function Ao(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ql(t,e+a);break;case"takeRight":e=Hl(e,t-a)}}return{start:e,end:t}}function Co(e){var t=e.match(It);return t?t[1].split(Mt):[]}function Eo(e,t,n){t=_i(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Wo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ec(i)&&Io(a,i)&&(fp(e)||pp(e))}function To(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ko(e){return"function"!=typeof e.constructor||Oo(e)?{}:ld(Cl(e))}function $o(e,t,n){var r=e.constructor;switch(t){case tt:return Ci(e);case Pe:case Oe:return new r(+e);case nt:return Ei(e,n);case rt:case it:case ot:case at:case st:case ct:case ut:case lt:case dt:return $i(e,n);case He:return new r;case Qe:case We:return new r(e);case Ke:return Ti(e);case Ye:return new r;case Je:return ki(e)}}function So(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(qt,"{\n/* [wrapped with "+t+"] */\n")}function qo(e){return fp(e)||pp(e)||!!($l&&e&&e[$l])}function Io(e,t){var n=typeof e;return!!(t=null==t?Te:t)&&("number"==n||"symbol"!=n&&Nt.test(e))&&e>-1&&e%1==0&&e<t}function Mo(e,t,n){if(!tc(n))return!1;var r=typeof t;return!!("number"==r?Qs(n)&&Io(t,n.length):"string"==r&&t in n)&&Hs(n[t],e)}function Do(e,t){if(fp(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fc(e))||At.test(e)||!xt.test(e)||null!=t&&e in il(t)}function Ro(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Fo(e){var t=mo(e),n=j[t];if("function"!=typeof n||!(t in Dt.prototype))return!1;if(e===n)return!0;var r=bd(n);return!!r&&e===r[0]}function Po(e){return!!gl&&gl in e}function Oo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ll)}function Bo(e){return e===e&&!tc(e)}function Lo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==J||e in il(n))}}function Uo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ue|le|me),a=r==me&&n==pe||r==me&&n==ve&&e[7].length<=t[8]||r==(me|ve)&&t[7].length<=t[8]&&n==pe;if(!o&&!a)return e;r&ue&&(e[2]=t[2],i|=n&ue?0:de);var s=t[3];if(s){var c=e[3];e[3]=c?Ii(c,s,t[4]):s,e[4]=c?N(e[3],re):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?Mi(c,s,t[6]):s,e[6]=c?N(e[5],re):t[6]),s=t[7],s&&(e[7]=s),r&me&&(e[8]=null==e[8]?t[8]:Ql(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function No(e){var t=[];if(null!=e)for(var n in il(e))t.push(n);return t}function Ho(e){return ml.call(e)}function Qo(t,n,r){return n=Hl(n===J?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=Hl(i.length-n,0),s=Xu(a);++o<a;)s[o]=i[n+o];o=-1;for(var c=Xu(n+1);++o<n;)c[o]=i[o];return c[n]=r(s),e(t,this,c)}}function jo(e,t){return t.length<2?e:hr(e,oi(t,0,-1))}function zo(e,t){for(var n=e.length,r=Ql(t.length,n),i=Di(e);r--;){var o=t[r];e[r]=Io(o,n)?i[o]:J}return e}function Vo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Go(e,t,n){var r=t+"";return kd(e,So(r,Zo(Co(r),n)))}function Ko(e){var t=0,n=0;return function(){var r=jl(),i=xe-(r-n);if(n=r,i>0){if(++t>=_e)return arguments[0]}else t=0;return e.apply(J,arguments)}}function Yo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===J?r:t;++n<t;){var o=Jr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Wo(e){if("string"==typeof e||fc(e))return e;var t=e+"";return"0"==t&&1/e==-Ee?"-0":t}function Jo(e){if(null!=e){try{return pl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Zo(e,t){return n(Me,function(n){var r="_."+n[0];t&n[1]&&!a(e,r)&&e.push(r)}),e.sort()}function Xo(e){if(e instanceof Dt)return e.clone();var t=new Y(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ea(e,t,n){t=(n?Mo(e,t,n):t===J)?1:Hl(wc(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Xu(Fl(r/t));i<r;)a[o++]=oi(e,i,i+=t);return a}function ta(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function na(){var e=arguments.length;if(!e)return[];for(var t=Xu(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return u(fp(n)?Di(n):[n],lr(t,1))}function ra(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===J?1:wc(t),oi(e,t<0?0:t,r)):[]}function ia(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===J?1:wc(t),t=r-t,oi(e,0,t<0?0:t)):[]}function oa(e,t){return e&&e.length?gi(e,yo(t,3),!0,!0):[]}function aa(e,t){return e&&e.length?gi(e,yo(t,3),!0):[]}function sa(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Mo(e,t,n)&&(n=0,r=i),cr(e,t,n,r)):[]}function ca(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wc(n);return i<0&&(i=Hl(r+i,0)),m(e,yo(t,3),i)}function ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==J&&(i=wc(n),i=n<0?Hl(r+i,0):Ql(i,r-1)),m(e,yo(t,3),i,!0)}function la(e){return(null==e?0:e.length)?lr(e,1):[]}function da(e){return(null==e?0:e.length)?lr(e,Ee):[]}function pa(e,t){return(null==e?0:e.length)?(t=t===J?1:wc(t),lr(e,t)):[]}function fa(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ha(e){return e&&e.length?e[0]:J}function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wc(n);return i<0&&(i=Hl(r+i,0)),v(e,t,i)}function ma(e){return(null==e?0:e.length)?oi(e,0,-1):[]}function va(e,t){return null==e?"":Ul.call(e,t)}function ya(e){var t=null==e?0:e.length;return t?e[t-1]:J}function wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==J&&(i=wc(n),i=i<0?Hl(r+i,0):Ql(i,r-1)),t===t?z(e,t,i):m(e,w,i,!0)}function ba(e,t){return e&&e.length?jr(e,wc(t)):J}function _a(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}function xa(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,yo(n,2)):e}function Aa(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,J,n):e}function Ca(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=yo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Wr(e,i),n}function Ea(e){return null==e?e:Gl.call(e)}function Ta(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Mo(e,t,n)?(t=0,n=r):(t=null==t?0:wc(t),n=n===J?r:wc(n)),oi(e,t,n)):[]}function ka(e,t){return si(e,t)}function $a(e,t,n){return ci(e,t,yo(n,2))}function Sa(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Hs(e[r],t))return r}return-1}function qa(e,t){return si(e,t,!0)}function Ia(e,t,n){return ci(e,t,yo(n,2),!0)}function Ma(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Hs(e[n],t))return n}return-1}function Da(e){return e&&e.length?ui(e):[]}function Ra(e,t){return e&&e.length?ui(e,yo(t,2)):[]}function Fa(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]}function Pa(e,t,n){return e&&e.length?(t=n||t===J?1:wc(t),oi(e,0,t<0?0:t)):[]}function Oa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===J?1:wc(t),t=r-t,oi(e,t<0?0:t,r)):[]}function Ba(e,t){return e&&e.length?gi(e,yo(t,3),!1,!0):[]}function La(e,t){return e&&e.length?gi(e,yo(t,3)):[]}function Ua(e){return e&&e.length?pi(e):[]}function Na(e,t){return e&&e.length?pi(e,yo(t,2)):[]}function Ha(e,t){return t="function"==typeof t?t:J,e&&e.length?pi(e,J,t):[]}function Qa(e){if(!e||!e.length)return[];var t=0;return e=o(e,function(e){if(js(e))return t=Hl(e.length,t),!0}),T(t,function(t){return c(e,_(t))})}function ja(t,n){if(!t||!t.length)return[];var r=Qa(t);return null==n?r:c(r,function(t){return e(n,J,t)})}function za(e,t){return yi(e||[],t||[],Fn)}function Va(e,t){return yi(e||[],t||[],ri)}function Ga(e){var t=j(e);return t.__chain__=!0,t}function Ka(e,t){return t(e),e}function Ya(e,t){return t(e)}function Wa(){return Ga(this)}function Ja(){return new Y(this.value(),this.__chain__)}function Za(){this.__values__===J&&(this.__values__=vc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?J:this.__values__[this.__index__++]}}function Xa(){return this}function es(e){for(var t,n=this;n instanceof K;){var r=Xo(n);r.__index__=0,r.__values__=J,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function ts(){var e=this.__wrapped__;if(e instanceof Dt){var t=e;return this.__actions__.length&&(t=new Dt(this)),t=t.reverse(),t.__actions__.push({func:Ya,args:[Ea],thisArg:J}),new Y(t,this.__chain__)}return this.thru(Ea)}function ns(){return mi(this.__wrapped__,this.__actions__)}function rs(e,t,n){var r=fp(e)?i:ar;return n&&Mo(e,t,n)&&(t=J),r(e,yo(t,3))}function is(e,t){return(fp(e)?o:ur)(e,yo(t,3))}function os(e,t){return lr(ds(e,t),1)}function as(e,t){return lr(ds(e,t),Ee)}function ss(e,t,n){return n=n===J?1:wc(n),lr(ds(e,t),n)}
function cs(e,t){return(fp(e)?n:dd)(e,yo(t,3))}function us(e,t){return(fp(e)?r:pd)(e,yo(t,3))}function ls(e,t,n,r){e=Qs(e)?e:Wc(e),n=n&&!r?wc(n):0;var i=e.length;return n<0&&(n=Hl(i+n,0)),pc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&v(e,t,n)>-1}function ds(e,t){return(fp(e)?c:Lr)(e,yo(t,3))}function ps(e,t,n,r){return null==e?[]:(fp(t)||(t=null==t?[]:[t]),n=r?J:n,fp(n)||(n=null==n?[]:[n]),zr(e,t,n))}function fs(e,t,n){var r=fp(e)?l:A,i=arguments.length<3;return r(e,yo(t,4),n,i,dd)}function hs(e,t,n){var r=fp(e)?d:A,i=arguments.length<3;return r(e,yo(t,4),n,i,pd)}function gs(e,t){return(fp(e)?o:ur)(e,Ss(yo(t,3)))}function ms(e){return(fp(e)?Sn:ti)(e)}function vs(e,t,n){return t=(n?Mo(e,t,n):t===J)?1:wc(t),(fp(e)?qn:ni)(e,t)}function ys(e){return(fp(e)?In:ii)(e)}function ws(e){if(null==e)return 0;if(Qs(e))return pc(e)?V(e):e.length;var t=Ad(e);return t==He||t==Ye?e.size:Pr(e).length}function bs(e,t,n){var r=fp(e)?p:ai;return n&&Mo(e,t,n)&&(t=J),r(e,yo(t,3))}function _s(e,t){if("function"!=typeof t)throw new sl(ee);return e=wc(e),function(){if(--e<1)return t.apply(this,arguments)}}function xs(e,t,n){return t=n?J:t,t=e&&null==t?e.length:t,oo(e,me,J,J,J,J,t)}function As(e,t){var n;if("function"!=typeof t)throw new sl(ee);return e=wc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=J),n}}function Cs(e,t,n){t=n?J:t;var r=oo(e,pe,J,J,J,J,J,t);return r.placeholder=Cs.placeholder,r}function Es(e,t,n){t=n?J:t;var r=oo(e,fe,J,J,J,J,J,t);return r.placeholder=Es.placeholder,r}function Ts(e,t,n){function r(t){var n=p,r=f;return p=f=J,y=t,g=e.apply(r,n)}function i(e){return y=e,m=Td(s,t),w?r(e):g}function o(e){var n=e-v,r=e-y,i=t-n;return b?Ql(i,h-r):i}function a(e){var n=e-v,r=e-y;return v===J||n>=t||n<0||b&&r>=h}function s(){var e=tp();return a(e)?c(e):(m=Td(s,o(e)),J)}function c(e){return m=J,_&&p?r(e):(p=f=J,g)}function u(){m!==J&&yd(m),y=0,p=v=f=m=J}function l(){return m===J?g:c(tp())}function d(){var e=tp(),n=a(e);if(p=arguments,f=this,v=e,n){if(m===J)return i(v);if(b)return yd(m),m=Td(s,t),r(v)}return m===J&&(m=Td(s,t)),g}var p,f,h,g,m,v,y=0,w=!1,b=!1,_=!0;if("function"!=typeof e)throw new sl(ee);return t=_c(t)||0,tc(n)&&(w=!!n.leading,b="maxWait"in n,h=b?Hl(_c(n.maxWait)||0,t):h,_="trailing"in n?!!n.trailing:_),d.cancel=u,d.flush=l,d}function ks(e){return oo(e,ye)}function $s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new sl(ee);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new($s.Cache||sn),n}function Ss(e){if("function"!=typeof e)throw new sl(ee);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function qs(e){return As(2,e)}function Is(e,t){if("function"!=typeof e)throw new sl(ee);return t=t===J?t:wc(t),ei(e,t)}function Ms(t,n){if("function"!=typeof t)throw new sl(ee);return n=null==n?0:Hl(wc(n),0),ei(function(r){var i=r[n],o=xi(r,0,n);return i&&u(o,i),e(t,this,o)})}function Ds(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new sl(ee);return tc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ts(e,t,{leading:r,maxWait:t,trailing:i})}function Rs(e){return xs(e,1)}function Fs(e,t){return sp(bi(t),e)}function Ps(){if(!arguments.length)return[];var e=arguments[0];return fp(e)?e:[e]}function Os(e){return tr(e,ae)}function Bs(e,t){return t="function"==typeof t?t:J,tr(e,ae,t)}function Ls(e){return tr(e,ie|ae)}function Us(e,t){return t="function"==typeof t?t:J,tr(e,ie|ae,t)}function Ns(e,t){return null==t||rr(e,t,Oc(t))}function Hs(e,t){return e===t||e!==e&&t!==t}function Qs(e){return null!=e&&ec(e.length)&&!Zs(e)}function js(e){return nc(e)&&Qs(e)}function zs(e){return!0===e||!1===e||nc(e)&&mr(e)==Pe}function Vs(e){return nc(e)&&1===e.nodeType&&!lc(e)}function Gs(e){if(null==e)return!0;if(Qs(e)&&(fp(e)||"string"==typeof e||"function"==typeof e.splice||gp(e)||bp(e)||pp(e)))return!e.length;var t=Ad(e);if(t==He||t==Ye)return!e.size;if(Oo(e))return!Pr(e).length;for(var n in e)if(fl.call(e,n))return!1;return!0}function Ks(e,t){return kr(e,t)}function Ys(e,t,n){n="function"==typeof n?n:J;var r=n?n(e,t):J;return r===J?kr(e,t,J,n):!!r}function Ws(e){if(!nc(e))return!1;var t=mr(e);return t==Le||t==Be||"string"==typeof e.message&&"string"==typeof e.name&&!lc(e)}function Js(e){return"number"==typeof e&&Ll(e)}function Zs(e){if(!tc(e))return!1;var t=mr(e);return t==Ue||t==Ne||t==Fe||t==Ge}function Xs(e){return"number"==typeof e&&e==wc(e)}function ec(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function tc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nc(e){return null!=e&&"object"==typeof e}function rc(e,t){return e===t||qr(e,t,bo(t))}function ic(e,t,n){return n="function"==typeof n?n:J,qr(e,t,bo(t),n)}function oc(e){return uc(e)&&e!=+e}function ac(e){if(Cd(e))throw new tl(X);return Ir(e)}function sc(e){return null===e}function cc(e){return null==e}function uc(e){return"number"==typeof e||nc(e)&&mr(e)==Qe}function lc(e){if(!nc(e)||mr(e)!=ze)return!1;var t=Cl(e);if(null===t)return!0;var n=fl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&pl.call(n)==vl}function dc(e){return Xs(e)&&e>=-Te&&e<=Te}function pc(e){return"string"==typeof e||!fp(e)&&nc(e)&&mr(e)==We}function fc(e){return"symbol"==typeof e||nc(e)&&mr(e)==Je}function hc(e){return e===J}function gc(e){return nc(e)&&Ad(e)==Xe}function mc(e){return nc(e)&&mr(e)==et}function vc(e){if(!e)return[];if(Qs(e))return pc(e)?G(e):Di(e);if(Sl&&e[Sl])return B(e[Sl]());var t=Ad(e);return(t==He?L:t==Ye?H:Wc)(e)}function yc(e){return e?(e=_c(e))===Ee||e===-Ee?(e<0?-1:1)*ke:e===e?e:0:0===e?e:0}function wc(e){var t=yc(e),n=t%1;return t===t?n?t-n:t:0}function bc(e){return e?er(wc(e),0,Se):0}function _c(e){if("number"==typeof e)return e;if(fc(e))return $e;if(tc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kt,"");var n=Bt.test(e);return n||Ut.test(e)?Rn(e.slice(2),n?2:8):Ot.test(e)?$e:+e}function xc(e){return Ri(e,Bc(e))}function Ac(e){return e?er(wc(e),-Te,Te):0===e?e:0}function Cc(e){return null==e?"":di(e)}function Ec(e,t){var n=ld(e);return null==t?n:Ln(n,t)}function Tc(e,t){return g(e,yo(t,3),dr)}function kc(e,t){return g(e,yo(t,3),pr)}function $c(e,t){return null==e?e:fd(e,yo(t,3),Bc)}function Sc(e,t){return null==e?e:hd(e,yo(t,3),Bc)}function qc(e,t){return e&&dr(e,yo(t,3))}function Ic(e,t){return e&&pr(e,yo(t,3))}function Mc(e){return null==e?[]:fr(e,Oc(e))}function Dc(e){return null==e?[]:fr(e,Bc(e))}function Rc(e,t,n){var r=null==e?J:hr(e,t);return r===J?n:r}function Fc(e,t){return null!=e&&Eo(e,t,yr)}function Pc(e,t){return null!=e&&Eo(e,t,wr)}function Oc(e){return Qs(e)?Cn(e):Pr(e)}function Bc(e){return Qs(e)?Cn(e,!0):Or(e)}function Lc(e,t){var n={};return t=yo(t,3),dr(e,function(e,r,i){Hn(n,t(e,r,i),e)}),n}function Uc(e,t){var n={};return t=yo(t,3),dr(e,function(e,r,i){Hn(n,r,t(e,r,i))}),n}function Nc(e,t){return Hc(e,Ss(yo(t)))}function Hc(e,t){if(null==e)return{};var n=c(go(e),function(e){return[e]});return t=yo(t),Gr(e,n,function(e,n){return t(e,n[0])})}function Qc(e,t,n){t=_i(t,e);var r=-1,i=t.length;for(i||(i=1,e=J);++r<i;){var o=null==e?J:e[Wo(t[r])];o===J&&(r=i,o=n),e=Zs(o)?o.call(e):o}return e}function jc(e,t,n){return null==e?e:ri(e,t,n)}function zc(e,t,n,r){return r="function"==typeof r?r:J,null==e?e:ri(e,t,n,r)}function Vc(e,t,r){var i=fp(e),o=i||gp(e)||bp(e);if(t=yo(t,4),null==r){var a=e&&e.constructor;r=o?i?new a:[]:tc(e)&&Zs(a)?ld(Cl(e)):{}}return(o?n:dr)(e,function(e,n,i){return t(r,e,n,i)}),r}function Gc(e,t){return null==e||fi(e,t)}function Kc(e,t,n){return null==e?e:hi(e,t,bi(n))}function Yc(e,t,n,r){return r="function"==typeof r?r:J,null==e?e:hi(e,t,bi(n),r)}function Wc(e){return null==e?[]:S(e,Oc(e))}function Jc(e){return null==e?[]:S(e,Bc(e))}function Zc(e,t,n){return n===J&&(n=t,t=J),n!==J&&(n=_c(n),n=n===n?n:0),t!==J&&(t=_c(t),t=t===t?t:0),er(_c(e),t,n)}function Xc(e,t,n){return t=yc(t),n===J?(n=t,t=0):n=yc(n),e=_c(e),br(e,t,n)}function eu(e,t,n){if(n&&"boolean"!=typeof n&&Mo(e,t,n)&&(t=n=J),n===J&&("boolean"==typeof t?(n=t,t=J):"boolean"==typeof e&&(n=e,e=J)),e===J&&t===J?(e=0,t=1):(e=yc(e),t===J?(t=e,e=0):t=yc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Vl();return Ql(e+i*(t-e+Dn("1e-"+((i+"").length-1))),t)}return Jr(e,t)}function tu(e){return Vp(Cc(e).toLowerCase())}function nu(e){return(e=Cc(e))&&e.replace(Ht,Wn).replace(bn,"")}function ru(e,t,n){e=Cc(e),t=di(t);var r=e.length;n=n===J?r:er(wc(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function iu(e){return e=Cc(e),e&&yt.test(e)?e.replace(mt,Jn):e}function ou(e){return e=Cc(e),e&&Tt.test(e)?e.replace(Et,"\\$&"):e}function au(e,t,n){e=Cc(e),t=wc(t);var r=t?V(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Zi(Pl(i),n)+e+Zi(Fl(i),n)}function su(e,t,n){e=Cc(e),t=wc(t);var r=t?V(e):0;return t&&r<t?e+Zi(t-r,n):e}function cu(e,t,n){e=Cc(e),t=wc(t);var r=t?V(e):0;return t&&r<t?Zi(t-r,n)+e:e}function uu(e,t,n){return n||null==t?t=0:t&&(t=+t),zl(Cc(e).replace($t,""),t||0)}function lu(e,t,n){return t=(n?Mo(e,t,n):t===J)?1:wc(t),Xr(Cc(e),t)}function du(){var e=arguments,t=Cc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function pu(e,t,n){return n&&"number"!=typeof n&&Mo(e,t,n)&&(t=n=J),(n=n===J?Se:n>>>0)?(e=Cc(e),e&&("string"==typeof t||null!=t&&!yp(t))&&!(t=di(t))&&P(e)?xi(G(e),0,n):e.split(t,n)):[]}function fu(e,t,n){return e=Cc(e),n=null==n?0:er(wc(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t}function hu(e,t,n){var r=j.templateSettings;n&&Mo(e,t,n)&&(t=J),e=Cc(e),t=Ep({},t,r,ao);var i,o,a=Ep({},t.imports,r.imports,ao),s=Oc(a),c=S(a,s),u=0,l=t.interpolate||Qt,d="__p += '",p=ol((t.escape||Qt).source+"|"+l.source+"|"+(l===_t?Ft:Qt).source+"|"+(t.evaluate||Qt).source+"|$","g"),f="//# sourceURL="+(fl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tn+"]")+"\n";e.replace(p,function(t,n,r,a,s,c){return r||(r=a),d+=e.slice(u,c).replace(jt,R),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),d+="';\n";var h=fl.call(t,"variable")&&t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(pt,""):d).replace(ft,"$1").replace(ht,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Gp(function(){return nl(s,f+"return "+d).apply(J,c)});if(g.source=d,Ws(g))throw g;return g}function gu(e){return Cc(e).toLowerCase()}function mu(e){return Cc(e).toUpperCase()}function vu(e,t,n){if((e=Cc(e))&&(n||t===J))return e.replace(kt,"");if(!e||!(t=di(t)))return e;var r=G(e),i=G(t);return xi(r,I(r,i),M(r,i)+1).join("")}function yu(e,t,n){if((e=Cc(e))&&(n||t===J))return e.replace(St,"");if(!e||!(t=di(t)))return e;var r=G(e);return xi(r,0,M(r,G(t))+1).join("")}function wu(e,t,n){if((e=Cc(e))&&(n||t===J))return e.replace($t,"");if(!e||!(t=di(t)))return e;var r=G(e);return xi(r,I(r,G(t))).join("")}function bu(e,t){var n=we,r=be;if(tc(t)){var i="separator"in t?t.separator:i;n="length"in t?wc(t.length):n,r="omission"in t?di(t.omission):r}e=Cc(e);var o=e.length;if(P(e)){var a=G(e);o=a.length}if(n>=o)return e;var s=n-V(r);if(s<1)return r;var c=a?xi(a,0,s).join(""):e.slice(0,s);if(i===J)return c+r;if(a&&(s+=c.length-s),yp(i)){if(e.slice(s).search(i)){var u,l=c;for(i.global||(i=ol(i.source,Cc(Pt.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var d=u.index;c=c.slice(0,d===J?s:d)}}else if(e.indexOf(di(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function _u(e){return e=Cc(e),e&&vt.test(e)?e.replace(gt,Zn):e}function xu(e,t,n){return e=Cc(e),t=n?J:t,t===J?O(e)?W(e):h(e):e.match(t)||[]}function Au(t){var n=null==t?0:t.length,r=yo();return t=n?c(t,function(e){if("function"!=typeof e[1])throw new sl(ee);return[r(e[0]),e[1]]}):[],ei(function(r){for(var i=-1;++i<n;){var o=t[i];if(e(o[0],this,r))return e(o[1],this,r)}})}function Cu(e){return nr(tr(e,ie))}function Eu(e){return function(){return e}}function Tu(e,t){return null==e||e!==e?t:e}function ku(e){return e}function $u(e){return Fr("function"==typeof e?e:tr(e,ie))}function Su(e){return Ur(tr(e,ie))}function qu(e,t){return Nr(e,tr(t,ie))}function Iu(e,t,r){var i=Oc(t),o=fr(t,i);null!=r||tc(t)&&(o.length||!i.length)||(r=t,t=e,e=this,o=fr(t,Oc(t)));var a=!(tc(r)&&"chain"in r&&!r.chain),s=Zs(e);return n(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,u([this.value()],arguments))})}),e}function Mu(){return On._===this&&(On._=yl),this}function Du(){}function Ru(e){return e=wc(e),ei(function(t){return jr(t,e)})}function Fu(e){return Do(e)?_(Wo(e)):Kr(e)}function Pu(e){return function(t){return null==e?J:hr(e,t)}}function Ou(){return[]}function Bu(){return!1}function Lu(){return{}}function Uu(){return""}function Nu(){return!0}function Hu(e,t){if((e=wc(e))<1||e>Te)return[];var n=Se,r=Ql(e,Se);t=yo(t),e-=Se;for(var i=T(r,t);++n<e;)t(n);return i}function Qu(e){return fp(e)?c(e,Wo):fc(e)?[e]:Di($d(Cc(e)))}function ju(e){var t=++hl;return Cc(e)+t}function zu(e){return e&&e.length?sr(e,ku,vr):J}function Vu(e,t){return e&&e.length?sr(e,yo(t,2),vr):J}function Gu(e){return b(e,ku)}function Ku(e,t){return b(e,yo(t,2))}function Yu(e){return e&&e.length?sr(e,ku,Br):J}function Wu(e,t){return e&&e.length?sr(e,yo(t,2),Br):J}function Ju(e){return e&&e.length?E(e,ku):0}function Zu(e,t){return e&&e.length?E(e,yo(t,2)):0}x=null==x?On:Xn.defaults(On.Object(),x,Xn.pick(On,En));var Xu=x.Array,el=x.Date,tl=x.Error,nl=x.Function,rl=x.Math,il=x.Object,ol=x.RegExp,al=x.String,sl=x.TypeError,cl=Xu.prototype,ul=nl.prototype,ll=il.prototype,dl=x["__core-js_shared__"],pl=ul.toString,fl=ll.hasOwnProperty,hl=0,gl=function(){var e=/[^.]+$/.exec(dl&&dl.keys&&dl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ml=ll.toString,vl=pl.call(il),yl=On._,wl=ol("^"+pl.call(fl).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bl=Un?x.Buffer:J,_l=x.Symbol,xl=x.Uint8Array,Al=bl?bl.allocUnsafe:J,Cl=U(il.getPrototypeOf,il),El=il.create,Tl=ll.propertyIsEnumerable,kl=cl.splice,$l=_l?_l.isConcatSpreadable:J,Sl=_l?_l.iterator:J,ql=_l?_l.toStringTag:J,Il=function(){try{var e=_o(il,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ml=x.clearTimeout!==On.clearTimeout&&x.clearTimeout,Dl=el&&el.now!==On.Date.now&&el.now,Rl=x.setTimeout!==On.setTimeout&&x.setTimeout,Fl=rl.ceil,Pl=rl.floor,Ol=il.getOwnPropertySymbols,Bl=bl?bl.isBuffer:J,Ll=x.isFinite,Ul=cl.join,Nl=U(il.keys,il),Hl=rl.max,Ql=rl.min,jl=el.now,zl=x.parseInt,Vl=rl.random,Gl=cl.reverse,Kl=_o(x,"DataView"),Yl=_o(x,"Map"),Wl=_o(x,"Promise"),Jl=_o(x,"Set"),Zl=_o(x,"WeakMap"),Xl=_o(il,"create"),ed=Zl&&new Zl,td={},nd=Jo(Kl),rd=Jo(Yl),id=Jo(Wl),od=Jo(Jl),ad=Jo(Zl),sd=_l?_l.prototype:J,cd=sd?sd.valueOf:J,ud=sd?sd.toString:J,ld=function(){function e(){}return function(t){if(!tc(t))return{};if(El)return El(t);e.prototype=t;var n=new e;return e.prototype=J,n}}();j.templateSettings={escape:wt,evaluate:bt,interpolate:_t,variable:"",imports:{_:j}},j.prototype=K.prototype,j.prototype.constructor=j,Y.prototype=ld(K.prototype),Y.prototype.constructor=Y,Dt.prototype=ld(K.prototype),Dt.prototype.constructor=Dt,Kt.prototype.clear=Yt,Kt.prototype.delete=Wt,Kt.prototype.get=Jt,Kt.prototype.has=Zt,Kt.prototype.set=Xt,en.prototype.clear=tn,en.prototype.delete=nn,en.prototype.get=rn,en.prototype.has=on,en.prototype.set=an,sn.prototype.clear=cn,sn.prototype.delete=un,sn.prototype.get=ln,sn.prototype.has=dn,sn.prototype.set=pn,fn.prototype.add=fn.prototype.push=hn,fn.prototype.has=gn,mn.prototype.clear=vn,mn.prototype.delete=yn,mn.prototype.get=_n,mn.prototype.has=xn,mn.prototype.set=An;var dd=Li(dr),pd=Li(pr,!0),fd=Ui(),hd=Ui(!0),gd=ed?function(e,t){return ed.set(e,t),e}:ku,md=Il?function(e,t){return Il(e,"toString",{configurable:!0,enumerable:!1,value:Eu(t),writable:!0})}:ku,vd=ei,yd=Ml||function(e){return On.clearTimeout(e)},wd=Jl&&1/H(new Jl([,-0]))[1]==Ee?function(e){return new Jl(e)}:Du,bd=ed?function(e){return ed.get(e)}:Du,_d=Ol?function(e){return null==e?[]:(e=il(e),o(Ol(e),function(t){return Tl.call(e,t)}))}:Ou,xd=Ol?function(e){for(var t=[];e;)u(t,_d(e)),e=Cl(e);return t}:Ou,Ad=mr;(Kl&&Ad(new Kl(new ArrayBuffer(1)))!=nt||Yl&&Ad(new Yl)!=He||Wl&&Ad(Wl.resolve())!=Ve||Jl&&Ad(new Jl)!=Ye||Zl&&Ad(new Zl)!=Xe)&&(Ad=function(e){var t=mr(e),n=t==ze?e.constructor:J,r=n?Jo(n):"";if(r)switch(r){case nd:return nt;case rd:return He;case id:return Ve;case od:return Ye;case ad:return Xe}return t});var Cd=dl?Zs:Bu,Ed=Ko(gd),Td=Rl||function(e,t){return On.setTimeout(e,t)},kd=Ko(md),$d=function(e){var t=$s(e,function(e){return n.size===ne&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ct,function(e,n,r,i){t.push(r?i.replace(Rt,"$1"):n||e)}),t}),Sd=ei(function(e,t){return js(e)?or(e,lr(t,1,js,!0)):[]}),qd=ei(function(e,t){var n=ya(t);return js(n)&&(n=J),js(e)?or(e,lr(t,1,js,!0),yo(n,2)):[]}),Id=ei(function(e,t){var n=ya(t);return js(n)&&(n=J),js(e)?or(e,lr(t,1,js,!0),J,n):[]}),Md=ei(function(e){var t=c(e,wi);return t.length&&t[0]===e[0]?_r(t):[]}),Dd=ei(function(e){var t=ya(e),n=c(e,wi);return t===ya(n)?t=J:n.pop(),n.length&&n[0]===e[0]?_r(n,yo(t,2)):[]}),Rd=ei(function(e){var t=ya(e),n=c(e,wi);return t="function"==typeof t?t:J,t&&n.pop(),n.length&&n[0]===e[0]?_r(n,J,t):[]}),Fd=ei(_a),Pd=fo(function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Wr(e,c(t,function(e){return Io(e,n)?+e:e}).sort(Si)),r}),Od=ei(function(e){return pi(lr(e,1,js,!0))}),Bd=ei(function(e){var t=ya(e);return js(t)&&(t=J),pi(lr(e,1,js,!0),yo(t,2))}),Ld=ei(function(e){var t=ya(e);return t="function"==typeof t?t:J,pi(lr(e,1,js,!0),J,t)}),Ud=ei(function(e,t){return js(e)?or(e,t):[]}),Nd=ei(function(e){return vi(o(e,js))}),Hd=ei(function(e){var t=ya(e);return js(t)&&(t=J),vi(o(e,js),yo(t,2))}),Qd=ei(function(e){var t=ya(e);return t="function"==typeof t?t:J,vi(o(e,js),J,t)}),jd=ei(Qa),zd=ei(function(e){var t=e.length,n=t>1?e[t-1]:J;return n="function"==typeof n?(e.pop(),n):J,ja(e,n)}),Vd=fo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Dt&&Io(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ya,args:[i],thisArg:J}),new Y(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(J),e})):this.thru(i)}),Gd=Oi(function(e,t,n){fl.call(e,n)?++e[n]:Hn(e,n,1)}),Kd=Vi(ca),Yd=Vi(ua),Wd=Oi(function(e,t,n){fl.call(e,n)?e[n].push(t):Hn(e,n,[t])}),Jd=ei(function(t,n,r){var i=-1,o="function"==typeof n,a=Qs(t)?Xu(t.length):[];return dd(t,function(t){a[++i]=o?e(n,t,r):Ar(t,n,r)}),a}),Zd=Oi(function(e,t,n){Hn(e,n,t)}),Xd=Oi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ep=ei(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Mo(e,t[0],t[1])?t=[]:n>2&&Mo(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,lr(t,1),[])}),tp=Dl||function(){return On.Date.now()},np=ei(function(e,t,n){var r=ue;if(n.length){var i=N(n,vo(np));r|=he}return oo(e,r,t,n,i)}),rp=ei(function(e,t,n){var r=ue|le;if(n.length){var i=N(n,vo(rp));r|=he}return oo(t,r,e,n,i)}),ip=ei(function(e,t){return ir(e,1,t)}),op=ei(function(e,t,n){return ir(e,_c(t)||0,n)});$s.Cache=sn;var ap=vd(function(t,n){n=1==n.length&&fp(n[0])?c(n[0],$(yo())):c(lr(n,1),$(yo()));var r=n.length;return ei(function(i){for(var o=-1,a=Ql(i.length,r);++o<a;)i[o]=n[o].call(this,i[o]);return e(t,this,i)})}),sp=ei(function(e,t){return oo(e,he,J,t,N(t,vo(sp)))}),cp=ei(function(e,t){return oo(e,ge,J,t,N(t,vo(cp)))}),up=fo(function(e,t){return oo(e,ve,J,J,J,t)}),lp=to(vr),dp=to(function(e,t){return e>=t}),pp=Cr(function(){return arguments}())?Cr:function(e){return nc(e)&&fl.call(e,"callee")&&!Tl.call(e,"callee")},fp=Xu.isArray,hp=Qn?$(Qn):Er,gp=Bl||Bu,mp=jn?$(jn):Tr,vp=zn?$(zn):Sr,yp=Vn?$(Vn):Mr,wp=Gn?$(Gn):Dr,bp=Kn?$(Kn):Rr,_p=to(Br),xp=to(function(e,t){return e<=t}),Ap=Bi(function(e,t){if(Oo(t)||Qs(t))return Ri(t,Oc(t),e),J;for(var n in t)fl.call(t,n)&&Fn(e,n,t[n])}),Cp=Bi(function(e,t){Ri(t,Bc(t),e)}),Ep=Bi(function(e,t,n,r){Ri(t,Bc(t),e,r)}),Tp=Bi(function(e,t,n,r){Ri(t,Oc(t),e,r)}),kp=fo(Yn),$p=ei(function(e,t){e=il(e);var n=-1,r=t.length,i=r>2?t[2]:J;for(i&&Mo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Bc(o),s=-1,c=a.length;++s<c;){var u=a[s],l=e[u];(l===J||Hs(l,ll[u])&&!fl.call(e,u))&&(e[u]=o[u])}return e}),Sp=ei(function(t){return t.push(J,so),e(Rp,J,t)}),qp=Yi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ml.call(t)),e[t]=n},Eu(ku)),Ip=Yi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ml.call(t)),fl.call(e,t)?e[t].push(n):e[t]=[n]},yo),Mp=ei(Ar),Dp=Bi(function(e,t,n){Hr(e,t,n)}),Rp=Bi(function(e,t,n,r){Hr(e,t,n,r)}),Fp=fo(function(e,t){var n={};if(null==e)return n;var r=!1;t=c(t,function(t){return t=_i(t,e),r||(r=t.length>1),t}),Ri(e,go(e),n),r&&(n=tr(n,ie|oe|ae,co));for(var i=t.length;i--;)fi(n,t[i]);return n}),Pp=fo(function(e,t){return null==e?{}:Vr(e,t)}),Op=io(Oc),Bp=io(Bc),Lp=Qi(function(e,t,n){return t=t.toLowerCase(),e+(n?tu(t):t)}),Up=Qi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Np=Qi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hp=Hi("toLowerCase"),Qp=Qi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),jp=Qi(function(e,t,n){return e+(n?" ":"")+Vp(t)}),zp=Qi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Vp=Hi("toUpperCase"),Gp=ei(function(t,n){try{return e(t,J,n)}catch(e){return Ws(e)?e:new tl(e)}}),Kp=fo(function(e,t){return n(t,function(t){t=Wo(t),Hn(e,t,np(e[t],e))}),e}),Yp=Gi(),Wp=Gi(!0),Jp=ei(function(e,t){return function(n){return Ar(n,e,t)}}),Zp=ei(function(e,t){return function(n){return Ar(e,n,t)}}),Xp=Ji(c),ef=Ji(i),tf=Ji(p),nf=eo(),rf=eo(!0),of=Wi(function(e,t){return e+t},0),af=ro("ceil"),sf=Wi(function(e,t){return e/t},1),cf=ro("floor"),uf=Wi(function(e,t){return e*t},1),lf=ro("round"),df=Wi(function(e,t){return e-t},0);return j.after=_s,j.ary=xs,j.assign=Ap,j.assignIn=Cp,j.assignInWith=Ep,j.assignWith=Tp,j.at=kp,j.before=As,j.bind=np,j.bindAll=Kp,j.bindKey=rp,j.castArray=Ps,j.chain=Ga,j.chunk=ea,j.compact=ta,j.concat=na,j.cond=Au,j.conforms=Cu,j.constant=Eu,j.countBy=Gd,j.create=Ec,j.curry=Cs,j.curryRight=Es,j.debounce=Ts,j.defaults=$p,j.defaultsDeep=Sp,j.defer=ip,j.delay=op,j.difference=Sd,j.differenceBy=qd,j.differenceWith=Id,j.drop=ra,j.dropRight=ia,j.dropRightWhile=oa,j.dropWhile=aa,j.fill=sa,j.filter=is,j.flatMap=os,j.flatMapDeep=as,j.flatMapDepth=ss,j.flatten=la,j.flattenDeep=da,j.flattenDepth=pa,j.flip=ks,j.flow=Yp,j.flowRight=Wp,j.fromPairs=fa,j.functions=Mc,j.functionsIn=Dc,j.groupBy=Wd,j.initial=ma,j.intersection=Md,j.intersectionBy=Dd,j.intersectionWith=Rd,j.invert=qp,j.invertBy=Ip,j.invokeMap=Jd,j.iteratee=$u,j.keyBy=Zd,j.keys=Oc,j.keysIn=Bc,j.map=ds,j.mapKeys=Lc,j.mapValues=Uc,j.matches=Su,j.matchesProperty=qu,j.memoize=$s,j.merge=Dp,j.mergeWith=Rp,j.method=Jp,j.methodOf=Zp,j.mixin=Iu,j.negate=Ss,j.nthArg=Ru,j.omit=Fp,j.omitBy=Nc,j.once=qs,j.orderBy=ps,j.over=Xp,j.overArgs=ap,j.overEvery=ef,j.overSome=tf,j.partial=sp,j.partialRight=cp,j.partition=Xd,j.pick=Pp,j.pickBy=Hc,j.property=Fu,j.propertyOf=Pu,j.pull=Fd,j.pullAll=_a,j.pullAllBy=xa,j.pullAllWith=Aa,j.pullAt=Pd,j.range=nf,j.rangeRight=rf,j.rearg=up,j.reject=gs,j.remove=Ca,j.rest=Is,j.reverse=Ea,j.sampleSize=vs,j.set=jc,j.setWith=zc,j.shuffle=ys,j.slice=Ta,j.sortBy=ep,j.sortedUniq=Da,j.sortedUniqBy=Ra,j.split=pu,j.spread=Ms,j.tail=Fa,j.take=Pa,j.takeRight=Oa,j.takeRightWhile=Ba,j.takeWhile=La,j.tap=Ka,j.throttle=Ds,j.thru=Ya,j.toArray=vc,j.toPairs=Op,j.toPairsIn=Bp,j.toPath=Qu,j.toPlainObject=xc,j.transform=Vc,j.unary=Rs,j.union=Od,j.unionBy=Bd,j.unionWith=Ld,j.uniq=Ua,j.uniqBy=Na,j.uniqWith=Ha,j.unset=Gc,j.unzip=Qa,j.unzipWith=ja,j.update=Kc,j.updateWith=Yc,j.values=Wc,j.valuesIn=Jc,j.without=Ud,j.words=xu,j.wrap=Fs,j.xor=Nd,j.xorBy=Hd,j.xorWith=Qd,j.zip=jd,j.zipObject=za,j.zipObjectDeep=Va,j.zipWith=zd,j.entries=Op,j.entriesIn=Bp,j.extend=Cp,j.extendWith=Ep,Iu(j,j),j.add=of,j.attempt=Gp,j.camelCase=Lp,j.capitalize=tu,j.ceil=af,j.clamp=Zc,j.clone=Os,j.cloneDeep=Ls,j.cloneDeepWith=Us,j.cloneWith=Bs,j.conformsTo=Ns,j.deburr=nu,j.defaultTo=Tu,j.divide=sf,j.endsWith=ru,j.eq=Hs,j.escape=iu,j.escapeRegExp=ou,j.every=rs,j.find=Kd,j.findIndex=ca,j.findKey=Tc,j.findLast=Yd,j.findLastIndex=ua,j.findLastKey=kc,j.floor=cf,j.forEach=cs,j.forEachRight=us,j.forIn=$c,j.forInRight=Sc,j.forOwn=qc,j.forOwnRight=Ic,j.get=Rc,j.gt=lp,j.gte=dp,j.has=Fc,j.hasIn=Pc,j.head=ha,j.identity=ku,j.includes=ls,j.indexOf=ga,j.inRange=Xc,j.invoke=Mp,j.isArguments=pp,j.isArray=fp,j.isArrayBuffer=hp,j.isArrayLike=Qs,j.isArrayLikeObject=js,j.isBoolean=zs,j.isBuffer=gp,j.isDate=mp,j.isElement=Vs,j.isEmpty=Gs,j.isEqual=Ks,j.isEqualWith=Ys,j.isError=Ws,j.isFinite=Js,j.isFunction=Zs,j.isInteger=Xs,j.isLength=ec,j.isMap=vp,j.isMatch=rc,j.isMatchWith=ic,j.isNaN=oc,j.isNative=ac,j.isNil=cc,j.isNull=sc,j.isNumber=uc,j.isObject=tc,j.isObjectLike=nc,j.isPlainObject=lc,j.isRegExp=yp,j.isSafeInteger=dc,j.isSet=wp,j.isString=pc,j.isSymbol=fc,j.isTypedArray=bp,j.isUndefined=hc,j.isWeakMap=gc,j.isWeakSet=mc,j.join=va,j.kebabCase=Up,j.last=ya,j.lastIndexOf=wa,j.lowerCase=Np,j.lowerFirst=Hp,j.lt=_p,j.lte=xp,j.max=zu,j.maxBy=Vu,j.mean=Gu,j.meanBy=Ku,j.min=Yu,j.minBy=Wu,j.stubArray=Ou,j.stubFalse=Bu,j.stubObject=Lu,j.stubString=Uu,j.stubTrue=Nu,j.multiply=uf,j.nth=ba,j.noConflict=Mu,j.noop=Du,j.now=tp,j.pad=au,j.padEnd=su,j.padStart=cu,j.parseInt=uu,j.random=eu,j.reduce=fs,j.reduceRight=hs,j.repeat=lu,j.replace=du,j.result=Qc,j.round=lf,j.runInContext=f,j.sample=ms,j.size=ws,j.snakeCase=Qp,j.some=bs,j.sortedIndex=ka,j.sortedIndexBy=$a,j.sortedIndexOf=Sa,j.sortedLastIndex=qa,j.sortedLastIndexBy=Ia,j.sortedLastIndexOf=Ma,j.startCase=jp,j.startsWith=fu,j.subtract=df,j.sum=Ju,j.sumBy=Zu,j.template=hu,j.times=Hu,j.toFinite=yc,j.toInteger=wc,j.toLength=bc,j.toLower=gu,j.toNumber=_c,j.toSafeInteger=Ac,j.toString=Cc,j.toUpper=mu,j.trim=vu,j.trimEnd=yu,j.trimStart=wu,j.truncate=bu,j.unescape=_u,j.uniqueId=ju,j.upperCase=zp,j.upperFirst=Vp,j.each=cs,j.eachRight=us,j.first=ha,Iu(j,function(){var e={};return dr(j,function(t,n){fl.call(j.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),j.VERSION="4.17.20",n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){j[e].placeholder=j}),n(["drop","take"],function(e,t){Dt.prototype[e]=function(n){n=n===J?1:Hl(wc(n),0);var r=this.__filtered__&&!t?new Dt(this):this.clone();return r.__filtered__?r.__takeCount__=Ql(n,r.__takeCount__):r.__views__.push({size:Ql(n,Se),type:e+(r.__dir__<0?"Right":"")}),r},Dt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),n(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ae||3==n;Dt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),n(["head","last"],function(e,t){var n="take"+(t?"Right":"");Dt.prototype[e]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Dt.prototype[e]=function(){return this.__filtered__?new Dt(this):this[n](1)}}),Dt.prototype.compact=function(){return this.filter(ku)},Dt.prototype.find=function(e){return this.filter(e).head()},Dt.prototype.findLast=function(e){return this.reverse().find(e)},Dt.prototype.invokeMap=ei(function(e,t){return"function"==typeof e?new Dt(this):this.map(function(n){return Ar(n,e,t)})}),Dt.prototype.reject=function(e){return this.filter(Ss(yo(e)))},Dt.prototype.slice=function(e,t){e=wc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==J&&(t=wc(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Dt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dt.prototype.toArray=function(){return this.take(Se)},dr(Dt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=j[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(j.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Dt,c=a[0],l=s||fp(t),d=function(e){var t=i.apply(j,u([e],a));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var p=this.__chain__,f=!!this.__actions__.length,h=o&&!p,g=s&&!f;if(!o&&l){t=g?t:new Dt(this);var m=e.apply(t,a);return m.__actions__.push({func:Ya,args:[d],thisArg:J}),new Y(m,p)}return h&&g?e.apply(this,a):(m=this.thru(d),h?r?m.value()[0]:m.value():m)})}),n(["pop","push","shift","sort","splice","unshift"],function(e){var t=cl[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);j.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(fp(i)?i:[],e)}return this[n](function(n){return t.apply(fp(n)?n:[],e)})}}),dr(Dt.prototype,function(e,t){var n=j[t];if(n){var r=n.name+"";fl.call(td,r)||(td[r]=[]),td[r].push({name:t,func:n})}}),td[Ki(J,le).name]=[{name:"wrapper",func:J}],Dt.prototype.clone=zt,Dt.prototype.reverse=Vt,Dt.prototype.value=Gt,j.prototype.at=Vd,j.prototype.chain=Wa,j.prototype.commit=Ja,j.prototype.next=Za,j.prototype.plant=es,j.prototype.reverse=ts,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=ns,j.prototype.first=j.prototype.head,Sl&&(j.prototype[Sl]=Xa),j}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(On._=Xn,define("lodash",[],function(){return Xn})):Ln?((Ln.exports=Xn)._=Xn,Bn._=Xn):On._=Xn}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty;define("app/common/case_service",["require"],function(n){var r;return r=function(){function n(n){this._=n,this.useSnakeCaseKeys=e(this.useSnakeCaseKeys,this),this.useCamelCaseKeys=e(this.useCamelCaseKeys,this),this.toSnakeCase=e(this.toSnakeCase,this),this.toCamelCase=e(this.toCamelCase,this),this._.deeplyMapKeys||this._.mixin({deeplyMapKeys:function(e){return function(n,r){var i,o,a,s;o={},s=function(t,n){return e._.isPlainObject(n)?n=e._.deeplyMapKeys(n,r):e._.isArray(n)&&(n=n.map(function(t){return e._.isPlainObject(t||e._.isArray(t))?e._.deeplyMapKeys(t,r):t})),o[r(n,t)]=n};for(i in n)t.call(n,i)&&(a=n[i],s(i,a));return o}}(this)})}return n.prototype.toCamelCase=function(e){return this._.camelCase(e)},n.prototype.toSnakeCase=function(e){return this._.snakeCase(e)},n.prototype.useCamelCaseKeys=function(e){return this._.deeplyMapKeys(e,function(e){return function(t,n){return e.toCamelCase(n)}}(this))},n.prototype.useSnakeCaseKeys=function(e){return this._.deeplyMapKeys(e,function(e){return function(t,n){return e.toSnakeCase(n)}}(this))},n}(),r.$inject=["_"],r})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/user_service",["require","has"],function(t){var n,r;return t("has"),r=function(e){var t,n;n=[];for(t in e)e[t],n.push(t);return n},n=function(){function t(t,n,r,i,o,a,s,c,u){this.$http=t,this.$q=n,this.user=r,this.eventHelper=i,this.errHelper=o,this.request=a,this.$log=s,this.$timeout=c,this.client=u,this._onLoginSuccess=e(this._onLoginSuccess,this),this.slashRequestStructure=e(this.slashRequestStructure,this),this.verifyAddress=e(this.verifyAddress,this),this.reloadUser=e(this.reloadUser,this),this.disconnectPinterestAccount=e(this.disconnectPinterestAccount,this),this.connectPinterestAccount=e(this.connectPinterestAccount,this),this.disconnectFbAccount=e(this.disconnectFbAccount,this),this.connectFbAccount=e(this.connectFbAccount,this),this.disconnectTwitAccount=e(this.disconnectTwitAccount,this),this.connectTwitAccount=e(this.connectTwitAccount,this),
this.disconnectInstAccount=e(this.disconnectInstAccount,this),this.connectInstAccount=e(this.connectInstAccount,this),this.updatePassword=e(this.updatePassword,this),this.resetPassword=e(this.resetPassword,this),this.resendEmailVerificationEmail=e(this.resendEmailVerificationEmail,this),this.removePendingEmailAddress=e(this.removePendingEmailAddress,this),this.updateDob=e(this.updateDob,this),this.updateMobilePhoneNumber=e(this.updateMobilePhoneNumber,this),this.updateReceiveEmailUpdates=e(this.updateReceiveEmailUpdates,this),this.updateGender=e(this.updateGender,this),this.update=e(this.update,this),this.getOrderDetails=e(this.getOrderDetails,this),this.submitClaim=e(this.submitClaim,this),this.clearReceiptMessage=e(this.clearReceiptMessage,this),this.submitReceipt=e(this.submitReceipt,this),this.submitSurvey=e(this.submitSurvey,this),this.submitDynamicForm=e(this.submitDynamicForm,this)}return t.prototype.login=function(e){var t,n,r,i,o,a,s,c,u,l,d,p;switch(d=e.type,p=e.username,a=e.password,u=e.rememberMe,t=e.accessToken,i=e.oauthToken,o=e.oauthVerifier,c=e.provider,l=e.twitTokenId,s={},d){case"email":s.ct_rpc_action="login",s.username=p,s.password=a,s.remember_me=u||!1;break;case"facebook":s.ct_rpc_action="login_facebook",s.facebook_access_token=t;break;case"twitter":s.ct_rpc_action="twitter_reg_connect",s.oauth_token=i,s.oauth_verifier=o,s.provider=c,s.twit_token_id=l;break;case"pinterest":s.ct_rpc_action="login_pinterest",s.code=t,s.provider=c}return n=this.$q.defer(),r=this.$http.post("/user/rpc",s),r.then(function(e){return function(t){return e._onLoginSuccess(n,t.data)}}(this)),r.catch(function(e){return function(e){return n.reject(e.data)}}()),n.promise},t.prototype.processSocialPost=function(e){return e.ct_rpc_action="process_social_post",this.$http.post("/user/rpc",e)},t.prototype.submitDynamicForm=function(e){var t,n,r,i,o,a;for(r={},a=e.fields,i=0,o=a.length;i<o;i++)t=a[i],r[t.name]=t.value;return n=this.$http.post(e.url,r),n.then(function(e){return function(){return e.reloadUser()}}(this)),n},t.prototype.submitSurvey=function(e,t){return this.$http.post("/user/rpc",{ct_rpc_action:"survey_submit",survey_data_submit:{survey_id:e,user_response:t}}).then(function(e){return function(){return e.reloadUser()}}(this))},t.prototype.submitReceipt=function(e){return this.$http.post("/user/rpc",{ct_rpc_action:"receipt_image_submit",dsId:e.dsId,size:e.size,fileName:e.fileName}).then(function(e){return function(e){return e}}())},t.prototype.clearReceiptMessage=function(e){return this.$http.post("/user/rpc",{ct_rpc_action:"receipt_image_hide",receiptImageFileId:e}).then(function(e){return function(e){return e}}())},t.prototype.submitClaim=function(e){var t;return t={ct_rpc_action:"claim_submit",third_party_receipt_id:e.receiptNumber,order_id:e.orderId,total:e.total,store_location:e.storeLocation,year:e.year,month:e.month,day:e.day},this.$http.post("/user/rpc",t)},t.prototype.getOrderDetails=function(e){return this.$http.post("/user/rpc",{ct_rpc_action:"get_order_details",order_id:e.orderId,purchase_id:e.purchaseId}).then(function(e){return function(e){return e}}())},t.prototype.logout=function(){var e,t,n;return e=this.$q.defer(),n=function(){return e.resolve(!0)},null==(t=window.location).origin&&(t.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.$http.get(window.location.origin+"/logout").then(n).catch(n),e.promise},t.prototype.sendForgotPasswordEmail=function(e){var t;return t={ct_rpc_action:"forgot_login",email_address:e},this.$http.post("/user/rpc",t)},t.prototype.validateUser=function(e){return this.$http.post("/validate/user",e)},t.prototype.signup=function(e){var t,n,r,i,o,a,s,c;return t=this.$q.defer(),null==e.sign_up_type&&(e.sign_up_type="fan_club"),null==(i=e.address_info).street_address_1&&(i.street_address_1=null),null==(o=e.address_info).street_address_2&&(o.street_address_2=null),null==(a=e.address_info).city_id&&(a.city_id=null),null==(s=e.address_info).country_id&&(s.country_id=null),null==(c=e.address_info).is_domestic&&(c.is_domestic=!0),n=this.$http.post("/user",e),r=performance.now(),n.then(function(e){return function(n){var i;return i=0,e.client.realtime_segmentation_on&&(i=Math.max(4e3-(performance.now()-r),0)),e.$timeout(e._onLoginSuccess,i,!0,t,n.data)}}(this)),n.catch(function(e){return function(e){return t.reject(e.data)}}()),t.promise},t.prototype.update=function(e){return this.$http.put("/user",e).then(function(e){return function(t){return e.reloadUser(),t}}(this))},t.prototype.updateGender=function(e){return this.update({gender:e})},t.prototype.updateReceiveEmailUpdates=function(e){return this.update({receive_email_updates:e})},t.prototype.updateMobilePhoneNumber=function(e){return e=e.replace(" ",""),e=e.replace("(",""),e=e.replace(")",""),this.update({mobile_phone_number:e})},t.prototype.updateDob=function(e,t,n){return this.update({date_of_birth:{day:e,month:t,year:n}})},t.prototype.removePendingEmailAddress=function(){return this.$http.post("/user/rpc",{ct_rpc_action:"remove_new_email"}).then(function(e){return function(t){return e.reloadUser(),t}}(this))},t.prototype.resendEmailVerificationEmail=function(e){var t,n;return null==e&&(e=null),angular.isString(e)?n=this.update({email_address:e}):(t="resend_email_verification_email",n=this.$http.post("/user/rpc",{ct_rpc_action:t})),n},t.prototype.resetPassword=function(e){var t,n,r;return r=e.password,t=e.code,null!=r&&null!=t?(n={ct_rpc_action:"reset_password",code:t,password:r,confirm_password:r},this.$http.post("/user/rpc",n).then(function(e){return function(t){return e.eventHelper.event("user:resetPassword:success",t.data),t.data}}(this)).catch(function(e){return function(t){return e.eventHelper.event("user:resetPassword:error",t.data)}}(this))):(this.eventHelper.event("user:resetPassword:error"),this.$log.error("[UserService] Did not receive valid reset password data:"),this.$log.error("Password:",r),this.$log.error("Code:",t))},t.prototype.updatePassword=function(e){var t,n,r,i;return n=e.old_password,i=e.password,t=e.confirm_password,r={ct_rpc_action:"change_password",old_password:n,password:i,confirm_password:t},this.$http.post("/user/rpc",r)},t.prototype.unsubscribeEmail=function(e){var t;return t={ct_rpc_action:"email_opt_out",code:e},this.$http.post("/user/rpc",t)},t.prototype.verifyEmail=function(e){var t;return t={ct_rpc_action:"widget_verify_email",code:e},this.$http.post("/user/rpc",t)},t.prototype.connectInstAccount=function(e){var t;if(null!=(null!=e?e.code:void 0))return t=angular.copy(e),t.ct_rpc_action="instagram_connect",this.eventHelper.event("inst:connect:start"),this.$http.post("/user/rpc",t).then(function(e){return function(t){return e.eventHelper.event("inst:connect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("inst:connect:error"))?n(t.data):void 0}}(this));this.$log.error("[UserService] Did not receive valid instagram data:"),this.$log.error(e)},t.prototype.disconnectInstAccount=function(e){var t,n,r;return null==e&&(e={}),n=e.password,t=e.confirm,r={ct_rpc_action:"instagram_disconnect"},n&&t&&(r.password=n,r.confirm_password=t),this.eventHelper.event("inst:disconnect:start"),this.$http.post("/user/rpc",r).then(function(e){return function(t){return e.eventHelper.event("inst:disconnect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("inst:disconnect:error"))?n(t.data):void 0}}(this))},t.prototype.connectTwitAccount=function(e){var t;if(null!=(null!=e?e.oauth_token:void 0))return t=angular.copy(e),t.ct_rpc_action="twitter_connect",this.eventHelper.event("twit:connect:start"),this.$http.post("/user/rpc",t).then(function(e){return function(t){return e.eventHelper.event("twit:connect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("twit:connect:error"))?n(t.data):void 0}}(this));this.$log.error("[UserService] Did not receive valid twitter data:"),this.$log.error(e)},t.prototype.disconnectTwitAccount=function(e){var t,n,r;return null==e&&(e={}),n=e.password,t=e.confirm,r={ct_rpc_action:"twitter_disconnect"},n&&t&&(r.password=n,r.confirm_password=t),this.eventHelper.event("twit:disconnect:start"),this.$http.post("/user/rpc",r).then(function(e){return function(t){return e.eventHelper.event("twit:disconnect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("twit:disconnect:erorr"))?n(t.data):void 0}}(this))},t.prototype.connectFbAccount=function(e){var t;if(t=null!=e?e.authResponse.accessToken:void 0)return this.eventHelper.event("fb:connect:start"),this.$http.post("/user/rpc",{ct_rpc_action:"facebook_connect",facebook_access_token:t}).then(function(e){return function(t){return e.eventHelper.event("fb:connect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("fb:connect:error"))?n(t):void 0}}(this))},t.prototype.disconnectFbAccount=function(e){var t,n,r;return null==e&&(e={}),n=e.password,t=e.confirm,r={ct_rpc_action:"facebook_disconnect"},n&&t&&(r.password=n,r.confirm_password=t),this.eventHelper.event("fb:disconnect:start"),this.$http.post("/user/rpc",r).then(function(e){return function(t){return e.eventHelper.event("fb:disconnect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("fb:disconnect:error"))?n():void 0}}(this))},t.prototype.connectPinterestAccount=function(e){var t;if(null!=(null!=e?e.code:void 0))return t=angular.copy(e),t.ct_rpc_action="pinterest_connect",this.eventHelper.event("pin:connect:start"),this.$http.post("/user/rpc",t).then(function(e){return function(t){return e.eventHelper.event("pin:connect:success",t.data),e.reloadUser(),t.data}}(this)).error(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("pin:connect:error"))?n(t.data):void 0}}(this));this.$log.error("[UserService] Did not receive valid pinterest data:"),this.$log.error(e)},t.prototype.disconnectPinterestAccount=function(e){var t,n,r;return null==e&&(e={}),n=e.password,t=e.confirm,r={ct_rpc_action:"pinterest_disconnect"},n&&t&&(r.password=n,r.confirm_password=t),this.eventHelper.event("pin:disconnect:start"),this.$http.post("/user/rpc",r).then(function(e){return function(t){return e.eventHelper.event("pin:disconnect:success",t.data),e.reloadUser(),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("pin:disconnect:error"))?n(t.data):void 0}}(this))},t.prototype.reloadUser=function(){return this.request(this.slashRequestStructure()).then(function(e){return function(t){var n,r,i;return e.user.loadSession(null!=t&&null!=(n=t.data)&&null!=(r=n.model_data)&&null!=(i=r.user)?i.me[0]:void 0)}}(this))},t.prototype.verifyAddress=function(e){return this.$http.post("/address-verify",e).then(function(e){return function(t){return e.eventHelper.event("verify:address:success",t.data),t.data}}(this)).catch(function(e){return function(t){var n;return"function"==typeof(n=e.errHelper.event("verify:address:error"))?n():void 0}}(this))},t.prototype.slashRequestStructure=function(){return{model_data:{user:{me:{properties:r(this.user.properties),query:{type:"me"}}}}}},t.prototype._onLoginSuccess=function(e,t){var n;return n=function(t){return function(){return t.user.loadSession({loggedIn:!0}),e.resolve(!0)}}(this),null!=t.redirect_url?this.$http.get(t.redirect_url).then(n).catch(n):(null==t.twitter_oauth_token&&null==t.user_info&&this.user.loadSession({loggedIn:!0}),e.resolve(t)),e.promise},t}(),n.$inject=["$http","$q","ctUser","ctWidgetEventHelper","errorService","slashRequest","$log","$timeout","ctClient"],n})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/reward_service",["require","has"],function(t){var n;return t("has"),n=function(){function t(t,n,r,i,o,a){this.$http=t,this.$q=n,this.userSrvc=r,this.eventHelper=i,this.errHelper=o,this.request=a,this.checkZipCode=e(this.checkZipCode,this),this.redeem=e(this.redeem,this)}return t.prototype.redeem=function(e,t,n){var r;return null==n&&(n=null),r={ct_rpc_action:"redeem",id:e.id,order_quantity:parseInt(t,10)},null!=n&&(r.ship_info=n),this.$http.post("/reward/rpc",r).then(function(e){return function(t){return e.userSrvc.reloadUser(),t.data}}(this))},t.prototype.checkZipCode=function(e){return this.$http.post("/address-finder",e)},t}(),n.$inject=["$http","$q","userService","ctWidgetEventHelper","errorService","slashRequest"],n})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/upload_service",["require","has"],function(t){var n;return t("has"),n=function(){function t(t,n,r,i,o,a){this.$http=t,this.$q=n,this.userSrvc=r,this.eventHelper=i,this.errHelper=o,this.request=a,this.uploadImage=e(this.uploadImage,this)}return t.prototype.uploadImage=function(e){var t;return t=new FormData,t.append("ct_rpc_action","receipt_image_upload"),t.append("upload",e),this.$http.post("/user/rpc",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e},function(e){return e})},t}(),n.$inject=["$http","$q","userService","ctWidgetEventHelper","errorService","slashRequest"],n})}.call(this),function(){define("app/fan_club/utilities/errors",["require"],function(e){var t,n,r,i;return n={"cpg already redeemed":"error.cpg already redeemed","cpg freq cap exceeded":"error.purchased consumer goods freq cap exceeded","external age service unavailable":"error.external age service unavail",hh_already_in_household:"error.member already in household",hh_max_household_size_exceeded:"error.household max size exceeded",hh_not_supported:"error.household update not allowed",internal:"error.internal","invalid cpg code":"error.cpg invalid code","invalid credentials":"error.invalid credentials","invalid email verification token":"error.invalid email verification token","invalid receipt":"error.claim_invalid_receipt","invalid survey submit data":"error.survey data submission invalid",redeem_resource_busy:"error.redeem resource busy",redeem_reward_locked:"error.redeem reward is locked","server busy":"error.server busy",surv_question_response_mismatch:"error.survey answer all questions",surv_question_response_exceeded_max_length:"error.survey answer max length exceeded experian","too many failed login attempts":"error.too many failed login attempts",twitter_exception:"error.twitter_exception","user already claimed":"error.claim_user_already_claimed","invalid address":"error.invalid address"},r={batch_code_1:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},batch_code_2:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},best_by_date:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required","invalid cpg date format":"error.invalid_cpg_date"},bottle_number:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},state:{required:"error.state required"},city:{required:"error.city required"},city_id:{"city not in country":"error.city not in country",invalid:"error.city invalid",required:"error.city required"},country:{required:"error.country required"},country_id:{invalid:"error.country invalid",required:"error.country required",country_in_us:"error.country in us"},cpg_redeem_details:{invalid:"error.this_field_is_invalid","cpg missing details":"error.cpg missing details"},phone_number:{required:"error.phone number required"},mobile_phone_number:{required:"error.mobile phone number required",invalid:"error.mobile phone number invalid",taken:"error.mobile phone number taken",mismatch:"error.mobile phone number mismatch",locked:"error.mobile phone number locked"},street_address_1:{required:"error.street address 1 required",invalid:"error.street address invalid","max length exceeded":"error.street address max length exceeded","max length exceeded experian":"error.street address max length exceeded experian"},street_address_2:{invalid:"error.street address invalid","max length exceeded":"error.street address max length exceeded"},facebook_user_id:{taken:"error.facebook id taken"},foursquare_user_id:{taken:"error.foursquare id taken"},instagram_user_id:{taken:"error.instagram id taken"},date_of_birth:{invalid:"error.date of birth invalid",required:"error.date of birth required",under_age:"error.date of birth under age"},date_purchased:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required","incorrect date format":"error.claim_incorrect_date_format"},email_address:{invalid:"error.email address invalid","domain is invalid":"error.email address invalid",required:"error.email address required",taken:"error.email address taken"},confirm_email_address:{required:"error.email address required",mismatch:"error.email address mismatch"},first_name:{required:"error.first name required",invalid:"error.name invalid","invalid experian":"error.first name invalid experian","max length exceeded experian":"error.name max length exceeded experian"},full_name:{invalid:"error.name invalid",required:"error.name required","first and last required":"error.name first and last required"},gender:{required:"error.gender required"},last_name:{required:"error.last name required",invalid:"error.name invalid","invalid experian":"error.last name invalid experian","max length exceeded experian":"error.name max length exceeded experian"},password:{invalid:"error.password incorrect",mismatch:"error.password mismatch",required:"error.password required","too weak":"error.password is too weak"},product_code:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},confirm_password:{required:"error.confirm password required",mismatch:"error.password mismatch"},old_password:{required:"error.old password required",incorrect_password:"error.old password incorrect"},postal_code:{invalid:"error.postal code invalid",required:"error.postal code required",state_restricted:"error.postal code restricted"},receipt_number:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},receipt_total:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required","value is not number":"error.value is not number"},store_number:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},terms_of_service:{required:"error.tos required"},twitter_user_id:{taken:"error.twitter id taken"},upc:{invalid:"error.this_field_is_invalid",required:"error.this_field_is_required"},username:{banned:"error.username banned",invalid:"error.username invalid",required:"error.username required",taken:"error.username taken"},order_quantity:{invalid:"error.redeem limit reached",sold_out:"error.reward sold out"},reward_category_max_points:{invalid:"error.reward category point cap reached"}},t=function(e){return"'"===(null!=e?e.charAt(0):void 0)&&"'"===(null!=e?e.charAt((null!=e?e.length:void 0)-1):void 0)},i=function(e,t){switch(e){case"continent_id":return!0;default:return!1}},{propertyError:function(e,n){var o,a,s,c,u;null==n&&(n=null),n=n||window.t.getKey,s={};for(a in e)if(o=e[a],!i(a,o)){if(t(o))return o.match(/^'(.+)'$/)[1];(c=null!=(u=r[a])?u[o]:void 0)?s[a]=n(c):(console.error("No error found for property: "+a+", code: "+o+"."),s[a]=n("error.unknown"))}return s},modelError:function(e,r){var i;return r=null!=r?r:window.t.getKey,t(e)?e.match(/^'(.+)'$/)[1]:(i=null!=n?n[e]:void 0)?r(i):(console.warn("No text key exists for model error code: "+e),r("error.unknown"))}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/error_service",["require","app/fan_club/utilities/errors"],function(t){var n,r,i,o;return r=t("app/fan_club/utilities/errors"),o=r.propertyError,i=r.modelError,n=function(){function t(t,n){this.ctText=t,this.helper=n,this.event=e(this.event,this)}return t.prototype.event=function(e,t){var n,r;return null==t&&(t="up"),n=this.ctText,r=this.helper,function(a){var s,c,u,l,d,p,f,h,g,m,v,y,w;if(s={},(p=null!=a&&null!=(h=a.data)&&null!=(g=h.exception)?g.properties:void 0)?u=o(p,n.get):(d=null!=a&&null!=(m=a.data)&&null!=(v=m.exception)?v.model:void 0)?u=i(d,n.get):(p=null!=a&&null!=(y=a.exception)?y.properties:void 0)?u=o(p,n.get):(d=null!=a&&null!=(w=a.exception)?w.model:void 0)&&(u=i(d,n.get)),angular.isObject(u)){c=[];for(l in u)(f=u[l])&&c.push(f);s={message:c.shift()}}else angular.isString(u)&&(s={message:u});return null==(null!=s?s.message:void 0)&&(s.message=n.get("error.unknown")),s.response=a,r.event(e,s,t)}},t.prototype.down=function(e){return this.event(e,"down")},t.prototype.up=function(e){return this.event(e,"up")},t}(),n.$inject=["ctText","ctWidgetEventHelper"],n})}.call(this),function(){define("app/common/slash_request_service/slash_request",["require","has"],function(e){var t;return e("has"),t=function(e){return function(t,n){var r;return r=n?"?widgetId="+n:"",e.post("/request"+r,t)}},t.$inject=["$http"],t})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/widget_bus",["require"],function(t){var n,r,i,o;return o={},i={},r=function(e){return e},n=function(t,n,a){return new(function(){function s(){this._onMessage=e(this._onMessage,this),null!=a.addEventListener?a.addEventListener("message",this._onMessage):a.attachEvent("message",this._onMessage),t.out("all",function(e){return function(t,n,r){var o;if(o=i[r.eventName])return e.dispatch(o(r))}}(this))}return s.prototype._onMessage=function(e){var r,i,a,s;try{if(s=JSON.parse(e.data),(i=null!=s?s.eventName:void 0)&&(r=parseInt((null!=s?s.widgetId:void 0)||0,10),a=parseInt(n.widgetId,10),"all"!==o[i]&&("mine"!==o[i]||r!==a)))return t.down(s.eventName,s.eventData)}catch(e){e}},s.prototype.forward=function(e,t){var n;return null==t&&(t=null),n=angular.isObject(t)?function(e){return angular.extend(e,t)}:angular.isFunction(t)?t:r,i[e]=n,function(){return delete i[e]}},s.prototype.ignore=function(e){return o[e]="all",function(){return delete o[e]}},s.prototype.ignoreMine=function(e){return o[e]="mine",function(){return delete o[e]}},s.prototype.dispatch=function(e,t){var r,i,o;if(null==t&&(t="*"),e)return r=parseInt(null!=(i=n.widgetId)?i:0,10),null!=r&&(e.widgetId=r),e.version=window.version,null!=a&&null!=(o=a.parent)?o.postMessage(JSON.stringify(e),t):void 0},s}())},n.$inject=["ctWidgetEventHelper","$stateParams","$window"],n})}.call(this),function(){define("app/common/widget_conf",["require","has"],function(e){var t;return e("has"),t=function(){function e(e){this.$log=e}return e.prototype.load=function(e){var t,n,r;r=[];for(t in e)n=e[t],r.push(this[t]=n);return r},e}(),t.$inject=["$log"],t})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/common/logged_out/v1/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={page_data:{text:["title.sign up","text.landing page already member","button.landing page sign up","button.log in"]}},n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){define("app/common/logged_out/v1/logged_out",["require","app/common/logged_out/v1/config"],function(e){var t,n,r,i,o;return n=e("app/common/logged_out/v1/config"),t=1,i=function(e){var t;return t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t),t},o=function(e,t,n,r){var i,o;return null==r&&(r="signup"),i=encodeURIComponent("//"+t.location.hostname+"/widgets/t/sign-up/0/"+r+"/#1"),o="/widgets/c?type=signup&id=0&data="+i,null!=n&&(o+="&_cts_="+n),e.open({url:o,width:400,height:600})},r=function(e,r,a,s,c,u){return{restrict:"AE",transclude:!0,controller:"ctWidget",require:"ctLoggedOut",templateUrl:"/app/common/logged_out/v1/logged_out.html",scope:{logOutState:"=ctLoggedOut"},link:function(e,l,d,p){var f,h,g,m,v;return g=[],"onboarding"===(null!=(m=e.logOutState)?m.type:void 0)&&((h=null!=(v=e.logOutState)?v.cssUrl:void 0)&&(f=i(h)),u.instantiate(n).load()),g.push(s.out("continue:signup",function(e){var n;return n=e.inviteFriendsCode,r.isSafari()?o(a,c,n):s.up("modal:open",{state:"sign-up",stateParams:{state:"signup"},version:t,width:350})})),g.push(s.out("continue:login",function(e){var n;return n=e.inviteFriendsCode,r.isSafari()?o(a,c,n,"login"):s.up("modal:open",{state:"sign-up",stateParams:{state:"login"},version:t,width:350})})),e.$on("$destroy",function(){var e,t,n,r;for(null!=f&&document.head.removeChild(f),r=[],t=0,n=g.length;t<n;t++)e=g[t],r.push(e());return r})}}},r.$inject=["ctUser","ctBrowserDetect","ctPopup","ctWidgetEventHelper","$window","$injector"],r})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define("app/common/logged_out/v2/config",["require","app/common/slash_request_config/abstract"],function(e){var n;return n=e("app/common/slash_request_config/abstract"),function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.config={page_data:{text:["title.sign up","text.landing page already member","button.landing page sign up","button.log in"]}},n.prototype.validate=function(e){return!0},n}(n)})}.call(this),function(){define("app/common/logged_out/v2/logged_out",["require","app/common/logged_out/v2/config"],function(e){var t,n,r,i,o;return n=e("app/common/logged_out/v2/config"),t=2,i=function(e){var t;return t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t),t},o=function(e,t,n,r){var i,o;return null==r&&(r="signup"),i=encodeURIComponent("//"+t.location.hostname+"/widgets/t/sign-up/0/"+r+"/#2"),o="/widgets/c?type=signup&id=0&data="+i,null!=n&&(o+="&_cts_="+n),e.open({url:o,width:400,height:600})},r=function(e,r,a,s,c,u){return{restrict:"AE",transclude:!0,controller:"ctWidget",require:"ctLoggedOutV2",templateUrl:"/app/common/logged_out/v2/logged_out.html",scope:{logOutState:"=ctLoggedOutV2"},link:function(e,l,d,p){var f,h,g,m,v;return g=[],"onboarding"===(null!=(m=e.logOutState)?m.type:void 0)&&((h=null!=(v=e.logOutState)?v.cssUrl:void 0)&&(f=i(h)),u.instantiate(n).load()),g.push(s.out("continue:signup",function(e){var n;return n=e.inviteFriendsCode,r.isSafari()?o(a,c,n):s.up("modal:open",{state:"sign-up",stateParams:{state:"signup"},version:t,width:350})})),g.push(s.out("continue:login",function(e){var n;return n=e.inviteFriendsCode,r.isSafari()?o(a,c,n,"login"):s.up("modal:open",{state:"sign-up",stateParams:{state:"login"},version:t,width:350})})),e.$on("$destroy",function(){var e,t,n,r;for(null!=f&&document.head.removeChild(f),r=[],t=0,n=g.length;t<n;t++)e=g[t],r.push(e());return r})}}},r.$inject=["ctUser","ctBrowserDetect","ctPopup","ctWidgetEventHelper","$window","$injector"],r})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/household_service",["require"],function(t){var n;return n=function(){function t(t){this.$http=t,this.removeMember=e(this.removeMember,this),this.updateInvite=e(this.updateInvite,this),this.inviteMembers=e(this.inviteMembers,this),this.getHistories=e(this.getHistories,this),this.respondToInvite=e(this.respondToInvite,this),this.updateHouseholdName=e(this.updateHouseholdName,this),this.leaveHousehold=e(this.leaveHousehold,this),this.deleteHousehold=e(this.deleteHousehold,this),this.createHousehold=e(this.createHousehold,this)}var n;return n="/household/rpc",t.prototype.createHousehold=function(e){return this.$http.post(n,{ct_rpc_action:"household_create",name:e.name,invites:e.invites}).then(function(e){return function(e){return e.data}}())},t.prototype.deleteHousehold=function(e){return this.$http.post(n,{ct_rpc_action:"household_delete",householdId:e}).then(function(e){return function(e){return e.data}}())},t.prototype.leaveHousehold=function(e){return this.$http.post(n,{ct_rpc_action:"household_leave",householdId:e}).then(function(e){return function(e){return e.data}}())},t.prototype.updateHouseholdName=function(e,t){return this.$http.post(n,{ct_rpc_action:"household_update",householdId:e,updatedName:t}).then(function(e){return function(e){return e.data}}())},t.prototype.respondToInvite=function(e,t){return this.$http.post(n,{ct_rpc_action:"household_update_invite",householdId:e.householdId,invitationId:e.id,invitationStatus:t}).then(function(e){return function(e){return e.data}}())},t.prototype.getHistories=function(e,t,n,r){return this.$http.post("/household/rpc",{ct_rpc_action:"household_get_history",householdId:e,historyType:t,pageNum:n,pageSize:r}).then(function(e){return function(e){return e.data}}())},t.prototype.inviteMembers=function(e,t){return this.$http.post("/household/rpc",{ct_rpc_action:"household_invite_members",householdId:e,invites:t})},t.prototype.updateInvite=function(e,t,n){return this.$http.post("household/rpc",{ct_rpc_action:"household_update_invite",householdId:e,invitationId:t,invitationStatus:n}).then(function(e){return function(e){return e.data}}())},t.prototype.removeMember=function(e){return this.$http.post("household/rpc",{ct_rpc_action:"household_remove_user",remove_user_id:e}).then(function(e){return function(e){return e.data}}())},t}(),n.$inject=["$http"],n})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("app/common/questionnaire_service",["require","has"],function(t){var n;return t("has"),n=function(){function t(t,n,r,i,o,a){this.$http=t,this.$q=n,this.userSrvc=r,this.eventHelper=i,this.errHelper=o,this.request=a,this.submitQuestionnaire=e(this.submitQuestionnaire,this)}return t.prototype.submitQuestionnaire=function(e,t,n){return this.$http.post("/questionnaire/rpc",{ct_rpc_action:"questionnaire_submit",answers:e,questionnaire_id:t,questionnaire_type:n}).then(function(e){return function(t){return e.userSrvc.reloadUser(),t.data}}(this))},t}(),n.$inject=["$http","$q","userService","ctWidgetEventHelper","errorService","slashRequest"],n})}.call(this),function(){define("application",["require","app/widgets_config","jquery","ct-widgets","angular","uiRouter","has","lodash","app/common/case_service","app/common/user_service","app/common/reward_service","app/common/upload_service","app/common/error_service","app/common/slash_request_service/slash_request","app/common/widget_bus","app/common/widget_conf","app/common/logged_out/v1/logged_out","app/common/logged_out/v2/logged_out","app/common/household_service","app/common/questionnaire_service"],function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y;return y=e("app/widgets_config"),p=function(e,t,n,r){var i,o,a;return null==r&&(r=!0),i=y[t],a=i.requiredStates,delete i.requiredStates,"with-logged-out"===t||"sign-up"===t?(o=Math.min(n,Math.max.apply(null,Object.keys(i.controller))),i.controller=i.controller[o],i.templateUrl=i.templateUrl.replace(/:version/,"v"+o)):(i.controller=i.controller[n],i.templateUrl=i.templateUrl.replace(/:version/,"v"+n)),e.state(t,i),a.forEach(function(t){if(r)return p(e,t,n)})},d=function(e,t){var n,r;r=[];for(n in y)y[n],"with-logged-out"!==n&&"sign-up"!==n&&"reset-password"!==n?r.push(p(e,n,t,!1)):r.push(void 0);return r},e("jquery"),e("ct-widgets"),t=e("angular"),e("uiRouter"),
e("has"),s=e("lodash"),n=e("app/common/case_service"),g=e("app/common/user_service"),l=e("app/common/reward_service"),h=e("app/common/upload_service"),o=e("app/common/error_service"),f=e("app/common/slash_request_service/slash_request"),m=e("app/common/widget_bus"),v=e("app/common/widget_conf"),r=e("app/common/logged_out/v1/logged_out"),i=e("app/common/logged_out/v2/logged_out"),a=e("app/common/household_service"),u=e("app/common/questionnaire_service"),c=t.module("ct.widgets.app",["ct.widgets.app.templates","ui.router","ct.widgets"]),c.constant("_",s),c.service("CaseService",n),c.service("userService",g),c.service("rewardService",l),c.service("uploadService",h),c.service("errorService",o),c.service("slashRequest",f),c.service("widgetBus",m),c.service("widgetConf",v),c.service("householdService",a),c.service("questionnaireService",u),c.directive("ctLoggedOut",r),c.directive("ctLoggedOutV2",i),c.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){var r,i,o,a,s,c;return n.html5Mode(!0).hashPrefix("!"),t.rule(function(e,t){var n,r,i,o,a;if(i=t.path(),o=t.search(),"/"!==i.charAt(i.length-1)){if(o==={})return i+"/";r=[];for(n in o)a=o[n],r.push(n+"="+a);return i+"/?"+r.join("&")}}),e.state("require-logged-in",{abstract:!0,url:"",template:'<div><ui-view ng-if="user.loggedIn"></ui-view></div>',controller:["$scope","ctUser",function(e,t){return e.user=t}]}),i=null!=(o=window.widgetConf.widgetVersion)?o.value:void 0,null!=i?(window.version=i,window.location.hash="#"+i):i=parseInt(window.location.hash.replace(/#/,"")),isNaN(i)&&(i=1),r=(null!=(a=window.widgetConf)?a.type:void 0)||(null!=(s=window.widgetConf)&&null!=(c=s[0])?c.type:void 0),"sign-up"===r&&Array.isArray(window.widgetConf)&&window.widgetConf.length&&(window.widgetConf=window.widgetConf.filter(function(e){var t;return e.type===r&&(null!=(t=e.widgetVersion)?t.value:void 0)===i})[0]),p(e,"with-logged-out",i),"sign-up"!==r&&p(e,"sign-up",i),"reset-password"!==r&&p(e,"reset-password",1),null!=r?p(e,r,i):d(e,i)}]),c.config(["FacebookProvider",function(e){var t,n,r;if(window.programFeatConf.enableFbLogin||e.setLoadSDK(!1),e.setStatus(!1),e.setXfbml(!1),e.setSdkVersion("v2.6"),e.init("186114821401649"),null!=(t=null!=(n=window.widgetConf)&&null!=(r=n.client)?r.facebookAppId:void 0))return e.init(t)}]),c.run(["ctUser",function(e){return e.loadSession(window.session)}]),c.run(["ctTheme",function(e){return e.loadTheme(window.theme)}]),c.run(["widgetConf",function(e){return e.load(window.widgetConf)}]),c.run(["widgetBus","$state","$stateParams",function(e,t,n){var r;return r={},e.ignore("resize"),e.ignore("modal:open"),e.ignore("modal:close"),e.ignore("widget:load"),e.ignore("widget:remove"),e.ignoreMine("user:update"),e.ignoreMine("user:clear"),e.forward("session:active"),e.forward("signin:complete"),e.forward("registration:complete"),e.forward("user:update"),e.forward("user:clear"),e.forward("modal:open"),e.forward("modal:close"),e.forward("widget:load"),e.forward("widget:remove"),e.forward("navigate"),e.forward("host:request"),e.forward("code:redeemed"),e.forward("reward:redeemed"),e.forward("resize",function(e){var t,i;return t=parseInt(null!=(i=n.widgetId)?i:0,10),r[t]!==e.eventData.height&&(r[t]=e.eventData.height,e)}),e.forward("modal:open",function(e){var n,r,i,o,a;return a=null!=(o=e.eventData)?o:{},n=a.state,r=a.stateParams,n&&(i=t.href(n,r,{absolute:!0}))&&(e.eventData.src=i),e})}]),c.run(["ctUser",function(e){return e.checkSession(window.session)}]),c.run(["$injector",function(e){var t;return e.get("widgetBus"),t=e.get("ctWidgetEventHelper"),g=e.get("userService"),t.out("do:login",function(e,n){return g.login(e).then(function(n){var r;return null!=(null!=n?n.pinterest_auth_token:void 0)?t.down("pinterest:reg:success",n):null!=(null!=n?n.user_info:void 0)?t.down("google:reg:success",n):null!=(null!=n?n.twitter_oauth_token:void 0)?t.down("twit:reg:success",n):t.event("user:update",!0),r={type:"Sign In",method:e.type,username:e.username},t.event("signin:complete",r)},function(n){var r;if(null!=(r=n.exception))return r.request=e,t.down("login:error",r)})}),t.out("do:logout",function(e,n){return g.logout().then(function(){return t.event("user:clear")})}),t.out("fb:connect:done",function(e){if(e.accessToken)return g.connectFbAccount(e.accessToken)}),t.out("do:signup",function(e,n){return g.signup(e).then(function(){var n;return t.event("user:update",{loggedIn:!0}),n={type:"Registration",method:e.sign_up_type,email:e.email_address,firstName:e.first_name,lastName:e.last_name,username:e.username},t.event("registration:complete",n)},function(n){var r;if(null!=(r=n.exception))return r.request=e,t.down("signup:error",r)})}),t.out("do:user:validate",function(e,n){return g.validateUser(e).then(function(){return t.down("user:validate:success",!0)},function(n){var r,i;if(null!=(r=null!=(i=n.data)?i.exception:void 0))return r.request=e,t.down("user:validate:error",r)})}),t.out("do:user:sendForgotPasswordEmail",function(e){var n;return n=e.email,g.sendForgotPasswordEmail(n).then(function(){return t.down("user:sendForgotPasswordEmail:success")},function(e){return t.down("user:sendForgotPasswordEmail:error",null!=e?e.data:void 0)})}),t.out("do:user:unsubscribeEmail",function(e){var n;return n=e.code,g.unsubscribeEmail(n).then(function(){return t.down("user:unsubscribeEmail:success")},function(e){return t.down("user:unsubscribeEmail:error",null!=e?e.data:void 0)})}),t.out("do:user:verifyEmail",function(e){var n;return n=e.code,g.verifyEmail(n).then(function(){return t.down("user:verifyEmail:success")},function(e){return t.down("user:verifyEmail:error",null!=e?e.data:void 0)})})}]),c.config(["$httpProvider",function(e){return e.interceptors.push(["$q",function(e){return{responseError:function(t){var n;return 300===(n=t.status)||301===n||302===n?t||e.when(t):e.reject(t)}}}]),e.defaults.headers.common["X-CT-APP"]="widget"}]),t.element(document).ready(function(){var e;try{return t.bootstrap(document,["ct.widgets.app"])}catch(t){return e=t,console.error(e.stack||e.message||e)}}),c.rootEl=document,c})}.call(this),function(){require.config({baseUrl:"../",paths:{application:"app/app",almond:"vendor/almond/almond",jquery:"vendor/jquery/jquery",angular:"vendor/angular/angular",uiRouter:"vendor/angular-ui-router/release/angular-ui-router",lodash:"vendor/lodash/lodash.min","ct-widgets":"vendor/ct-widgets/ct-widgets",has:"vendor/has/has",injector:"app/common/injector"},shim:{angular:{deps:["jquery"],exports:"angular"},uiRouter:{deps:["angular"]},has:{exports:"has"},"ct-widgets":{deps:["angular"]},"app/templates":{deps:["angular"]},lodash:{exports:"_"}}}),require(["has"],function(e){return e.add("ct-debug",function(){return!0})}),require(["application"])}.call(this),define("app/main",function(){}),angular.module("ct.widgets.app.templates",[]).run(["$templateCache",function(e){e.put("/app/common/logged_out/v1/logged_out.html",'\n<div ng-switch="logOutState.type">\n  <div ct-registration="ct-registration" log-out-state="logOutState" ng-switch-when="onboarding"></div>\n  <div ng-switch-default=""></div>\n</div>'),e.put("/app/common/logged_out/v1/state_template.html",'\n<div>\n  <ui-view ng-if="user.loggedIn"></ui-view>\n  <div ct-logged-out="logOutState" ng-if="!user.loggedIn"></div>\n</div>'),e.put("/app/common/logged_out/v2/logged_out.html",'\n<div ng-switch="logOutState.type">\n  <div ct-registration-v2="ct-registration-v2" log-out-state="logOutState" ng-switch-when="onboarding"></div>\n  <div ng-switch-default=""></div>\n</div>'),e.put("/app/common/logged_out/v2/state_template.html",'\n<div>\n  <ui-view ng-if="user.loggedIn"></ui-view>\n  <div ct-logged-out-v2="logOutState" ng-if="!user.loggedIn"></div>\n</div>'),e.put("/app/widgets/account_overview/v1/account_overview.html",'\n<div ct-account-overview="ct-account-overview" fan-levels="fanLevels"></div>'),e.put("/app/widgets/account_overview/v2/account_overview.html",'\n<div ct-account-overview-v2="ct-account-overview-v2" fan-levels="fanLevels"></div>'),e.put("/app/widgets/account_overview_two/v1/account_overview_two.html",'\n<div ct-account-overview-two="ct-account-overview-two" tier-conf="tierConf"></div>'),e.put("/app/widgets/account_overview_two/v2/account_overview_two.html",'\n<div ct-account-overview-two-v2="ct-account-overview-two-v2" tier-conf="tierConf"></div>'),e.put("/app/widgets/account_settings/v1/account_settings.html",'\n<div ct-account-settings="ct-account-settings"></div>'),e.put("/app/widgets/activity_history/v1/activity_history.html",'\n<div ct-activity-history="ct-activity-history" activities="activities"></div>'),e.put("/app/widgets/activity_history/v2/activity_history.html",'\n<div ct-activity-history-v2="ct-activity-history-v2" activities="activities"></div>'),e.put("/app/widgets/activity_list/v1/activity_list.html",'\n<div ct-activity-list="ct-activity-list" tier-conf="tierConf" activities="activities"></div>'),e.put("/app/widgets/activity_list/v2/activity_list.html",'\n<div ct-activity-list-v2="ct-activity-list-v2" tier-conf="tierConf" activities="activities"></div>'),e.put("/app/widgets/additional_info/v1/additional_info.html",'\n<div ct-additional-info="ct-additional-info" activities="activities"></div>'),e.put("/app/widgets/additional_info/v2/additional_info.html",'\n<div ct-additional-info-v2="ct-additional-info-v2" activities="activities"></div>'),e.put("/app/widgets/claim_purchase/v1/claim_purchase.html",'\n<div ct-claim-purchase="ct-claim-purchase" claim-config="claimConfig"></div>'),e.put("/app/widgets/code_redemption/v1/code_redemption.html",'\n<div ct-code-redemption="ct-code-redemption" campaign="campaign" tier-conf="tierConf"></div>'),e.put("/app/widgets/code_redemption/v2/code_redemption.html",'\n<div ct-code-redemption-v2="ct-code-redemption-v2" campaign="campaign" tier-conf="tierConf"></div>'),e.put("/app/widgets/email_verification/v1/email_verification.html",'\n<div ct-email-verification="ct-email-verification"></div>'),e.put("/app/widgets/household/v2/household.html",'\n<div ct-household-v2="ct-household-v2" household="household" pending-invites="pendingInvites" declined-invites="declinedInvites"></div>'),e.put("/app/widgets/invite_friends/v1/invite_friends.html",'\n<div ct-invite-friends="ct-invite-friends" activities="activities"></div>'),e.put("/app/widgets/invite_friends/v2/invite_friends.html",'\n<div ct-invite-friends-v2="ct-invite-friends-v2" activities="activities"></div>'),e.put("/app/widgets/points_expiration/v1/points_expiration.html",'\n<div ct-points-expiration="ct-points-expiration"></div>'),e.put("/app/widgets/points_expiration/v2/points_expiration.html",'\n<div ct-points-expiration-v2="ct-points-expiration-v2"></div>'),e.put("/app/widgets/poll/v2/poll.html",'\n<div ct-poll-v2="ct-poll-v2" poll="poll" user-response="userResponse" tier-conf="tierConf" stats="stats"></div>'),e.put("/app/widgets/purchase_history/v1/purchase_history.html",'\n<div ct-purchase-history="ct-purchase-history" orders="orders"></div>'),e.put("/app/widgets/purchase_history/v2/purchase_history.html",'\n<div ct-purchase-history-v2="ct-purchase-history-v2" orders="orders" tier-conf="tierConf" commerce-conf="commerceConf" use-currency-codes="useCurrencyCodes"></div>'),e.put("/app/widgets/quiz/v2/quiz.html",'\n<div ct-quiz-v2="ct-quiz-v2" quiz="quiz" user-response="userResponse" tier-conf="tierConf"></div>'),e.put("/app/widgets/redeem/v1/redeem.html",'\n<div ct-redeem="ct-redeem" reward="reward"></div>'),e.put("/app/widgets/redeem/v2/redeem.html",'\n<div ct-redeem-v2="ct-redeem-v2" reward="reward"></div>'),e.put("/app/widgets/reset_password/v1/reset_password.html",'\n<div ct-reset-password="ct-reset-password"></div>'),e.put("/app/widgets/reward_history/v1/reward_history.html",'\n<div ct-reward-history="ct-reward-history" rewards="rewards"></div>'),e.put("/app/widgets/reward_history/v2/reward_history.html",'\n<div ct-reward-history-v2="ct-reward-history-v2" rewards="rewards"></div>'),e.put("/app/widgets/reward_list/v1/reward_list.html",'\n<div ct-reward-list="ct-reward-list" rewards="rewards"></div>'),e.put("/app/widgets/reward_list/v2/reward_list.html",'\n<div ct-reward-list-v2="ct-reward-list-v2" rewards="rewards"></div>'),e.put("/app/widgets/sign_up/v1/sign_up.html",'\n<div ct-sign-up="ct-sign-up" state-query="stateQuery"></div>'),e.put("/app/widgets/sign_up/v2/sign_up.html",'\n<div ct-sign-up-v2="ct-sign-up-v2" state-query="stateQuery"></div>'),e.put("/app/widgets/social_connect/v1/social_connect.html",'\n<div ct-social-connect="ct-social-connect" point-values="pointValues"></div>'),e.put("/app/widgets/social_connect/v2/social_connect.html",'\n<div ct-social-connect-v2="ct-social-connect-v2" point-values="pointValues"></div>'),e.put("/app/widgets/social_set_pw/v1/social_set_pw.html",'\n<div ct-social-set-pw="ct-social-set-pw" type="type"></div>'),e.put("/app/widgets/social_set_pw/v2/social_set_pw.html",'\n<div ct-social-set-pw-v2="ct-social-set-pw-v2" type="type"></div>'),e.put("/app/widgets/subscribe_to_emails/v1/subscribe_to_emails.html",'\n<div ct-subscribe-to-emails="ct-subscribe-to-emails" activity="activity"></div>'),e.put("/app/widgets/subscribe_to_emails/v2/subscribe_to_emails.html",'\n<div ct-subscribe-to-emails-v2="ct-subscribe-to-emails-v2" activity="activity"></div>'),e.put("/app/widgets/survey/v1/survey.html",'\n<div ct-survey="ct-survey" survey="survey" tier-conf="tierConf"></div>'),e.put("/app/widgets/survey/v2/survey.html",'\n<div ct-survey-v2="ct-survey-v2" survey="survey" tier-conf="tierConf"></div>'),e.put("/app/widgets/survey/v3/survey.html",'\n<div ct-survey-v3="ct-survey-v3" survey="survey" user-response="userResponse" tier-conf="tierConf"></div>'),e.put("/app/widgets/unsubscribe/v1/unsubscribe.html",'\n<div ct-unsubscribe="ct-unsubscribe"></div>'),e.put("/app/widgets/upload_receipt/v1/upload_receipt.html",'\n<div ng-if="stateAllowsPurchase" ct-upload-receipt="ct-upload-receipt" receipts="receipts"></div>'),e.put("/app/widgets/upload_receipt/v2/upload_receipt.html",'\n<div ng-if="stateAllowsPurchase" ct-upload-receipt-v2="ct-upload-receipt-v2" receipts="receipts"></div>'),e.put("/app/widgets/variation_activity/v1/variation_activity.html",'\n<div ct-variation-activity="ct-variation-activity" activity="activity"></div>'),e.put("/app/widgets/variation_activity/v2/variation_activity.html",'\n<div ct-variation-activity-v2="ct-variation-activity-v2" activity="activity"></div>')}]),define("app/templates",["angular"],function(){}),require(["app/main"]);